(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();function Ad(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Tv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}),t}var zu={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Cv(){if(Hp)return Cl;Hp=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,l,c){var h=null;if(c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:i,type:a,key:h,ref:l!==void 0?l:null,props:c}}return Cl.Fragment=e,Cl.jsx=t,Cl.jsxs=t,Cl}var qp;function Nv(){return qp||(qp=1,zu.exports=Cv()),zu.exports}var o=Nv(),Hu={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Ev(){if(Gp)return je;Gp=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),_=Symbol.iterator;function A(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,E={};function q(C,I,J){this.props=C,this.context=I,this.refs=E,this.updater=J||M}q.prototype.isReactComponent={},q.prototype.setState=function(C,I){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,I,"setState")},q.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=q.prototype;function Q(C,I,J){this.props=C,this.context=I,this.refs=E,this.updater=J||M}var z=Q.prototype=new G;z.constructor=Q,D(z,q.prototype),z.isPureReactComponent=!0;var Y=Array.isArray;function ne(){}var W={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function ce(C,I,J){var F=J.ref;return{$$typeof:i,type:C,key:I,ref:F!==void 0?F:null,props:J}}function pe(C,I){return ce(C.type,I,C.props)}function Te(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function Ee(C){var I={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return I[J]})}var Ae=/\/+/g;function se(C,I){return typeof C=="object"&&C!==null&&C.key!=null?Ee(""+C.key):I.toString(36)}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(I){C.status==="pending"&&(C.status="fulfilled",C.value=I)},function(I){C.status==="pending"&&(C.status="rejected",C.reason=I)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function B(C,I,J,F,ue){var V=typeof C;(V==="undefined"||V==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(V){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case i:case e:be=!0;break;case b:return be=C._init,B(be(C._payload),I,J,F,ue)}}if(be)return ue=ue(C),be=F===""?"."+se(C,0):F,Y(ue)?(J="",be!=null&&(J=be.replace(Ae,"$&/")+"/"),B(ue,I,J,"",function(Fe){return Fe})):ue!=null&&(Te(ue)&&(ue=pe(ue,J+(ue.key==null||C&&C.key===ue.key?"":(""+ue.key).replace(Ae,"$&/")+"/")+be)),I.push(ue)),1;be=0;var Ie=F===""?".":F+":";if(Y(C))for(var de=0;de<C.length;de++)F=C[de],V=Ie+se(F,de),be+=B(F,I,J,V,ue);else if(de=A(C),typeof de=="function")for(C=de.call(C),de=0;!(F=C.next()).done;)F=F.value,V=Ie+se(F,de++),be+=B(F,I,J,V,ue);else if(V==="object"){if(typeof C.then=="function")return B(Ve(C),I,J,F,ue);throw I=String(C),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(C,I,J){if(C==null)return C;var F=[],ue=0;return B(C,F,"","",function(V){return I.call(J,V,ue++)}),F}function le(C){if(C._status===-1){var I=C._result;I=I(),I.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=I)}if(C._status===1)return C._result.default;throw C._result}var N=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},w={map:X,forEach:function(C,I,J){X(C,function(){I.apply(this,arguments)},J)},count:function(C){var I=0;return X(C,function(){I++}),I},toArray:function(C){return X(C,function(I){return I})||[]},only:function(C){if(!Te(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return je.Activity=S,je.Children=w,je.Component=q,je.Fragment=t,je.Profiler=l,je.PureComponent=Q,je.StrictMode=a,je.Suspense=y,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,je.__COMPILER_RUNTIME={__proto__:null,c:function(C){return W.H.useMemoCache(C)}},je.cache=function(C){return function(){return C.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(C,I,J){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var F=D({},C.props),ue=C.key;if(I!=null)for(V in I.key!==void 0&&(ue=""+I.key),I)!oe.call(I,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&I.ref===void 0||(F[V]=I[V]);var V=arguments.length-2;if(V===1)F.children=J;else if(1<V){for(var be=Array(V),Ie=0;Ie<V;Ie++)be[Ie]=arguments[Ie+2];F.children=be}return ce(C.type,ue,F)},je.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},je.createElement=function(C,I,J){var F,ue={},V=null;if(I!=null)for(F in I.key!==void 0&&(V=""+I.key),I)oe.call(I,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ue[F]=I[F]);var be=arguments.length-2;if(be===1)ue.children=J;else if(1<be){for(var Ie=Array(be),de=0;de<be;de++)Ie[de]=arguments[de+2];ue.children=Ie}if(C&&C.defaultProps)for(F in be=C.defaultProps,be)ue[F]===void 0&&(ue[F]=be[F]);return ce(C,V,ue)},je.createRef=function(){return{current:null}},je.forwardRef=function(C){return{$$typeof:p,render:C}},je.isValidElement=Te,je.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:le}},je.memo=function(C,I){return{$$typeof:g,type:C,compare:I===void 0?null:I}},je.startTransition=function(C){var I=W.T,J={};W.T=J;try{var F=C(),ue=W.S;ue!==null&&ue(J,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ne,N)}catch(V){N(V)}finally{I!==null&&J.types!==null&&(I.types=J.types),W.T=I}},je.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},je.use=function(C){return W.H.use(C)},je.useActionState=function(C,I,J){return W.H.useActionState(C,I,J)},je.useCallback=function(C,I){return W.H.useCallback(C,I)},je.useContext=function(C){return W.H.useContext(C)},je.useDebugValue=function(){},je.useDeferredValue=function(C,I){return W.H.useDeferredValue(C,I)},je.useEffect=function(C,I){return W.H.useEffect(C,I)},je.useEffectEvent=function(C){return W.H.useEffectEvent(C)},je.useId=function(){return W.H.useId()},je.useImperativeHandle=function(C,I,J){return W.H.useImperativeHandle(C,I,J)},je.useInsertionEffect=function(C,I){return W.H.useInsertionEffect(C,I)},je.useLayoutEffect=function(C,I){return W.H.useLayoutEffect(C,I)},je.useMemo=function(C,I){return W.H.useMemo(C,I)},je.useOptimistic=function(C,I){return W.H.useOptimistic(C,I)},je.useReducer=function(C,I,J){return W.H.useReducer(C,I,J)},je.useRef=function(C){return W.H.useRef(C)},je.useState=function(C){return W.H.useState(C)},je.useSyncExternalStore=function(C,I,J){return W.H.useSyncExternalStore(C,I,J)},je.useTransition=function(){return W.H.useTransition()},je.version="19.2.3",je}var Fp;function wd(){return Fp||(Fp=1,Hu.exports=Ev()),Hu.exports}var K=wd();const Av=Ad(K);var qu={exports:{}},Nl={},Gu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function wv(){return Yp||(Yp=1,(function(i){function e(B,X){var le=B.length;B.push(X);e:for(;0<le;){var N=le-1>>>1,w=B[N];if(0<l(w,X))B[N]=X,B[le]=w,le=N;else break e}}function t(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var X=B[0],le=B.pop();if(le!==X){B[0]=le;e:for(var N=0,w=B.length,C=w>>>1;N<C;){var I=2*(N+1)-1,J=B[I],F=I+1,ue=B[F];if(0>l(J,le))F<w&&0>l(ue,J)?(B[N]=ue,B[F]=le,N=F):(B[N]=J,B[I]=le,N=I);else if(F<w&&0>l(ue,le))B[N]=ue,B[F]=le,N=F;else break e}}return X}function l(B,X){var le=B.sortIndex-X.sortIndex;return le!==0?le:B.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var y=[],g=[],b=1,S=null,_=3,A=!1,M=!1,D=!1,E=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var X=t(g);X!==null;){if(X.callback===null)a(g);else if(X.startTime<=B)a(g),X.sortIndex=X.expirationTime,e(y,X);else break;X=t(g)}}function Y(B){if(D=!1,z(B),!M)if(t(y)!==null)M=!0,ne||(ne=!0,Ee());else{var X=t(g);X!==null&&Ve(Y,X.startTime-B)}}var ne=!1,W=-1,oe=5,ce=-1;function pe(){return E?!0:!(i.unstable_now()-ce<oe)}function Te(){if(E=!1,ne){var B=i.unstable_now();ce=B;var X=!0;try{e:{M=!1,D&&(D=!1,G(W),W=-1),A=!0;var le=_;try{t:{for(z(B),S=t(y);S!==null&&!(S.expirationTime>B&&pe());){var N=S.callback;if(typeof N=="function"){S.callback=null,_=S.priorityLevel;var w=N(S.expirationTime<=B);if(B=i.unstable_now(),typeof w=="function"){S.callback=w,z(B),X=!0;break t}S===t(y)&&a(y),z(B)}else a(y);S=t(y)}if(S!==null)X=!0;else{var C=t(g);C!==null&&Ve(Y,C.startTime-B),X=!1}}break e}finally{S=null,_=le,A=!1}X=void 0}}finally{X?Ee():ne=!1}}}var Ee;if(typeof Q=="function")Ee=function(){Q(Te)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,se=Ae.port2;Ae.port1.onmessage=Te,Ee=function(){se.postMessage(null)}}else Ee=function(){q(Te,0)};function Ve(B,X){W=q(function(){B(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(B){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var le=_;_=X;try{return B()}finally{_=le}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=_;_=B;try{return X()}finally{_=le}},i.unstable_scheduleCallback=function(B,X,le){var N=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?N+le:N):le=N,B){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=le+w,B={id:b++,callback:X,priorityLevel:B,startTime:le,expirationTime:w,sortIndex:-1},le>N?(B.sortIndex=le,e(g,B),t(y)===null&&B===t(g)&&(D?(G(W),W=-1):D=!0,Ve(Y,le-N))):(B.sortIndex=w,e(y,B),M||A||(M=!0,ne||(ne=!0,Ee()))),B},i.unstable_shouldYield=pe,i.unstable_wrapCallback=function(B){var X=_;return function(){var le=_;_=X;try{return B.apply(this,arguments)}finally{_=le}}}})(Fu)),Fu}var $p;function kv(){return $p||($p=1,Gu.exports=wv()),Gu.exports}var Yu={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Mv(){if(Kp)return Yt;Kp=1;var i=wd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:g,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(y,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,b)},Yt.flushSync=function(y){var g=h.T,b=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=g,a.p=b,a.d.f()}},Yt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Yt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:_,fetchPriority:A}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:_,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Yt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(y,g){if(typeof y=="string")if(g){var b=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Yt.requestFormReset=function(y){a.d.r(y)},Yt.unstable_batchedUpdates=function(y,g){return y(g)},Yt.useFormState=function(y,g,b){return h.H.useFormState(y,g,b)},Yt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var Xp;function tx(){if(Xp)return Yu.exports;Xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yu.exports=Mv(),Yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function Rv(){if(Jp)return Nl;Jp=1;var i=kv(),e=wd(),t=tx();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,r=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(r=s.return),n=s.return;while(n)}return s.tag===3?r:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function y(n){if(c(n)!==n)throw Error(a(188))}function g(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(a(188));return s!==n?null:n}for(var r=n,u=s;;){var m=r.return;if(m===null)break;var x=m.alternate;if(x===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===r)return y(m),n;if(x===u)return y(m),s;x=x.sibling}throw Error(a(188))}if(r.return!==u.return)r=m,u=x;else{for(var v=!1,T=m.child;T;){if(T===r){v=!0,r=m,u=x;break}if(T===u){v=!0,u=m,r=x;break}T=T.sibling}if(!v){for(T=x.child;T;){if(T===r){v=!0,r=x,u=m;break}if(T===u){v=!0,u=x,r=m;break}T=T.sibling}if(!v)throw Error(a(189))}}if(r.alternate!==u)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:s}function b(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=b(n),s!==null)return s;n=n.sibling}return null}var S=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ee(n){return n===null||typeof n!="object"?null:(n=Te&&n[Te]||n["@@iterator"],typeof n=="function"?n:null)}var Ae=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ae?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case q:return"Profiler";case E:return"StrictMode";case Y:return"Suspense";case ne:return"SuspenseList";case ce:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case Q:return n.displayName||"Context";case G:return(n._context.displayName||"Context")+".Consumer";case z:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return s=n.displayName||null,s!==null?s:se(n.type)||"Memo";case oe:s=n._payload,n=n._init;try{return se(n(s))}catch{}}return null}var Ve=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},N=[],w=-1;function C(n){return{current:n}}function I(n){0>w||(n.current=N[w],N[w]=null,w--)}function J(n,s){w++,N[w]=n.current,n.current=s}var F=C(null),ue=C(null),V=C(null),be=C(null);function Ie(n,s){switch(J(V,s),J(ue,n),J(F,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?dp(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=dp(s),n=fp(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}I(F),J(F,n)}function de(){I(F),I(ue),I(V)}function Fe(n){n.memoizedState!==null&&J(be,n);var s=F.current,r=fp(s,n.type);s!==r&&(J(ue,n),J(F,r))}function nt(n){ue.current===n&&(I(F),I(ue)),be.current===n&&(I(be),vl._currentValue=le)}var ct,Ue;function re(n){if(ct===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);ct=s&&s[1]||"",Ue=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+n+Ue}var Me=!1;function gt(n,s){if(!n||Me)return"";Me=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(H){var P=H}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(H){P=H}n.call(ee.prototype)}}else{try{throw Error()}catch(H){P=H}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(H){if(H&&P&&typeof H.stack=="string")return[H.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),v=x[0],T=x[1];if(v&&T){var k=v.split(`
`),O=T.split(`
`);for(m=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;m<O.length&&!O[m].includes("DetermineComponentFrameRoot");)m++;if(u===k.length||m===O.length)for(u=k.length-1,m=O.length-1;1<=u&&0<=m&&k[u]!==O[m];)m--;for(;1<=u&&0<=m;u--,m--)if(k[u]!==O[m]){if(u!==1||m!==1)do if(u--,m--,0>m||k[u]!==O[m]){var $=`
`+k[u].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=u&&0<=m);break}}}finally{Me=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?re(r):""}function yt(n,s){switch(n.tag){case 26:case 27:case 5:return re(n.type);case 16:return re("Lazy");case 13:return n.child!==s&&s!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return gt(n.type,!1);case 11:return gt(n.type.render,!1);case 1:return gt(n.type,!0);case 31:return re("Activity");default:return""}}function tt(n){try{var s="",r=null;do s+=yt(n,r),r=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Xe=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Ut=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,Dt=i.unstable_requestPaint,bt=i.unstable_now,Gt=i.unstable_getCurrentPriorityLevel,Vt=i.unstable_ImmediatePriority,Zt=i.unstable_UserBlockingPriority,jn=i.unstable_NormalPriority,Un=i.unstable_LowPriority,$s=i.unstable_IdlePriority,ji=i.log,Ui=i.unstable_setDisableYieldValue,$n=null,te=null;function ae(n){if(typeof ji=="function"&&Ui(n),te&&typeof te.setStrictMode=="function")try{te.setStrictMode($n,n)}catch{}}var R=Math.clz32?Math.clz32:Ce,me=Math.log,ye=Math.LN2;function Ce(n){return n>>>=0,n===0?32:31-(me(n)/ye|0)|0}var st=256,He=262144,vt=4194304;function xn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ft(n,s,r){var u=n.pendingLanes;if(u===0)return 0;var m=0,x=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~x,u!==0?m=xn(u):(v&=T,v!==0?m=xn(v):r||(r=T&~n,r!==0&&(m=xn(r))))):(T=u&~x,T!==0?m=xn(T):v!==0?m=xn(v):r||(r=u&~n,r!==0&&(m=xn(r)))),m===0?0:s!==0&&s!==m&&(s&x)===0&&(x=m&-m,r=s&-s,x>=r||x===32&&(r&4194048)!==0)?s:m}function Ks(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function uy(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fd(){var n=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),n}function ko(n){for(var s=[],r=0;31>r;r++)s.push(n);return s}function Di(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function dy(n,s,r,u,m,x){var v=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var T=n.entanglements,k=n.expirationTimes,O=n.hiddenUpdates;for(r=v&~r;0<r;){var $=31-R(r),ee=1<<$;T[$]=0,k[$]=-1;var P=O[$];if(P!==null)for(O[$]=null,$=0;$<P.length;$++){var H=P[$];H!==null&&(H.lane&=-536870913)}r&=~ee}u!==0&&Yd(n,u,0),x!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=x&~(v&~s))}function Yd(n,s,r){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-R(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|r&261930}function $d(n,s){var r=n.entangledLanes|=s;for(n=n.entanglements;r;){var u=31-R(r),m=1<<u;m&s|n[u]&s&&(n[u]|=s),r&=~m}}function Kd(n,s){var r=s&-s;return r=(r&42)!==0?1:Mo(r),(r&(n.suspendedLanes|s))!==0?0:r}function Mo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ro(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xd(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:Ip(n.type))}function Jd(n,s){var r=X.p;try{return X.p=n,s()}finally{X.p=r}}var hs=Math.random().toString(36).slice(2),Pt="__reactFiber$"+hs,Qt="__reactProps$"+hs,_a="__reactContainer$"+hs,jo="__reactEvents$"+hs,fy="__reactListeners$"+hs,hy="__reactHandles$"+hs,Zd="__reactResources$"+hs,Ii="__reactMarker$"+hs;function Uo(n){delete n[Pt],delete n[Qt],delete n[jo],delete n[fy],delete n[hy]}function Ta(n){var s=n[Pt];if(s)return s;for(var r=n.parentNode;r;){if(s=r[_a]||r[Pt]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(n=bp(n);n!==null;){if(r=n[Pt])return r;n=bp(n)}return s}n=r,r=n.parentNode}return null}function Ca(n){if(n=n[Pt]||n[_a]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Li(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function Na(n){var s=n[Zd];return s||(s=n[Zd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(n){n[Ii]=!0}var Qd=new Set,Wd={};function Xs(n,s){Ea(n,s),Ea(n+"Capture",s)}function Ea(n,s){for(Wd[n]=s,n=0;n<s.length;n++)Qd.add(s[n])}var my=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},tf={};function py(n){return Xe.call(tf,n)?!0:Xe.call(ef,n)?!1:my.test(n)?tf[n]=!0:(ef[n]=!0,!1)}function Gl(n,s,r){if(py(s))if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+r)}}function Fl(n,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+r)}}function Kn(n,s,r,u){if(u===null)n.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(s,r,""+u)}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nf(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gy(n,s,r){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(v){r=""+v,x.call(this,v)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Do(n){if(!n._valueTracker){var s=nf(n)?"checked":"value";n._valueTracker=gy(n,s,""+n[s])}}function sf(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var r=s.getValue(),u="";return n&&(u=nf(n)?n.checked?"true":"false":n.value),n=u,n!==r?(s.setValue(n),!0):!1}function Yl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var xy=/[\n"\\]/g;function bn(n){return n.replace(xy,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Io(n,s,r,u,m,x,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),s!=null?v==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+yn(s)):n.value!==""+yn(s)&&(n.value=""+yn(s)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),s!=null?Lo(n,v,yn(s)):r!=null?Lo(n,v,yn(r)):u!=null&&n.removeAttribute("value"),m==null&&x!=null&&(n.defaultChecked=!!x),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+yn(T):n.removeAttribute("name")}function af(n,s,r,u,m,x,v,T){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||r!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){Do(n);return}r=r!=null?""+yn(r):"",s=s!=null?""+yn(s):r,T||s===n.value||(n.value=s),n.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Do(n)}function Lo(n,s,r){s==="number"&&Yl(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Aa(n,s,r,u){if(n=n.options,s){s={};for(var m=0;m<r.length;m++)s["$"+r[m]]=!0;for(r=0;r<n.length;r++)m=s.hasOwnProperty("$"+n[r].value),n[r].selected!==m&&(n[r].selected=m),m&&u&&(n[r].defaultSelected=!0)}else{for(r=""+yn(r),s=null,m=0;m<n.length;m++){if(n[m].value===r){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function lf(n,s,r){if(s!=null&&(s=""+yn(s),s!==n.value&&(n.value=s),r==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=r!=null?""+yn(r):""}function rf(n,s,r,u){if(s==null){if(u!=null){if(r!=null)throw Error(a(92));if(Ve(u)){if(1<u.length)throw Error(a(93));u=u[0]}r=u}r==null&&(r=""),s=r}r=yn(s),n.defaultValue=r,u=n.textContent,u===r&&u!==""&&u!==null&&(n.value=u),Do(n)}function wa(n,s){if(s){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=s;return}}n.textContent=s}var yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(n,s,r){var u=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,r):typeof r!="number"||r===0||yy.has(s)?s==="float"?n.cssFloat=r:n[s]=(""+r).trim():n[s]=r+"px"}function cf(n,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&r[m]!==u&&of(n,m,u)}else for(var x in s)s.hasOwnProperty(x)&&of(n,x,s[x])}function Oo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(n){return vy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Xn(){}var Vo=null;function Po(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ka=null,Ma=null;function uf(n){var s=Ca(n);if(s&&(n=s.stateNode)){var r=n[Qt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Io(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var u=r[s];if(u!==n&&u.form===n.form){var m=u[Qt]||null;if(!m)throw Error(a(90));Io(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<r.length;s++)u=r[s],u.form===n.form&&sf(u)}break e;case"textarea":lf(n,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&Aa(n,!!r.multiple,s,!1)}}}var Bo=!1;function df(n,s,r){if(Bo)return n(s,r);Bo=!0;try{var u=n(s);return u}finally{if(Bo=!1,(ka!==null||Ma!==null)&&(Dr(),ka&&(s=ka,n=Ma,Ma=ka=null,uf(s),n)))for(s=0;s<n.length;s++)uf(n[s])}}function Oi(n,s){var r=n.stateNode;if(r===null)return null;var u=r[Qt]||null;if(u===null)return null;r=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(Jn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){zo=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{zo=!1}var ms=null,Ho=null,Kl=null;function ff(){if(Kl)return Kl;var n,s=Ho,r=s.length,u,m="value"in ms?ms.value:ms.textContent,x=m.length;for(n=0;n<r&&s[n]===m[n];n++);var v=r-n;for(u=1;u<=v&&s[r-u]===m[x-u];u++);return Kl=m.slice(n,1<u?1-u:void 0)}function Xl(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Jl(){return!0}function hf(){return!1}function Wt(n){function s(r,u,m,x,v){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=x,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(r=n[T],this[T]=r?r(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Jl:hf,this.isPropagationStopped=hf,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),s}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Wt(Js),Pi=S({},Js,{view:0,detail:0}),Sy=Wt(Pi),qo,Go,Bi,Ql=S({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bi&&(Bi&&n.type==="mousemove"?(qo=n.screenX-Bi.screenX,Go=n.screenY-Bi.screenY):Go=qo=0,Bi=n),qo)},movementY:function(n){return"movementY"in n?n.movementY:Go}}),mf=Wt(Ql),_y=S({},Ql,{dataTransfer:0}),Ty=Wt(_y),Cy=S({},Pi,{relatedTarget:0}),Fo=Wt(Cy),Ny=S({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),Ey=Wt(Ny),Ay=S({},Js,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wy=Wt(Ay),ky=S({},Js,{data:0}),pf=Wt(ky),My={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=jy[n])?!!s[n]:!1}function Yo(){return Uy}var Dy=S({},Pi,{key:function(n){if(n.key){var s=My[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Xl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ry[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(n){return n.type==="keypress"?Xl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Iy=Wt(Dy),Ly=S({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Wt(Ly),Oy=S({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Vy=Wt(Oy),Py=S({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=Wt(Py),zy=S({},Ql,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=Wt(zy),qy=S({},Js,{newState:0,oldState:0}),Gy=Wt(qy),Fy=[9,13,27,32],$o=Jn&&"CompositionEvent"in window,zi=null;Jn&&"documentMode"in document&&(zi=document.documentMode);var Yy=Jn&&"TextEvent"in window&&!zi,xf=Jn&&(!$o||zi&&8<zi&&11>=zi),yf=" ",bf=!1;function vf(n,s){switch(n){case"keyup":return Fy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ra=!1;function $y(n,s){switch(n){case"compositionend":return Sf(s);case"keypress":return s.which!==32?null:(bf=!0,yf);case"textInput":return n=s.data,n===yf&&bf?null:n;default:return null}}function Ky(n,s){if(Ra)return n==="compositionend"||!$o&&vf(n,s)?(n=ff(),Kl=Ho=ms=null,Ra=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return xf&&s.locale!=="ko"?null:s.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _f(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Xy[n.type]:s==="textarea"}function Tf(n,s,r,u){ka?Ma?Ma.push(u):Ma=[u]:ka=u,s=zr(s,"onChange"),0<s.length&&(r=new Zl("onChange","change",null,r,u),n.push({event:r,listeners:s}))}var Hi=null,qi=null;function Jy(n){ip(n,0)}function Wl(n){var s=Li(n);if(sf(s))return n}function Cf(n,s){if(n==="change")return s}var Nf=!1;if(Jn){var Ko;if(Jn){var Xo="oninput"in document;if(!Xo){var Ef=document.createElement("div");Ef.setAttribute("oninput","return;"),Xo=typeof Ef.oninput=="function"}Ko=Xo}else Ko=!1;Nf=Ko&&(!document.documentMode||9<document.documentMode)}function Af(){Hi&&(Hi.detachEvent("onpropertychange",wf),qi=Hi=null)}function wf(n){if(n.propertyName==="value"&&Wl(qi)){var s=[];Tf(s,qi,n,Po(n)),df(Jy,s)}}function Zy(n,s,r){n==="focusin"?(Af(),Hi=s,qi=r,Hi.attachEvent("onpropertychange",wf)):n==="focusout"&&Af()}function Qy(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wl(qi)}function Wy(n,s){if(n==="click")return Wl(s)}function eb(n,s){if(n==="input"||n==="change")return Wl(s)}function tb(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var on=typeof Object.is=="function"?Object.is:tb;function Gi(n,s){if(on(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var r=Object.keys(n),u=Object.keys(s);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Xe.call(s,m)||!on(n[m],s[m]))return!1}return!0}function kf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mf(n,s){var r=kf(n);n=0;for(var u;r;){if(r.nodeType===3){if(u=n+r.textContent.length,n<=s&&u>=s)return{node:r,offset:s-n};n=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kf(r)}}function Rf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Rf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function jf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Yl(n.document);s instanceof n.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)n=s.contentWindow;else break;s=Yl(n.document)}return s}function Jo(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var nb=Jn&&"documentMode"in document&&11>=document.documentMode,ja=null,Zo=null,Fi=null,Qo=!1;function Uf(n,s,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qo||ja==null||ja!==Yl(u)||(u=ja,"selectionStart"in u&&Jo(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fi&&Gi(Fi,u)||(Fi=u,u=zr(Zo,"onSelect"),0<u.length&&(s=new Zl("onSelect","select",null,s,r),n.push({event:s,listeners:u}),s.target=ja)))}function Zs(n,s){var r={};return r[n.toLowerCase()]=s.toLowerCase(),r["Webkit"+n]="webkit"+s,r["Moz"+n]="moz"+s,r}var Ua={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Wo={},Df={};Jn&&(Df=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Qs(n){if(Wo[n])return Wo[n];if(!Ua[n])return n;var s=Ua[n],r;for(r in s)if(s.hasOwnProperty(r)&&r in Df)return Wo[n]=s[r];return n}var If=Qs("animationend"),Lf=Qs("animationiteration"),Of=Qs("animationstart"),sb=Qs("transitionrun"),ab=Qs("transitionstart"),ib=Qs("transitioncancel"),Vf=Qs("transitionend"),Pf=new Map,ec="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ec.push("scrollEnd");function Dn(n,s){Pf.set(n,s),Xs(s,[n])}var er=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},vn=[],Da=0,tc=0;function tr(){for(var n=Da,s=tc=Da=0;s<n;){var r=vn[s];vn[s++]=null;var u=vn[s];vn[s++]=null;var m=vn[s];vn[s++]=null;var x=vn[s];if(vn[s++]=null,u!==null&&m!==null){var v=u.pending;v===null?m.next=m:(m.next=v.next,v.next=m),u.pending=m}x!==0&&Bf(r,m,x)}}function nr(n,s,r,u){vn[Da++]=n,vn[Da++]=s,vn[Da++]=r,vn[Da++]=u,tc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function nc(n,s,r,u){return nr(n,s,r,u),sr(n)}function Ws(n,s){return nr(n,null,null,s),sr(n)}function Bf(n,s,r){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r);for(var m=!1,x=n.return;x!==null;)x.childLanes|=r,u=x.alternate,u!==null&&(u.childLanes|=r),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(m=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,m&&s!==null&&(m=31-R(r),n=x.hiddenUpdates,u=n[m],u===null?n[m]=[s]:u.push(s),s.lane=r|536870912),x):null}function sr(n){if(50<hl)throw hl=0,du=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ia={};function lb(n,s,r,u){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,s,r,u){return new lb(n,s,r,u)}function sc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Zn(n,s){var r=n.alternate;return r===null?(r=cn(n.tag,s,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=s,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,s=n.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function zf(n,s){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,s=r.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ar(n,s,r,u,m,x){var v=0;if(u=n,typeof n=="function")sc(n)&&(v=1);else if(typeof n=="string")v=dv(n,r,F.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ce:return n=cn(31,r,s,m),n.elementType=ce,n.lanes=x,n;case D:return ea(r.children,m,x,s);case E:v=8,m|=24;break;case q:return n=cn(12,r,s,m|2),n.elementType=q,n.lanes=x,n;case Y:return n=cn(13,r,s,m),n.elementType=Y,n.lanes=x,n;case ne:return n=cn(19,r,s,m),n.elementType=ne,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:v=10;break e;case G:v=9;break e;case z:v=11;break e;case W:v=14;break e;case oe:v=16,u=null;break e}v=29,r=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=cn(v,r,s,m),s.elementType=n,s.type=u,s.lanes=x,s}function ea(n,s,r,u){return n=cn(7,n,u,s),n.lanes=r,n}function ac(n,s,r){return n=cn(6,n,null,s),n.lanes=r,n}function Hf(n){var s=cn(18,null,null,0);return s.stateNode=n,s}function ic(n,s,r){return s=cn(4,n.children!==null?n.children:[],n.key,s),s.lanes=r,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var qf=new WeakMap;function Sn(n,s){if(typeof n=="object"&&n!==null){var r=qf.get(n);return r!==void 0?r:(s={value:n,source:s,stack:tt(s)},qf.set(n,s),s)}return{value:n,source:s,stack:tt(s)}}var La=[],Oa=0,ir=null,Yi=0,_n=[],Tn=0,ps=null,Bn=1,zn="";function Qn(n,s){La[Oa++]=Yi,La[Oa++]=ir,ir=n,Yi=s}function Gf(n,s,r){_n[Tn++]=Bn,_n[Tn++]=zn,_n[Tn++]=ps,ps=n;var u=Bn;n=zn;var m=32-R(u)-1;u&=~(1<<m),r+=1;var x=32-R(s)+m;if(30<x){var v=m-m%5;x=(u&(1<<v)-1).toString(32),u>>=v,m-=v,Bn=1<<32-R(s)+m|r<<m|u,zn=x+n}else Bn=1<<x|r<<m|u,zn=n}function lc(n){n.return!==null&&(Qn(n,1),Gf(n,1,0))}function rc(n){for(;n===ir;)ir=La[--Oa],La[Oa]=null,Yi=La[--Oa],La[Oa]=null;for(;n===ps;)ps=_n[--Tn],_n[Tn]=null,zn=_n[--Tn],_n[Tn]=null,Bn=_n[--Tn],_n[Tn]=null}function Ff(n,s){_n[Tn++]=Bn,_n[Tn++]=zn,_n[Tn++]=ps,Bn=s.id,zn=s.overflow,ps=n}var Bt=null,ht=null,Ye=!1,gs=null,Cn=!1,oc=Error(a(519));function xs(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $i(Sn(s,n)),oc}function Yf(n){var s=n.stateNode,r=n.type,u=n.memoizedProps;switch(s[Pt]=n,s[Qt]=u,r){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(r=0;r<pl.length;r++)ze(pl[r],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),af(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),rf(s,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||u.suppressHydrationWarning===!0||cp(s.textContent,r)?(u.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),u.onScroll!=null&&ze("scroll",s),u.onScrollEnd!=null&&ze("scrollend",s),u.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||xs(n,!0)}function $f(n){for(Bt=n.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Bt=Bt.return}}function Va(n){if(n!==Bt)return!1;if(!Ye)return $f(n),Ye=!0,!1;var s=n.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Eu(n.type,n.memoizedProps)),r=!r),r&&ht&&xs(n),$f(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));ht=yp(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));ht=yp(n)}else s===27?(s=ht,Rs(n.type)?(n=Ru,Ru=null,ht=n):ht=s):ht=Bt?En(n.stateNode.nextSibling):null;return!0}function ta(){ht=Bt=null,Ye=!1}function cc(){var n=gs;return n!==null&&(sn===null?sn=n:sn.push.apply(sn,n),gs=null),n}function $i(n){gs===null?gs=[n]:gs.push(n)}var uc=C(null),na=null,Wn=null;function ys(n,s,r){J(uc,s._currentValue),s._currentValue=r}function es(n){n._currentValue=uc.current,I(uc)}function dc(n,s,r){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===r)break;n=n.return}}function fc(n,s,r,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var x=m.dependencies;if(x!==null){var v=m.child;x=x.firstContext;e:for(;x!==null;){var T=x;x=m;for(var k=0;k<s.length;k++)if(T.context===s[k]){x.lanes|=r,T=x.alternate,T!==null&&(T.lanes|=r),dc(x.return,r,n),u||(v=null);break e}x=T.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(a(341));v.lanes|=r,x=v.alternate,x!==null&&(x.lanes|=r),dc(v,r,n),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===n){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function Pa(n,s,r,u){n=null;for(var m=s,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=m.type;on(m.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(m===be.current){if(v=m.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(vl):n=[vl])}m=m.return}n!==null&&fc(s,n,r,u),s.flags|=262144}function lr(n){for(n=n.firstContext;n!==null;){if(!on(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){na=n,Wn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function zt(n){return Kf(na,n)}function rr(n,s){return na===null&&sa(n),Kf(n,s)}function Kf(n,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Wn===null){if(n===null)throw Error(a(308));Wn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Wn=Wn.next=s;return r}var rb=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(r,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(r){return r()})}},ob=i.unstable_scheduleCallback,cb=i.unstable_NormalPriority,Et={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hc(){return{controller:new rb,data:new Map,refCount:0}}function Ki(n){n.refCount--,n.refCount===0&&ob(cb,function(){n.controller.abort()})}var Xi=null,mc=0,Ba=0,za=null;function ub(n,s){if(Xi===null){var r=Xi=[];mc=0,Ba=xu(),za={status:"pending",value:void 0,then:function(u){r.push(u)}}}return mc++,s.then(Xf,Xf),s}function Xf(){if(--mc===0&&Xi!==null){za!==null&&(za.status="fulfilled");var n=Xi;Xi=null,Ba=0,za=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function db(n,s){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<r.length;m++)(0,r[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var Jf=B.S;B.S=function(n,s){Um=bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ub(n,s),Jf!==null&&Jf(n,s)};var aa=C(null);function pc(){var n=aa.current;return n!==null?n:ut.pooledCache}function or(n,s){s===null?J(aa,aa.current):J(aa,s.pool)}function Zf(){var n=pc();return n===null?null:{parent:Et._currentValue,pool:n}}var Ha=Error(a(460)),gc=Error(a(474)),cr=Error(a(542)),ur={then:function(){}};function Qf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Wf(n,s,r){switch(r=n[r],r===void 0?n.push(s):r!==s&&(s.then(Xn,Xn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,th(n),n;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,th(n),n}throw la=s,Ha}}function ia(n){try{var s=n._init;return s(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(la=r,Ha):r}}var la=null;function eh(){if(la===null)throw Error(a(459));var n=la;return la=null,n}function th(n){if(n===Ha||n===cr)throw Error(a(483))}var qa=null,Ji=0;function dr(n){var s=Ji;return Ji+=1,qa===null&&(qa=[]),Wf(qa,n,s)}function Zi(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function fr(n,s){throw s.$$typeof===_?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function nh(n){function s(U,j){if(n){var L=U.deletions;L===null?(U.deletions=[j],U.flags|=16):L.push(j)}}function r(U,j){if(!n)return null;for(;j!==null;)s(U,j),j=j.sibling;return null}function u(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function m(U,j){return U=Zn(U,j),U.index=0,U.sibling=null,U}function x(U,j,L){return U.index=L,n?(L=U.alternate,L!==null?(L=L.index,L<j?(U.flags|=67108866,j):L):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function T(U,j,L,Z){return j===null||j.tag!==6?(j=ac(L,U.mode,Z),j.return=U,j):(j=m(j,L),j.return=U,j)}function k(U,j,L,Z){var _e=L.type;return _e===D?$(U,j,L.props.children,Z,L.key):j!==null&&(j.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===oe&&ia(_e)===j.type)?(j=m(j,L.props),Zi(j,L),j.return=U,j):(j=ar(L.type,L.key,L.props,null,U.mode,Z),Zi(j,L),j.return=U,j)}function O(U,j,L,Z){return j===null||j.tag!==4||j.stateNode.containerInfo!==L.containerInfo||j.stateNode.implementation!==L.implementation?(j=ic(L,U.mode,Z),j.return=U,j):(j=m(j,L.children||[]),j.return=U,j)}function $(U,j,L,Z,_e){return j===null||j.tag!==7?(j=ea(L,U.mode,Z,_e),j.return=U,j):(j=m(j,L),j.return=U,j)}function ee(U,j,L){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ac(""+j,U.mode,L),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return L=ar(j.type,j.key,j.props,null,U.mode,L),Zi(L,j),L.return=U,L;case M:return j=ic(j,U.mode,L),j.return=U,j;case oe:return j=ia(j),ee(U,j,L)}if(Ve(j)||Ee(j))return j=ea(j,U.mode,L,null),j.return=U,j;if(typeof j.then=="function")return ee(U,dr(j),L);if(j.$$typeof===Q)return ee(U,rr(U,j),L);fr(U,j)}return null}function P(U,j,L,Z){var _e=j!==null?j.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return _e!==null?null:T(U,j,""+L,Z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===_e?k(U,j,L,Z):null;case M:return L.key===_e?O(U,j,L,Z):null;case oe:return L=ia(L),P(U,j,L,Z)}if(Ve(L)||Ee(L))return _e!==null?null:$(U,j,L,Z,null);if(typeof L.then=="function")return P(U,j,dr(L),Z);if(L.$$typeof===Q)return P(U,j,rr(U,L),Z);fr(U,L)}return null}function H(U,j,L,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(L)||null,T(j,U,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?L:Z.key)||null,k(j,U,Z,_e);case M:return U=U.get(Z.key===null?L:Z.key)||null,O(j,U,Z,_e);case oe:return Z=ia(Z),H(U,j,L,Z,_e)}if(Ve(Z)||Ee(Z))return U=U.get(L)||null,$(j,U,Z,_e,null);if(typeof Z.then=="function")return H(U,j,L,dr(Z),_e);if(Z.$$typeof===Q)return H(U,j,L,rr(j,Z),_e);fr(j,Z)}return null}function ge(U,j,L,Z){for(var _e=null,Ze=null,ve=j,Le=j=0,Ge=null;ve!==null&&Le<L.length;Le++){ve.index>Le?(Ge=ve,ve=null):Ge=ve.sibling;var Qe=P(U,ve,L[Le],Z);if(Qe===null){ve===null&&(ve=Ge);break}n&&ve&&Qe.alternate===null&&s(U,ve),j=x(Qe,j,Le),Ze===null?_e=Qe:Ze.sibling=Qe,Ze=Qe,ve=Ge}if(Le===L.length)return r(U,ve),Ye&&Qn(U,Le),_e;if(ve===null){for(;Le<L.length;Le++)ve=ee(U,L[Le],Z),ve!==null&&(j=x(ve,j,Le),Ze===null?_e=ve:Ze.sibling=ve,Ze=ve);return Ye&&Qn(U,Le),_e}for(ve=u(ve);Le<L.length;Le++)Ge=H(ve,U,Le,L[Le],Z),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Le:Ge.key),j=x(Ge,j,Le),Ze===null?_e=Ge:Ze.sibling=Ge,Ze=Ge);return n&&ve.forEach(function(Ls){return s(U,Ls)}),Ye&&Qn(U,Le),_e}function Ne(U,j,L,Z){if(L==null)throw Error(a(151));for(var _e=null,Ze=null,ve=j,Le=j=0,Ge=null,Qe=L.next();ve!==null&&!Qe.done;Le++,Qe=L.next()){ve.index>Le?(Ge=ve,ve=null):Ge=ve.sibling;var Ls=P(U,ve,Qe.value,Z);if(Ls===null){ve===null&&(ve=Ge);break}n&&ve&&Ls.alternate===null&&s(U,ve),j=x(Ls,j,Le),Ze===null?_e=Ls:Ze.sibling=Ls,Ze=Ls,ve=Ge}if(Qe.done)return r(U,ve),Ye&&Qn(U,Le),_e;if(ve===null){for(;!Qe.done;Le++,Qe=L.next())Qe=ee(U,Qe.value,Z),Qe!==null&&(j=x(Qe,j,Le),Ze===null?_e=Qe:Ze.sibling=Qe,Ze=Qe);return Ye&&Qn(U,Le),_e}for(ve=u(ve);!Qe.done;Le++,Qe=L.next())Qe=H(ve,U,Le,Qe.value,Z),Qe!==null&&(n&&Qe.alternate!==null&&ve.delete(Qe.key===null?Le:Qe.key),j=x(Qe,j,Le),Ze===null?_e=Qe:Ze.sibling=Qe,Ze=Qe);return n&&ve.forEach(function(_v){return s(U,_v)}),Ye&&Qn(U,Le),_e}function ot(U,j,L,Z){if(typeof L=="object"&&L!==null&&L.type===D&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var _e=L.key;j!==null;){if(j.key===_e){if(_e=L.type,_e===D){if(j.tag===7){r(U,j.sibling),Z=m(j,L.props.children),Z.return=U,U=Z;break e}}else if(j.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===oe&&ia(_e)===j.type){r(U,j.sibling),Z=m(j,L.props),Zi(Z,L),Z.return=U,U=Z;break e}r(U,j);break}else s(U,j);j=j.sibling}L.type===D?(Z=ea(L.props.children,U.mode,Z,L.key),Z.return=U,U=Z):(Z=ar(L.type,L.key,L.props,null,U.mode,Z),Zi(Z,L),Z.return=U,U=Z)}return v(U);case M:e:{for(_e=L.key;j!==null;){if(j.key===_e)if(j.tag===4&&j.stateNode.containerInfo===L.containerInfo&&j.stateNode.implementation===L.implementation){r(U,j.sibling),Z=m(j,L.children||[]),Z.return=U,U=Z;break e}else{r(U,j);break}else s(U,j);j=j.sibling}Z=ic(L,U.mode,Z),Z.return=U,U=Z}return v(U);case oe:return L=ia(L),ot(U,j,L,Z)}if(Ve(L))return ge(U,j,L,Z);if(Ee(L)){if(_e=Ee(L),typeof _e!="function")throw Error(a(150));return L=_e.call(L),Ne(U,j,L,Z)}if(typeof L.then=="function")return ot(U,j,dr(L),Z);if(L.$$typeof===Q)return ot(U,j,rr(U,L),Z);fr(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,j!==null&&j.tag===6?(r(U,j.sibling),Z=m(j,L),Z.return=U,U=Z):(r(U,j),Z=ac(L,U.mode,Z),Z.return=U,U=Z),v(U)):r(U,j)}return function(U,j,L,Z){try{Ji=0;var _e=ot(U,j,L,Z);return qa=null,_e}catch(ve){if(ve===Ha||ve===cr)throw ve;var Ze=cn(29,ve,null,U.mode);return Ze.lanes=Z,Ze.return=U,Ze}finally{}}}var ra=nh(!0),sh=nh(!1),bs=!1;function xc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ss(n,s,r){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=sr(n),Bf(n,null,r),s}return nr(n,u,s,r),sr(n)}function Qi(n,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,$d(n,r)}}function bc(n,s){var r=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,x=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};x===null?m=x=v:x=x.next=v,r=r.next}while(r!==null);x===null?m=x=s:x=x.next=s}else m=x=s;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=s:n.next=s,r.lastBaseUpdate=s}var vc=!1;function Wi(){if(vc){var n=za;if(n!==null)throw n}}function el(n,s,r,u){vc=!1;var m=n.updateQueue;bs=!1;var x=m.firstBaseUpdate,v=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var k=T,O=k.next;k.next=null,v===null?x=O:v.next=O,v=k;var $=n.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=O:T.next=O,$.lastBaseUpdate=k))}if(x!==null){var ee=m.baseState;v=0,$=O=k=null,T=x;do{var P=T.lane&-536870913,H=P!==T.lane;if(H?(qe&P)===P:(u&P)===P){P!==0&&P===Ba&&(vc=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=n,Ne=T;P=s;var ot=r;switch(Ne.tag){case 1:if(ge=Ne.payload,typeof ge=="function"){ee=ge.call(ot,ee,P);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ne.payload,P=typeof ge=="function"?ge.call(ot,ee,P):ge,P==null)break e;ee=S({},ee,P);break e;case 2:bs=!0}}P=T.callback,P!==null&&(n.flags|=64,H&&(n.flags|=8192),H=m.callbacks,H===null?m.callbacks=[P]:H.push(P))}else H={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(O=$=H,k=ee):$=$.next=H,v|=P;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;H=T,T=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);$===null&&(k=ee),m.baseState=k,m.firstBaseUpdate=O,m.lastBaseUpdate=$,x===null&&(m.shared.lanes=0),Es|=v,n.lanes=v,n.memoizedState=ee}}function ah(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function ih(n,s){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)ah(r[n],s)}var Ga=C(null),hr=C(0);function lh(n,s){n=cs,J(hr,n),J(Ga,s),cs=n|s.baseLanes}function Sc(){J(hr,cs),J(Ga,Ga.current)}function _c(){cs=hr.current,I(Ga),I(hr)}var un=C(null),Nn=null;function _s(n){var s=n.alternate;J(Tt,Tt.current&1),J(un,n),Nn===null&&(s===null||Ga.current!==null||s.memoizedState!==null)&&(Nn=n)}function Tc(n){J(Tt,Tt.current),J(un,n),Nn===null&&(Nn=n)}function rh(n){n.tag===22?(J(Tt,Tt.current),J(un,n),Nn===null&&(Nn=n)):Ts()}function Ts(){J(Tt,Tt.current),J(un,un.current)}function dn(n){I(un),Nn===n&&(Nn=null),I(Tt)}var Tt=C(0);function mr(n){for(var s=n;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ku(r)||Mu(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ts=0,De=null,lt=null,At=null,pr=!1,Fa=!1,oa=!1,gr=0,tl=0,Ya=null,fb=0;function St(){throw Error(a(321))}function Cc(n,s){if(s===null)return!1;for(var r=0;r<s.length&&r<n.length;r++)if(!on(n[r],s[r]))return!1;return!0}function Nc(n,s,r,u,m,x){return ts=x,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Gh:Bc,oa=!1,x=r(u,m),oa=!1,Fa&&(x=ch(s,r,u,m)),oh(n),x}function oh(n){B.H=al;var s=lt!==null&&lt.next!==null;if(ts=0,At=lt=De=null,pr=!1,tl=0,Ya=null,s)throw Error(a(300));n===null||wt||(n=n.dependencies,n!==null&&lr(n)&&(wt=!0))}function ch(n,s,r,u){De=n;var m=0;do{if(Fa&&(Ya=null),tl=0,Fa=!1,25<=m)throw Error(a(301));if(m+=1,At=lt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=Fh,x=s(r,u)}while(Fa);return x}function hb(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?nl(s):s,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(De.flags|=1024),s}function Ec(){var n=gr!==0;return gr=0,n}function Ac(n,s,r){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~r}function wc(n){if(pr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pr=!1}ts=0,At=lt=De=null,Fa=!1,tl=gr=0,Ya=null}function Kt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?De.memoizedState=At=n:At=At.next=n,At}function Ct(){if(lt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var s=At===null?De.memoizedState:At.next;if(s!==null)At=s,lt=n;else{if(n===null)throw De.alternate===null?Error(a(467)):Error(a(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},At===null?De.memoizedState=At=n:At=At.next=n}return At}function xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(n){var s=tl;return tl+=1,Ya===null&&(Ya=[]),n=Wf(Ya,n,s),s=De,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Gh:Bc),n}function yr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nl(n);if(n.$$typeof===Q)return zt(n)}throw Error(a(438,String(n)))}function kc(n){var s=null,r=De.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=xr(),De.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(n),u=0;u<n;u++)r[u]=pe;return s.index++,r}function ns(n,s){return typeof s=="function"?s(n):s}function br(n){var s=Ct();return Mc(s,lt,n)}function Mc(n,s,r){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var m=n.baseQueue,x=u.pending;if(x!==null){if(m!==null){var v=m.next;m.next=x.next,x.next=v}s.baseQueue=m=x,u.pending=null}if(x=n.baseState,m===null)n.memoizedState=x;else{s=m.next;var T=v=null,k=null,O=s,$=!1;do{var ee=O.lane&-536870913;if(ee!==O.lane?(qe&ee)===ee:(ts&ee)===ee){var P=O.revertLane;if(P===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),ee===Ba&&($=!0);else if((ts&P)===P){O=O.next,P===Ba&&($=!0);continue}else ee={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},k===null?(T=k=ee,v=x):k=k.next=ee,De.lanes|=P,Es|=P;ee=O.action,oa&&r(x,ee),x=O.hasEagerState?O.eagerState:r(x,ee)}else P={lane:ee,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},k===null?(T=k=P,v=x):k=k.next=P,De.lanes|=ee,Es|=ee;O=O.next}while(O!==null&&O!==s);if(k===null?v=x:k.next=T,!on(x,n.memoizedState)&&(wt=!0,$&&(r=za,r!==null)))throw r;n.memoizedState=x,n.baseState=v,n.baseQueue=k,u.lastRenderedState=x}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Rc(n){var s=Ct(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var u=r.dispatch,m=r.pending,x=s.memoizedState;if(m!==null){r.pending=null;var v=m=m.next;do x=n(x,v.action),v=v.next;while(v!==m);on(x,s.memoizedState)||(wt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),r.lastRenderedState=x}return[x,u]}function uh(n,s,r){var u=De,m=Ct(),x=Ye;if(x){if(r===void 0)throw Error(a(407));r=r()}else r=s();var v=!on((lt||m).memoizedState,r);if(v&&(m.memoizedState=r,wt=!0),m=m.queue,Dc(hh.bind(null,u,m,n),[n]),m.getSnapshot!==s||v||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,$a(9,{destroy:void 0},fh.bind(null,u,m,r,s),null),ut===null)throw Error(a(349));x||(ts&127)!==0||dh(u,s,r)}return r}function dh(n,s,r){n.flags|=16384,n={getSnapshot:s,value:r},s=De.updateQueue,s===null?(s=xr(),De.updateQueue=s,s.stores=[n]):(r=s.stores,r===null?s.stores=[n]:r.push(n))}function fh(n,s,r,u){s.value=r,s.getSnapshot=u,mh(s)&&ph(n)}function hh(n,s,r){return r(function(){mh(s)&&ph(n)})}function mh(n){var s=n.getSnapshot;n=n.value;try{var r=s();return!on(n,r)}catch{return!0}}function ph(n){var s=Ws(n,2);s!==null&&an(s,n,2)}function jc(n){var s=Kt();if(typeof n=="function"){var r=n;if(n=r(),oa){ae(!0);try{r()}finally{ae(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:n},s}function gh(n,s,r,u){return n.baseState=r,Mc(n,lt,typeof u=="function"?u:ns)}function mb(n,s,r,u,m){if(_r(n))throw Error(a(485));if(n=s.action,n!==null){var x={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){x.listeners.push(v)}};B.T!==null?r(!0):x.isTransition=!1,u(x),r=s.pending,r===null?(x.next=s.pending=x,xh(s,x)):(x.next=r.next,s.pending=r.next=x)}}function xh(n,s){var r=s.action,u=s.payload,m=n.state;if(s.isTransition){var x=B.T,v={};B.T=v;try{var T=r(m,u),k=B.S;k!==null&&k(v,T),yh(n,s,T)}catch(O){Uc(n,s,O)}finally{x!==null&&v.types!==null&&(x.types=v.types),B.T=x}}else try{x=r(m,u),yh(n,s,x)}catch(O){Uc(n,s,O)}}function yh(n,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){bh(n,s,u)},function(u){return Uc(n,s,u)}):bh(n,s,r)}function bh(n,s,r){s.status="fulfilled",s.value=r,vh(s),n.state=r,s=n.pending,s!==null&&(r=s.next,r===s?n.pending=null:(r=r.next,s.next=r,xh(n,r)))}function Uc(n,s,r){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=r,vh(s),s=s.next;while(s!==u)}n.action=null}function vh(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Sh(n,s){return s}function _h(n,s){if(Ye){var r=ut.formState;if(r!==null){e:{var u=De;if(Ye){if(ht){t:{for(var m=ht,x=Cn;m.nodeType!==8;){if(!x){m=null;break t}if(m=En(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){ht=En(m.nextSibling),u=m.data==="F!";break e}}xs(u)}u=!1}u&&(s=r[0])}}return r=Kt(),r.memoizedState=r.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sh,lastRenderedState:s},r.queue=u,r=zh.bind(null,De,u),u.dispatch=r,u=jc(!1),x=Pc.bind(null,De,!1,u.queue),u=Kt(),m={state:s,dispatch:null,action:n,pending:null},u.queue=m,r=mb.bind(null,De,m,x,r),m.dispatch=r,u.memoizedState=n,[s,r,!1]}function Th(n){var s=Ct();return Ch(s,lt,n)}function Ch(n,s,r){if(s=Mc(n,s,Sh)[0],n=br(ns)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=nl(s)}catch(v){throw v===Ha?cr:v}else u=s;s=Ct();var m=s.queue,x=m.dispatch;return r!==s.memoizedState&&(De.flags|=2048,$a(9,{destroy:void 0},pb.bind(null,m,r),null)),[u,x,n]}function pb(n,s){n.action=s}function Nh(n){var s=Ct(),r=lt;if(r!==null)return Ch(s,r,n);Ct(),s=s.memoizedState,r=Ct();var u=r.queue.dispatch;return r.memoizedState=n,[s,u,!1]}function $a(n,s,r,u){return n={tag:n,create:r,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=xr(),De.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=n.next=n:(u=r.next,r.next=n,n.next=u,s.lastEffect=n),n}function Eh(){return Ct().memoizedState}function vr(n,s,r,u){var m=Kt();De.flags|=n,m.memoizedState=$a(1|s,{destroy:void 0},r,u===void 0?null:u)}function Sr(n,s,r,u){var m=Ct();u=u===void 0?null:u;var x=m.memoizedState.inst;lt!==null&&u!==null&&Cc(u,lt.memoizedState.deps)?m.memoizedState=$a(s,x,r,u):(De.flags|=n,m.memoizedState=$a(1|s,x,r,u))}function Ah(n,s){vr(8390656,8,n,s)}function Dc(n,s){Sr(2048,8,n,s)}function gb(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=xr(),De.updateQueue=s,s.events=[n];else{var r=s.events;r===null?s.events=[n]:r.push(n)}}function wh(n){var s=Ct().memoizedState;return gb({ref:s,nextImpl:n}),function(){if((et&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function kh(n,s){return Sr(4,2,n,s)}function Mh(n,s){return Sr(4,4,n,s)}function Rh(n,s){if(typeof s=="function"){n=n();var r=s(n);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function jh(n,s,r){r=r!=null?r.concat([n]):null,Sr(4,4,Rh.bind(null,s,n),r)}function Ic(){}function Uh(n,s){var r=Ct();s=s===void 0?null:s;var u=r.memoizedState;return s!==null&&Cc(s,u[1])?u[0]:(r.memoizedState=[n,s],n)}function Dh(n,s){var r=Ct();s=s===void 0?null:s;var u=r.memoizedState;if(s!==null&&Cc(s,u[1]))return u[0];if(u=n(),oa){ae(!0);try{n()}finally{ae(!1)}}return r.memoizedState=[u,s],u}function Lc(n,s,r){return r===void 0||(ts&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=r,n=Im(),De.lanes|=n,Es|=n,r)}function Ih(n,s,r,u){return on(r,s)?r:Ga.current!==null?(n=Lc(n,r,u),on(n,s)||(wt=!0),n):(ts&42)===0||(ts&1073741824)!==0&&(qe&261930)===0?(wt=!0,n.memoizedState=r):(n=Im(),De.lanes|=n,Es|=n,s)}function Lh(n,s,r,u,m){var x=X.p;X.p=x!==0&&8>x?x:8;var v=B.T,T={};B.T=T,Pc(n,!1,s,r);try{var k=m(),O=B.S;if(O!==null&&O(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=db(k,u);sl(n,s,$,mn(n))}else sl(n,s,u,mn(n))}catch(ee){sl(n,s,{then:function(){},status:"rejected",reason:ee},mn())}finally{X.p=x,v!==null&&T.types!==null&&(v.types=T.types),B.T=v}}function xb(){}function Oc(n,s,r,u){if(n.tag!==5)throw Error(a(476));var m=Oh(n).queue;Lh(n,m,s,le,r===null?xb:function(){return Vh(n),r(u)})}function Oh(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:le},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Vh(n){var s=Oh(n);s.next===null&&(s=n.alternate.memoizedState),sl(n,s.next.queue,{},mn())}function Vc(){return zt(vl)}function Ph(){return Ct().memoizedState}function Bh(){return Ct().memoizedState}function yb(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var r=mn();n=vs(r);var u=Ss(s,n,r);u!==null&&(an(u,s,r),Qi(u,s,r)),s={cache:hc()},n.payload=s;return}s=s.return}}function bb(n,s,r){var u=mn();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_r(n)?Hh(s,r):(r=nc(n,s,r,u),r!==null&&(an(r,n,u),qh(r,s,u)))}function zh(n,s,r){var u=mn();sl(n,s,r,u)}function sl(n,s,r,u){var m={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(_r(n))Hh(s,m);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var v=s.lastRenderedState,T=x(v,r);if(m.hasEagerState=!0,m.eagerState=T,on(T,v))return nr(n,s,m,0),ut===null&&tr(),!1}catch{}finally{}if(r=nc(n,s,m,u),r!==null)return an(r,n,u),qh(r,s,u),!0}return!1}function Pc(n,s,r,u){if(u={lane:2,revertLane:xu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},_r(n)){if(s)throw Error(a(479))}else s=nc(n,r,u,2),s!==null&&an(s,n,2)}function _r(n){var s=n.alternate;return n===De||s!==null&&s===De}function Hh(n,s){Fa=pr=!0;var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}function qh(n,s,r){if((r&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,r|=u,s.lanes=r,$d(n,r)}}var al={readContext:zt,use:yr,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};al.useEffectEvent=St;var Gh={readContext:zt,use:yr,useCallback:function(n,s){return Kt().memoizedState=[n,s===void 0?null:s],n},useContext:zt,useEffect:Ah,useImperativeHandle:function(n,s,r){r=r!=null?r.concat([n]):null,vr(4194308,4,Rh.bind(null,s,n),r)},useLayoutEffect:function(n,s){return vr(4194308,4,n,s)},useInsertionEffect:function(n,s){vr(4,2,n,s)},useMemo:function(n,s){var r=Kt();s=s===void 0?null:s;var u=n();if(oa){ae(!0);try{n()}finally{ae(!1)}}return r.memoizedState=[u,s],u},useReducer:function(n,s,r){var u=Kt();if(r!==void 0){var m=r(s);if(oa){ae(!0);try{r(s)}finally{ae(!1)}}}else m=s;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=bb.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=Kt();return n={current:n},s.memoizedState=n},useState:function(n){n=jc(n);var s=n.queue,r=zh.bind(null,De,s);return s.dispatch=r,[n.memoizedState,r]},useDebugValue:Ic,useDeferredValue:function(n,s){var r=Kt();return Lc(r,n,s)},useTransition:function(){var n=jc(!1);return n=Lh.bind(null,De,n.queue,!0,!1),Kt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,r){var u=De,m=Kt();if(Ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),ut===null)throw Error(a(349));(qe&127)!==0||dh(u,s,r)}m.memoizedState=r;var x={value:r,getSnapshot:s};return m.queue=x,Ah(hh.bind(null,u,x,n),[n]),u.flags|=2048,$a(9,{destroy:void 0},fh.bind(null,u,x,r,s),null),r},useId:function(){var n=Kt(),s=ut.identifierPrefix;if(Ye){var r=zn,u=Bn;r=(u&~(1<<32-R(u)-1)).toString(32)+r,s="_"+s+"R_"+r,r=gr++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=fb++,s="_"+s+"r_"+r.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Vc,useFormState:_h,useActionState:_h,useOptimistic:function(n){var s=Kt();s.memoizedState=s.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Pc.bind(null,De,!0,r),r.dispatch=s,[n,s]},useMemoCache:kc,useCacheRefresh:function(){return Kt().memoizedState=yb.bind(null,De)},useEffectEvent:function(n){var s=Kt(),r={impl:n};return s.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Bc={readContext:zt,use:yr,useCallback:Uh,useContext:zt,useEffect:Dc,useImperativeHandle:jh,useInsertionEffect:kh,useLayoutEffect:Mh,useMemo:Dh,useReducer:br,useRef:Eh,useState:function(){return br(ns)},useDebugValue:Ic,useDeferredValue:function(n,s){var r=Ct();return Ih(r,lt.memoizedState,n,s)},useTransition:function(){var n=br(ns)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:nl(n),s]},useSyncExternalStore:uh,useId:Ph,useHostTransitionStatus:Vc,useFormState:Th,useActionState:Th,useOptimistic:function(n,s){var r=Ct();return gh(r,lt,n,s)},useMemoCache:kc,useCacheRefresh:Bh};Bc.useEffectEvent=wh;var Fh={readContext:zt,use:yr,useCallback:Uh,useContext:zt,useEffect:Dc,useImperativeHandle:jh,useInsertionEffect:kh,useLayoutEffect:Mh,useMemo:Dh,useReducer:Rc,useRef:Eh,useState:function(){return Rc(ns)},useDebugValue:Ic,useDeferredValue:function(n,s){var r=Ct();return lt===null?Lc(r,n,s):Ih(r,lt.memoizedState,n,s)},useTransition:function(){var n=Rc(ns)[0],s=Ct().memoizedState;return[typeof n=="boolean"?n:nl(n),s]},useSyncExternalStore:uh,useId:Ph,useHostTransitionStatus:Vc,useFormState:Nh,useActionState:Nh,useOptimistic:function(n,s){var r=Ct();return lt!==null?gh(r,lt,n,s):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:kc,useCacheRefresh:Bh};Fh.useEffectEvent=wh;function zc(n,s,r,u){s=n.memoizedState,r=r(u,s),r=r==null?s:S({},s,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Hc={enqueueSetState:function(n,s,r){n=n._reactInternals;var u=mn(),m=vs(u);m.payload=s,r!=null&&(m.callback=r),s=Ss(n,m,u),s!==null&&(an(s,n,u),Qi(s,n,u))},enqueueReplaceState:function(n,s,r){n=n._reactInternals;var u=mn(),m=vs(u);m.tag=1,m.payload=s,r!=null&&(m.callback=r),s=Ss(n,m,u),s!==null&&(an(s,n,u),Qi(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var r=mn(),u=vs(r);u.tag=2,s!=null&&(u.callback=s),s=Ss(n,u,r),s!==null&&(an(s,n,r),Qi(s,n,r))}};function Yh(n,s,r,u,m,x,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,v):s.prototype&&s.prototype.isPureReactComponent?!Gi(r,u)||!Gi(m,x):!0}function $h(n,s,r,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,u),s.state!==n&&Hc.enqueueReplaceState(s,s.state,null)}function ca(n,s){var r=s;if("ref"in s){r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}if(n=n.defaultProps){r===s&&(r=S({},r));for(var m in n)r[m]===void 0&&(r[m]=n[m])}return r}function Kh(n){er(n)}function Xh(n){console.error(n)}function Jh(n){er(n)}function Tr(n,s){try{var r=n.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Zh(n,s,r){try{var u=n.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function qc(n,s,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Tr(n,s)},r}function Qh(n){return n=vs(n),n.tag=3,n}function Wh(n,s,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var x=u.value;n.payload=function(){return m(x)},n.callback=function(){Zh(s,r,u)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Zh(s,r,u),typeof m!="function"&&(As===null?As=new Set([this]):As.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function vb(n,s,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=r.alternate,s!==null&&Pa(s,r,m,!0),r=un.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?Ir():r.alternate===null&&_t===0&&(_t=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===ur?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([u]):s.add(u),mu(n,u,m)),!1;case 22:return r.flags|=65536,u===ur?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([u]):r.add(u)),mu(n,u,m)),!1}throw Error(a(435,r.tag))}return mu(n,u,m),Ir(),!1}if(Ye)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==oc&&(n=Error(a(422),{cause:u}),$i(Sn(n,r)))):(u!==oc&&(s=Error(a(423),{cause:u}),$i(Sn(s,r))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Sn(u,r),m=qc(n.stateNode,u,m),bc(n,m),_t!==4&&(_t=2)),!1;var x=Error(a(520),{cause:u});if(x=Sn(x,r),fl===null?fl=[x]:fl.push(x),_t!==4&&(_t=2),s===null)return!0;u=Sn(u,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,n=m&-m,r.lanes|=n,n=qc(r.stateNode,u,n),bc(r,n),!1;case 1:if(s=r.type,x=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(As===null||!As.has(x))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Qh(m),Wh(m,n,r,u),bc(r,m),!1}r=r.return}while(r!==null);return!1}var Gc=Error(a(461)),wt=!1;function Ht(n,s,r,u){s.child=n===null?sh(s,null,r,u):ra(s,n.child,r,u)}function em(n,s,r,u,m){r=r.render;var x=s.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return sa(s),u=Nc(n,s,r,v,x,m),T=Ec(),n!==null&&!wt?(Ac(n,s,m),ss(n,s,m)):(Ye&&T&&lc(s),s.flags|=1,Ht(n,s,u,m),s.child)}function tm(n,s,r,u,m){if(n===null){var x=r.type;return typeof x=="function"&&!sc(x)&&x.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=x,nm(n,s,x,u,m)):(n=ar(r.type,null,u,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!Qc(n,m)){var v=x.memoizedProps;if(r=r.compare,r=r!==null?r:Gi,r(v,u)&&n.ref===s.ref)return ss(n,s,m)}return s.flags|=1,n=Zn(x,u),n.ref=s.ref,n.return=s,s.child=n}function nm(n,s,r,u,m){if(n!==null){var x=n.memoizedProps;if(Gi(x,u)&&n.ref===s.ref)if(wt=!1,s.pendingProps=u=x,Qc(n,m))(n.flags&131072)!==0&&(wt=!0);else return s.lanes=n.lanes,ss(n,s,m)}return Fc(n,s,r,u,m)}function sm(n,s,r,u){var m=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|r:r,n!==null){for(u=s.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~x}else u=0,s.child=null;return am(n,s,x,r,u)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&or(s,x!==null?x.cachePool:null),x!==null?lh(s,x):Sc(),rh(s);else return u=s.lanes=536870912,am(n,s,x!==null?x.baseLanes|r:r,r,u)}else x!==null?(or(s,x.cachePool),lh(s,x),Ts(),s.memoizedState=null):(n!==null&&or(s,null),Sc(),Ts());return Ht(n,s,m,r),s.child}function il(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function am(n,s,r,u,m){var x=pc();return x=x===null?null:{parent:Et._currentValue,pool:x},s.memoizedState={baseLanes:r,cachePool:x},n!==null&&or(s,null),Sc(),rh(s),n!==null&&Pa(n,s,u,!0),s.childLanes=m,null}function Cr(n,s){return s=Er({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function im(n,s,r){return ra(s,n.child,null,r),n=Cr(s,s.pendingProps),n.flags|=2,dn(s),s.memoizedState=null,n}function Sb(n,s,r){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ye){if(u.mode==="hidden")return n=Cr(s,u),s.lanes=536870912,il(null,n);if(Tc(s),(n=ht)?(n=xp(n,Cn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ps!==null?{id:Bn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},r=Hf(n),r.return=s,s.child=r,Bt=s,ht=null)):n=null,n===null)throw xs(s);return s.lanes=536870912,null}return Cr(s,u)}var x=n.memoizedState;if(x!==null){var v=x.dehydrated;if(Tc(s),m)if(s.flags&256)s.flags&=-257,s=im(n,s,r);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(wt||Pa(n,s,r,!1),m=(r&n.childLanes)!==0,wt||m){if(u=ut,u!==null&&(v=Kd(u,r),v!==0&&v!==x.retryLane))throw x.retryLane=v,Ws(n,v),an(u,n,v),Gc;Ir(),s=im(n,s,r)}else n=x.treeContext,ht=En(v.nextSibling),Bt=s,Ye=!0,gs=null,Cn=!1,n!==null&&Ff(s,n),s=Cr(s,u),s.flags|=4096;return s}return n=Zn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Nr(n,s){var r=s.ref;if(r===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(s.flags|=4194816)}}function Fc(n,s,r,u,m){return sa(s),r=Nc(n,s,r,u,void 0,m),u=Ec(),n!==null&&!wt?(Ac(n,s,m),ss(n,s,m)):(Ye&&u&&lc(s),s.flags|=1,Ht(n,s,r,m),s.child)}function lm(n,s,r,u,m,x){return sa(s),s.updateQueue=null,r=ch(s,u,r,m),oh(n),u=Ec(),n!==null&&!wt?(Ac(n,s,x),ss(n,s,x)):(Ye&&u&&lc(s),s.flags|=1,Ht(n,s,r,x),s.child)}function rm(n,s,r,u,m){if(sa(s),s.stateNode===null){var x=Ia,v=r.contextType;typeof v=="object"&&v!==null&&(x=zt(v)),x=new r(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Hc,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},xc(s),v=r.contextType,x.context=typeof v=="object"&&v!==null?zt(v):Ia,x.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(zc(s,r,v,u),x.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(v=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),v!==x.state&&Hc.enqueueReplaceState(x,x.state,null),el(s,u,x,m),Wi(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var T=s.memoizedProps,k=ca(r,T);x.props=k;var O=x.context,$=r.contextType;v=Ia,typeof $=="object"&&$!==null&&(v=zt($));var ee=r.getDerivedStateFromProps;$=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,$||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T||O!==v)&&$h(s,x,u,v),bs=!1;var P=s.memoizedState;x.state=P,el(s,u,x,m),Wi(),O=s.memoizedState,T||P!==O||bs?(typeof ee=="function"&&(zc(s,r,ee,u),O=s.memoizedState),(k=bs||Yh(s,r,k,u,P,O,v))?($||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=O),x.props=u,x.state=O,x.context=v,u=k):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,yc(n,s),v=s.memoizedProps,$=ca(r,v),x.props=$,ee=s.pendingProps,P=x.context,O=r.contextType,k=Ia,typeof O=="object"&&O!==null&&(k=zt(O)),T=r.getDerivedStateFromProps,(O=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(v!==ee||P!==k)&&$h(s,x,u,k),bs=!1,P=s.memoizedState,x.state=P,el(s,u,x,m),Wi();var H=s.memoizedState;v!==ee||P!==H||bs||n!==null&&n.dependencies!==null&&lr(n.dependencies)?(typeof T=="function"&&(zc(s,r,T,u),H=s.memoizedState),($=bs||Yh(s,r,$,u,P,H,k)||n!==null&&n.dependencies!==null&&lr(n.dependencies))?(O||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,H,k),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,H,k)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=H),x.props=u,x.state=H,x.context=k,u=$):(typeof x.componentDidUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&P===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Nr(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=ra(s,n.child,null,m),s.child=ra(s,null,r,m)):Ht(n,s,r,m),s.memoizedState=x.state,n=s.child):n=ss(n,s,m),n}function om(n,s,r,u){return ta(),s.flags|=256,Ht(n,s,r,u),s.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(n){return{baseLanes:n,cachePool:Zf()}}function Kc(n,s,r){return n=n!==null?n.childLanes&~r:0,s&&(n|=hn),n}function cm(n,s,r){var u=s.pendingProps,m=!1,x=(s.flags&128)!==0,v;if((v=x)||(v=n!==null&&n.memoizedState===null?!1:(Tt.current&2)!==0),v&&(m=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ye){if(m?_s(s):Ts(),(n=ht)?(n=xp(n,Cn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ps!==null?{id:Bn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},r=Hf(n),r.return=s,s.child=r,Bt=s,ht=null)):n=null,n===null)throw xs(s);return Mu(n)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,m?(Ts(),m=s.mode,T=Er({mode:"hidden",children:T},m),u=ea(u,m,r,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=$c(r),u.childLanes=Kc(n,v,r),s.memoizedState=Yc,il(null,u)):(_s(s),Xc(s,T))}var k=n.memoizedState;if(k!==null&&(T=k.dehydrated,T!==null)){if(x)s.flags&256?(_s(s),s.flags&=-257,s=Jc(n,s,r)):s.memoizedState!==null?(Ts(),s.child=n.child,s.flags|=128,s=null):(Ts(),T=u.fallback,m=s.mode,u=Er({mode:"visible",children:u.children},m),T=ea(T,m,r,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,ra(s,n.child,null,r),u=s.child,u.memoizedState=$c(r),u.childLanes=Kc(n,v,r),s.memoizedState=Yc,s=il(null,u));else if(_s(s),Mu(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var O=v.dgst;v=O,u=Error(a(419)),u.stack="",u.digest=v,$i({value:u,source:null,stack:null}),s=Jc(n,s,r)}else if(wt||Pa(n,s,r,!1),v=(r&n.childLanes)!==0,wt||v){if(v=ut,v!==null&&(u=Kd(v,r),u!==0&&u!==k.retryLane))throw k.retryLane=u,Ws(n,u),an(v,n,u),Gc;ku(T)||Ir(),s=Jc(n,s,r)}else ku(T)?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,ht=En(T.nextSibling),Bt=s,Ye=!0,gs=null,Cn=!1,n!==null&&Ff(s,n),s=Xc(s,u.children),s.flags|=4096);return s}return m?(Ts(),T=u.fallback,m=s.mode,k=n.child,O=k.sibling,u=Zn(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,O!==null?T=Zn(O,T):(T=ea(T,m,r,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,il(null,u),u=s.child,T=n.child.memoizedState,T===null?T=$c(r):(m=T.cachePool,m!==null?(k=Et._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=Zf(),T={baseLanes:T.baseLanes|r,cachePool:m}),u.memoizedState=T,u.childLanes=Kc(n,v,r),s.memoizedState=Yc,il(n.child,u)):(_s(s),r=n.child,n=r.sibling,r=Zn(r,{mode:"visible",children:u.children}),r.return=s,r.sibling=null,n!==null&&(v=s.deletions,v===null?(s.deletions=[n],s.flags|=16):v.push(n)),s.child=r,s.memoizedState=null,r)}function Xc(n,s){return s=Er({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Er(n,s){return n=cn(22,n,null,s),n.lanes=0,n}function Jc(n,s,r){return ra(s,n.child,null,r),n=Xc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function um(n,s,r){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),dc(n.return,s,r)}function Zc(n,s,r,u,m,x){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m,treeForkCount:x}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=r,v.tailMode=m,v.treeForkCount=x)}function dm(n,s,r){var u=s.pendingProps,m=u.revealOrder,x=u.tail;u=u.children;var v=Tt.current,T=(v&2)!==0;if(T?(v=v&1|2,s.flags|=128):v&=1,J(Tt,v),Ht(n,s,u,r),u=Ye?Yi:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&um(n,r,s);else if(n.tag===19)um(n,r,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(r=s.child,m=null;r!==null;)n=r.alternate,n!==null&&mr(n)===null&&(m=r),r=r.sibling;r=m,r===null?(m=s.child,s.child=null):(m=r.sibling,r.sibling=null),Zc(s,!1,m,r,x,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&mr(n)===null){s.child=m;break}n=m.sibling,m.sibling=r,r=m,m=n}Zc(s,!0,r,null,x,u);break;case"together":Zc(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ss(n,s,r){if(n!==null&&(s.dependencies=n.dependencies),Es|=s.lanes,(r&s.childLanes)===0)if(n!==null){if(Pa(n,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,r=Zn(n,n.pendingProps),s.child=r,r.return=s;n.sibling!==null;)n=n.sibling,r=r.sibling=Zn(n,n.pendingProps),r.return=s;r.sibling=null}return s.child}function Qc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&lr(n)))}function _b(n,s,r){switch(s.tag){case 3:Ie(s,s.stateNode.containerInfo),ys(s,Et,n.memoizedState.cache),ta();break;case 27:case 5:Fe(s);break;case 4:Ie(s,s.stateNode.containerInfo);break;case 10:ys(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Tc(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(_s(s),s.flags|=128,null):(r&s.child.childLanes)!==0?cm(n,s,r):(_s(s),n=ss(n,s,r),n!==null?n.sibling:null);_s(s);break;case 19:var m=(n.flags&128)!==0;if(u=(r&s.childLanes)!==0,u||(Pa(n,s,r,!1),u=(r&s.childLanes)!==0),m){if(u)return dm(n,s,r);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),J(Tt,Tt.current),u)break;return null;case 22:return s.lanes=0,sm(n,s,r,s.pendingProps);case 24:ys(s,Et,n.memoizedState.cache)}return ss(n,s,r)}function fm(n,s,r){if(n!==null)if(n.memoizedProps!==s.pendingProps)wt=!0;else{if(!Qc(n,r)&&(s.flags&128)===0)return wt=!1,_b(n,s,r);wt=(n.flags&131072)!==0}else wt=!1,Ye&&(s.flags&1048576)!==0&&Gf(s,Yi,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ia(s.elementType),s.type=n,typeof n=="function")sc(n)?(u=ca(n,u),s.tag=1,s=rm(null,s,n,u,r)):(s.tag=0,s=Fc(null,s,n,u,r));else{if(n!=null){var m=n.$$typeof;if(m===z){s.tag=11,s=em(null,s,n,u,r);break e}else if(m===W){s.tag=14,s=tm(null,s,n,u,r);break e}}throw s=se(n)||n,Error(a(306,s,""))}}return s;case 0:return Fc(n,s,s.type,s.pendingProps,r);case 1:return u=s.type,m=ca(u,s.pendingProps),rm(n,s,u,m,r);case 3:e:{if(Ie(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var x=s.memoizedState;m=x.element,yc(n,s),el(s,u,null,r);var v=s.memoizedState;if(u=v.cache,ys(s,Et,u),u!==x.cache&&fc(s,[Et],r,!0),Wi(),u=v.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=om(n,s,u,r);break e}else if(u!==m){m=Sn(Error(a(424)),s),$i(m),s=om(n,s,u,r);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=En(n.firstChild),Bt=s,Ye=!0,gs=null,Cn=!0,r=sh(s,null,u,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ta(),u===m){s=ss(n,s,r);break e}Ht(n,s,u,r)}s=s.child}return s;case 26:return Nr(n,s),n===null?(r=Tp(s.type,null,s.pendingProps,null))?s.memoizedState=r:Ye||(r=s.type,n=s.pendingProps,u=Hr(V.current).createElement(r),u[Pt]=s,u[Qt]=n,qt(u,r,n),It(u),s.stateNode=u):s.memoizedState=Tp(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Fe(s),n===null&&Ye&&(u=s.stateNode=vp(s.type,s.pendingProps,V.current),Bt=s,Cn=!0,m=ht,Rs(s.type)?(Ru=m,ht=En(u.firstChild)):ht=m),Ht(n,s,s.pendingProps.children,r),Nr(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ye&&((m=u=ht)&&(u=Qb(u,s.type,s.pendingProps,Cn),u!==null?(s.stateNode=u,Bt=s,ht=En(u.firstChild),Cn=!1,m=!0):m=!1),m||xs(s)),Fe(s),m=s.type,x=s.pendingProps,v=n!==null?n.memoizedProps:null,u=x.children,Eu(m,x)?u=null:v!==null&&Eu(m,v)&&(s.flags|=32),s.memoizedState!==null&&(m=Nc(n,s,hb,null,null,r),vl._currentValue=m),Nr(n,s),Ht(n,s,u,r),s.child;case 6:return n===null&&Ye&&((n=r=ht)&&(r=Wb(r,s.pendingProps,Cn),r!==null?(s.stateNode=r,Bt=s,ht=null,n=!0):n=!1),n||xs(s)),null;case 13:return cm(n,s,r);case 4:return Ie(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ra(s,null,u,r):Ht(n,s,u,r),s.child;case 11:return em(n,s,s.type,s.pendingProps,r);case 7:return Ht(n,s,s.pendingProps,r),s.child;case 8:return Ht(n,s,s.pendingProps.children,r),s.child;case 12:return Ht(n,s,s.pendingProps.children,r),s.child;case 10:return u=s.pendingProps,ys(s,s.type,u.value),Ht(n,s,u.children,r),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,sa(s),m=zt(m),u=u(m),s.flags|=1,Ht(n,s,u,r),s.child;case 14:return tm(n,s,s.type,s.pendingProps,r);case 15:return nm(n,s,s.type,s.pendingProps,r);case 19:return dm(n,s,r);case 31:return Sb(n,s,r);case 22:return sm(n,s,r,s.pendingProps);case 24:return sa(s),u=zt(Et),n===null?(m=pc(),m===null&&(m=ut,x=hc(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=r),m=x),s.memoizedState={parent:u,cache:m},xc(s),ys(s,Et,m)):((n.lanes&r)!==0&&(yc(n,s),el(s,null,null,r),Wi()),m=n.memoizedState,x=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ys(s,Et,u)):(u=x.cache,ys(s,Et,u),u!==m.cache&&fc(s,[Et],r,!0))),Ht(n,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function as(n){n.flags|=4}function Wc(n,s,r,u,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Pm())n.flags|=8192;else throw la=ur,gc}else n.flags&=-16777217}function hm(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!wp(s))if(Pm())n.flags|=8192;else throw la=ur,gc}function Ar(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Fd():536870912,n.lanes|=s,Za|=s)}function ll(n,s){if(!Ye)switch(n.tailMode){case"hidden":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,r=0,u=0;if(s)for(var m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=r,s}function Tb(n,s,r){var u=s.pendingProps;switch(rc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return r=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),es(Et),de(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Va(s)?as(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,cc())),mt(s),null;case 26:var m=s.type,x=s.memoizedState;return n===null?(as(s),x!==null?(mt(s),hm(s,x)):(mt(s),Wc(s,m,null,u,r))):x?x!==n.memoizedState?(as(s),mt(s),hm(s,x)):(mt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&as(s),mt(s),Wc(s,m,n,u,r)),null;case 27:if(nt(s),r=V.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&as(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return mt(s),null}n=F.current,Va(s)?Yf(s):(n=vp(m,u,r),s.stateNode=n,as(s))}return mt(s),null;case 5:if(nt(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&as(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return mt(s),null}if(x=F.current,Va(s))Yf(s);else{var v=Hr(V.current);switch(x){case 1:x=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=v.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?v.createElement(m,{is:u.is}):v.createElement(m)}}x[Pt]=s,x[Qt]=u;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)x.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=x;e:switch(qt(x,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&as(s)}}return mt(s),Wc(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,r),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&as(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=V.current,Va(s)){if(n=s.stateNode,r=s.memoizedProps,u=null,m=Bt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[Pt]=s,n=!!(n.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||cp(n.nodeValue,r)),n||xs(s,!0)}else n=Hr(n).createTextNode(u),n[Pt]=s,s.stateNode=n}return mt(s),null;case 31:if(r=s.memoizedState,n===null||n.memoizedState!==null){if(u=Va(s),r!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Pt]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),n=!1}else r=cc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return s.flags&256?(dn(s),s):(dn(s),null);if((s.flags&128)!==0)throw Error(a(558))}return mt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Va(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(a(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Pt]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),m=!1}else m=cc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(dn(s),s):(dn(s),null)}return dn(s),(s.flags&128)!==0?(s.lanes=r,s):(r=u!==null,n=n!==null&&n.memoizedState!==null,r&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048)),r!==n&&r&&(s.child.flags|=8192),Ar(s,s.updateQueue),mt(s),null);case 4:return de(),n===null&&Su(s.stateNode.containerInfo),mt(s),null;case 10:return es(s.type),mt(s),null;case 19:if(I(Tt),u=s.memoizedState,u===null)return mt(s),null;if(m=(s.flags&128)!==0,x=u.rendering,x===null)if(m)ll(u,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=mr(n),x!==null){for(s.flags|=128,ll(u,!1),n=x.updateQueue,s.updateQueue=n,Ar(s,n),s.subtreeFlags=0,n=r,r=s.child;r!==null;)zf(r,n),r=r.sibling;return J(Tt,Tt.current&1|2),Ye&&Qn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&bt()>jr&&(s.flags|=128,m=!0,ll(u,!1),s.lanes=4194304)}else{if(!m)if(n=mr(x),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,Ar(s,n),ll(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!Ye)return mt(s),null}else 2*bt()-u.renderingStartTime>jr&&r!==536870912&&(s.flags|=128,m=!0,ll(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=bt(),n.sibling=null,r=Tt.current,J(Tt,m?r&1|2:r&1),Ye&&Qn(s,u.treeForkCount),n):(mt(s),null);case 22:case 23:return dn(s),_c(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(r&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),r=s.updateQueue,r!==null&&Ar(s,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048),n!==null&&I(aa),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),es(Et),mt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Cb(n,s){switch(rc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return es(Et),de(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return nt(s),null;case 31:if(s.memoizedState!==null){if(dn(s),s.alternate===null)throw Error(a(340));ta()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ta()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return I(Tt),null;case 4:return de(),null;case 10:return es(s.type),null;case 22:case 23:return dn(s),_c(),n!==null&&I(aa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return es(Et),null;case 25:return null;default:return null}}function mm(n,s){switch(rc(s),s.tag){case 3:es(Et),de();break;case 26:case 27:case 5:nt(s);break;case 4:de();break;case 31:s.memoizedState!==null&&dn(s);break;case 13:dn(s);break;case 19:I(Tt);break;case 10:es(s.type);break;case 22:case 23:dn(s),_c(),n!==null&&I(aa);break;case 24:es(Et)}}function rl(n,s){try{var r=s.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&n)===n){u=void 0;var x=r.create,v=r.inst;u=x(),v.destroy=u}r=r.next}while(r!==m)}}catch(T){it(s,s.return,T)}}function Cs(n,s,r){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var x=m.next;u=x;do{if((u.tag&n)===n){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,m=s;var k=r,O=T;try{O()}catch($){it(m,k,$)}}}u=u.next}while(u!==x)}}catch($){it(s,s.return,$)}}function pm(n){var s=n.updateQueue;if(s!==null){var r=n.stateNode;try{ih(s,r)}catch(u){it(n,n.return,u)}}}function gm(n,s,r){r.props=ca(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(u){it(n,s,u)}}function ol(n,s){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof r=="function"?n.refCleanup=r(u):r.current=u}}catch(m){it(n,s,m)}}function Hn(n,s){var r=n.ref,u=n.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){it(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){it(n,s,m)}else r.current=null}function xm(n){var s=n.type,r=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){it(n,n.return,m)}}function eu(n,s,r){try{var u=n.stateNode;Yb(u,n.type,r,s),u[Qt]=s}catch(m){it(n,n.return,m)}}function ym(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Rs(n.type)||n.tag===4}function tu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ym(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function nu(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(n),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Xn));else if(u!==4&&(u===27&&Rs(n.type)&&(r=n.stateNode,s=null),n=n.child,n!==null))for(nu(n,s,r),n=n.sibling;n!==null;)nu(n,s,r),n=n.sibling}function wr(n,s,r){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?r.insertBefore(n,s):r.appendChild(n);else if(u!==4&&(u===27&&Rs(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(wr(n,s,r),n=n.sibling;n!==null;)wr(n,s,r),n=n.sibling}function bm(n){var s=n.stateNode,r=n.memoizedProps;try{for(var u=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);qt(s,u,r),s[Pt]=n,s[Qt]=r}catch(x){it(n,n.return,x)}}var is=!1,kt=!1,su=!1,vm=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Nb(n,s){if(n=n.containerInfo,Cu=Xr,n=jf(n),Jo(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{r.nodeType,x.nodeType}catch{r=null;break e}var v=0,T=-1,k=-1,O=0,$=0,ee=n,P=null;t:for(;;){for(var H;ee!==r||m!==0&&ee.nodeType!==3||(T=v+m),ee!==x||u!==0&&ee.nodeType!==3||(k=v+u),ee.nodeType===3&&(v+=ee.nodeValue.length),(H=ee.firstChild)!==null;)P=ee,ee=H;for(;;){if(ee===n)break t;if(P===r&&++O===m&&(T=v),P===x&&++$===u&&(k=v),(H=ee.nextSibling)!==null)break;ee=P,P=ee.parentNode}ee=H}r=T===-1||k===-1?null:{start:T,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nu={focusedElem:n,selectionRange:r},Xr=!1,Lt=s;Lt!==null;)if(s=Lt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Lt=n;else for(;Lt!==null;){switch(s=Lt,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)m=n[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,r=s,m=x.memoizedProps,x=x.memoizedState,u=r.stateNode;try{var ge=ca(r.type,m);n=u.getSnapshotBeforeUpdate(ge,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){it(r,r.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,r=n.nodeType,r===9)wu(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Lt=n;break}Lt=s.return}}function Sm(n,s,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:rs(n,r),u&4&&rl(5,r);break;case 1:if(rs(n,r),u&4)if(n=r.stateNode,s===null)try{n.componentDidMount()}catch(v){it(r,r.return,v)}else{var m=ca(r.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(v){it(r,r.return,v)}}u&64&&pm(r),u&512&&ol(r,r.return);break;case 3:if(rs(n,r),u&64&&(n=r.updateQueue,n!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{ih(n,s)}catch(v){it(r,r.return,v)}}break;case 27:s===null&&u&4&&bm(r);case 26:case 5:rs(n,r),s===null&&u&4&&xm(r),u&512&&ol(r,r.return);break;case 12:rs(n,r);break;case 31:rs(n,r),u&4&&Cm(n,r);break;case 13:rs(n,r),u&4&&Nm(n,r),u&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=Db.bind(null,r),ev(n,r))));break;case 22:if(u=r.memoizedState!==null||is,!u){s=s!==null&&s.memoizedState!==null||kt,m=is;var x=kt;is=u,(kt=s)&&!x?os(n,r,(r.subtreeFlags&8772)!==0):rs(n,r),is=m,kt=x}break;case 30:break;default:rs(n,r)}}function _m(n){var s=n.alternate;s!==null&&(n.alternate=null,_m(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Uo(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,en=!1;function ls(n,s,r){for(r=r.child;r!==null;)Tm(n,s,r),r=r.sibling}function Tm(n,s,r){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount($n,r)}catch{}switch(r.tag){case 26:kt||Hn(r,s),ls(n,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:kt||Hn(r,s);var u=xt,m=en;Rs(r.type)&&(xt=r.stateNode,en=!1),ls(n,s,r),xl(r.stateNode),xt=u,en=m;break;case 5:kt||Hn(r,s);case 6:if(u=xt,m=en,xt=null,ls(n,s,r),xt=u,en=m,xt!==null)if(en)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(r.stateNode)}catch(x){it(r,s,x)}else try{xt.removeChild(r.stateNode)}catch(x){it(r,s,x)}break;case 18:xt!==null&&(en?(n=xt,pp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),ii(n)):pp(xt,r.stateNode));break;case 4:u=xt,m=en,xt=r.stateNode.containerInfo,en=!0,ls(n,s,r),xt=u,en=m;break;case 0:case 11:case 14:case 15:Cs(2,r,s),kt||Cs(4,r,s),ls(n,s,r);break;case 1:kt||(Hn(r,s),u=r.stateNode,typeof u.componentWillUnmount=="function"&&gm(r,s,u)),ls(n,s,r);break;case 21:ls(n,s,r);break;case 22:kt=(u=kt)||r.memoizedState!==null,ls(n,s,r),kt=u;break;default:ls(n,s,r)}}function Cm(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ii(n)}catch(r){it(s,s.return,r)}}}function Nm(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ii(n)}catch(r){it(s,s.return,r)}}function Eb(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new vm),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new vm),s;default:throw Error(a(435,n.tag))}}function kr(n,s){var r=Eb(n);s.forEach(function(u){if(!r.has(u)){r.add(u);var m=Ib.bind(null,n,u);u.then(m,m)}})}function tn(n,s){var r=s.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],x=n,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Rs(T.type)){xt=T.stateNode,en=!1;break e}break;case 5:xt=T.stateNode,en=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,en=!0;break e}T=T.return}if(xt===null)throw Error(a(160));Tm(x,v,m),xt=null,en=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Em(s,n),s=s.sibling}var In=null;function Em(n,s){var r=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:tn(s,n),nn(n),u&4&&(Cs(3,n,n.return),rl(3,n),Cs(5,n,n.return));break;case 1:tn(s,n),nn(n),u&512&&(kt||r===null||Hn(r,r.return)),u&64&&is&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=In;if(tn(s,n),nn(n),u&512&&(kt||r===null||Hn(r,r.return)),u&4){var x=r!==null?r.memoizedState:null;if(u=n.memoizedState,r===null)if(u===null)if(n.stateNode===null){e:{u=n.type,r=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Ii]||x[Pt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(u),m.head.insertBefore(x,m.querySelector("head > title"))),qt(x,u,r),x[Pt]=n,It(x),u=x;break e;case"link":var v=Ep("link","href",m).get(u+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(x=v[T],x.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&x.getAttribute("rel")===(r.rel==null?null:r.rel)&&x.getAttribute("title")===(r.title==null?null:r.title)&&x.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break t}}x=m.createElement(u),qt(x,u,r),m.head.appendChild(x);break;case"meta":if(v=Ep("meta","content",m).get(u+(r.content||""))){for(T=0;T<v.length;T++)if(x=v[T],x.getAttribute("content")===(r.content==null?null:""+r.content)&&x.getAttribute("name")===(r.name==null?null:r.name)&&x.getAttribute("property")===(r.property==null?null:r.property)&&x.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&x.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break t}}x=m.createElement(u),qt(x,u,r),m.head.appendChild(x);break;default:throw Error(a(468,u))}x[Pt]=n,It(x),u=x}n.stateNode=u}else Ap(m,n.type,n.stateNode);else n.stateNode=Np(m,u,n.memoizedProps);else x!==u?(x===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):x.count--,u===null?Ap(m,n.type,n.stateNode):Np(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&eu(n,n.memoizedProps,r.memoizedProps)}break;case 27:tn(s,n),nn(n),u&512&&(kt||r===null||Hn(r,r.return)),r!==null&&u&4&&eu(n,n.memoizedProps,r.memoizedProps);break;case 5:if(tn(s,n),nn(n),u&512&&(kt||r===null||Hn(r,r.return)),n.flags&32){m=n.stateNode;try{wa(m,"")}catch(ge){it(n,n.return,ge)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,eu(n,m,r!==null?r.memoizedProps:m)),u&1024&&(su=!0);break;case 6:if(tn(s,n),nn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,r=n.stateNode;try{r.nodeValue=u}catch(ge){it(n,n.return,ge)}}break;case 3:if(Fr=null,m=In,In=qr(s.containerInfo),tn(s,n),In=m,nn(n),u&4&&r!==null&&r.memoizedState.isDehydrated)try{ii(s.containerInfo)}catch(ge){it(n,n.return,ge)}su&&(su=!1,Am(n));break;case 4:u=In,In=qr(n.stateNode.containerInfo),tn(s,n),nn(n),In=u;break;case 12:tn(s,n),nn(n);break;case 31:tn(s,n),nn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kr(n,u)));break;case 13:tn(s,n),nn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Rr=bt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kr(n,u)));break;case 22:m=n.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,O=is,$=kt;if(is=O||m,kt=$||k,tn(s,n),kt=$,is=O,nn(n),u&8192)e:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(r===null||k||is||kt||ua(n)),r=null,s=n;;){if(s.tag===5||s.tag===26){if(r===null){k=r=s;try{if(x=k.stateNode,m)v=x.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=k.stateNode;var ee=k.memoizedProps.style,P=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ge){it(k,k.return,ge)}}}else if(s.tag===6){if(r===null){k=s;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(ge){it(k,k.return,ge)}}}else if(s.tag===18){if(r===null){k=s;try{var H=k.stateNode;m?gp(H,!0):gp(k.stateNode,!1)}catch(ge){it(k,k.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,kr(n,r))));break;case 19:tn(s,n),nn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kr(n,u)));break;case 30:break;case 21:break;default:tn(s,n),nn(n)}}function nn(n){var s=n.flags;if(s&2){try{for(var r,u=n.return;u!==null;){if(ym(u)){r=u;break}u=u.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var m=r.stateNode,x=tu(n);wr(n,x,m);break;case 5:var v=r.stateNode;r.flags&32&&(wa(v,""),r.flags&=-33);var T=tu(n);wr(n,T,v);break;case 3:case 4:var k=r.stateNode.containerInfo,O=tu(n);nu(n,O,k);break;default:throw Error(a(161))}}catch($){it(n,n.return,$)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Am(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Am(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function rs(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Sm(n,s.alternate,s),s=s.sibling}function ua(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),ua(s);break;case 1:Hn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&gm(s,s.return,r),ua(s);break;case 27:xl(s.stateNode);case 26:case 5:Hn(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}n=n.sibling}}function os(n,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=n,x=s,v=x.flags;switch(x.tag){case 0:case 11:case 15:os(m,x,r),rl(4,x);break;case 1:if(os(m,x,r),u=x,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(O){it(u,u.return,O)}if(u=x,m=u.updateQueue,m!==null){var T=u.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)ah(k[m],T)}catch(O){it(u,u.return,O)}}r&&v&64&&pm(x),ol(x,x.return);break;case 27:bm(x);case 26:case 5:os(m,x,r),r&&u===null&&v&4&&xm(x),ol(x,x.return);break;case 12:os(m,x,r);break;case 31:os(m,x,r),r&&v&4&&Cm(m,x);break;case 13:os(m,x,r),r&&v&4&&Nm(m,x);break;case 22:x.memoizedState===null&&os(m,x,r),ol(x,x.return);break;case 30:break;default:os(m,x,r)}s=s.sibling}}function au(n,s){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Ki(r))}function iu(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ki(n))}function Ln(n,s,r,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wm(n,s,r,u),s=s.sibling}function wm(n,s,r,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ln(n,s,r,u),m&2048&&rl(9,s);break;case 1:Ln(n,s,r,u);break;case 3:Ln(n,s,r,u),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Ki(n)));break;case 12:if(m&2048){Ln(n,s,r,u),n=s.stateNode;try{var x=s.memoizedProps,v=x.id,T=x.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){it(s,s.return,k)}}else Ln(n,s,r,u);break;case 31:Ln(n,s,r,u);break;case 13:Ln(n,s,r,u);break;case 23:break;case 22:x=s.stateNode,v=s.alternate,s.memoizedState!==null?x._visibility&2?Ln(n,s,r,u):cl(n,s):x._visibility&2?Ln(n,s,r,u):(x._visibility|=2,Ka(n,s,r,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&au(v,s);break;case 24:Ln(n,s,r,u),m&2048&&iu(s.alternate,s);break;default:Ln(n,s,r,u)}}function Ka(n,s,r,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,v=s,T=r,k=u,O=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(x,v,T,k,m),rl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ka(x,v,T,k,m):cl(x,v):($._visibility|=2,Ka(x,v,T,k,m)),m&&O&2048&&au(v.alternate,v);break;case 24:Ka(x,v,T,k,m),m&&O&2048&&iu(v.alternate,v);break;default:Ka(x,v,T,k,m)}s=s.sibling}}function cl(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=n,u=s,m=u.flags;switch(u.tag){case 22:cl(r,u),m&2048&&au(u.alternate,u);break;case 24:cl(r,u),m&2048&&iu(u.alternate,u);break;default:cl(r,u)}s=s.sibling}}var ul=8192;function Xa(n,s,r){if(n.subtreeFlags&ul)for(n=n.child;n!==null;)km(n,s,r),n=n.sibling}function km(n,s,r){switch(n.tag){case 26:Xa(n,s,r),n.flags&ul&&n.memoizedState!==null&&fv(r,In,n.memoizedState,n.memoizedProps);break;case 5:Xa(n,s,r);break;case 3:case 4:var u=In;In=qr(n.stateNode.containerInfo),Xa(n,s,r),In=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ul,ul=16777216,Xa(n,s,r),ul=u):Xa(n,s,r));break;default:Xa(n,s,r)}}function Mm(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function dl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];Lt=u,jm(u,n)}Mm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rm(n),n=n.sibling}function Rm(n){switch(n.tag){case 0:case 11:case 15:dl(n),n.flags&2048&&Cs(9,n,n.return);break;case 3:dl(n);break;case 12:dl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Mr(n)):dl(n);break;default:dl(n)}}function Mr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var u=s[r];Lt=u,jm(u,n)}Mm(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),Mr(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Mr(s));break;default:Mr(s)}n=n.sibling}}function jm(n,s){for(;Lt!==null;){var r=Lt;switch(r.tag){case 0:case 11:case 15:Cs(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ki(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Lt=u;else e:for(r=n;Lt!==null;){u=Lt;var m=u.sibling,x=u.return;if(_m(u),u===r){Lt=null;break e}if(m!==null){m.return=x,Lt=m;break e}Lt=x}}}var Ab={getCacheForType:function(n){var s=zt(Et),r=s.data.get(n);return r===void 0&&(r=n(),s.data.set(n,r)),r},cacheSignal:function(){return zt(Et).controller.signal}},wb=typeof WeakMap=="function"?WeakMap:Map,et=0,ut=null,Be=null,qe=0,at=0,fn=null,Ns=!1,Ja=!1,lu=!1,cs=0,_t=0,Es=0,da=0,ru=0,hn=0,Za=0,fl=null,sn=null,ou=!1,Rr=0,Um=0,jr=1/0,Ur=null,As=null,Rt=0,ws=null,Qa=null,us=0,cu=0,uu=null,Dm=null,hl=0,du=null;function mn(){return(et&2)!==0&&qe!==0?qe&-qe:B.T!==null?xu():Xd()}function Im(){if(hn===0)if((qe&536870912)===0||Ye){var n=He;He<<=1,(He&3932160)===0&&(He=262144),hn=n}else hn=536870912;return n=un.current,n!==null&&(n.flags|=32),hn}function an(n,s,r){(n===ut&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),ks(n,qe,hn,!1)),Di(n,r),((et&2)===0||n!==ut)&&(n===ut&&((et&2)===0&&(da|=r),_t===4&&ks(n,qe,hn,!1)),qn(n))}function Lm(n,s,r){if((et&6)!==0)throw Error(a(327));var u=!r&&(s&127)===0&&(s&n.expiredLanes)===0||Ks(n,s),m=u?Rb(n,s):hu(n,s,!0),x=u;do{if(m===0){Ja&&!u&&ks(n,s,0,!1);break}else{if(r=n.current.alternate,x&&!kb(r)){m=hu(n,s,!1),x=!1;continue}if(m===2){if(x=s,n.errorRecoveryDisabledLanes&x)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=n;m=fl;var k=T.current.memoizedState.isDehydrated;if(k&&(Wa(T,v).flags|=256),v=hu(T,v,!1),v!==2){if(lu&&!k){T.errorRecoveryDisabledLanes|=x,da|=x,m=4;break e}x=sn,sn=m,x!==null&&(sn===null?sn=x:sn.push.apply(sn,x))}m=v}if(x=!1,m!==2)continue}}if(m===1){Wa(n,0),ks(n,s,0,!0);break}e:{switch(u=n,x=m,x){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,hn,!Ns);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(m=Rr+300-bt(),10<m)){if(ks(u,s,hn,!Ns),Ft(u,0,!0)!==0)break e;us=s,u.timeoutHandle=hp(Om.bind(null,u,r,sn,Ur,ou,s,hn,da,Za,Ns,x,"Throttled",-0,0),m);break e}Om(u,r,sn,Ur,ou,s,hn,da,Za,Ns,x,null,-0,0)}}break}while(!0);qn(n)}function Om(n,s,r,u,m,x,v,T,k,O,$,ee,P,H){if(n.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},km(s,x,ee);var ge=(x&62914560)===x?Rr-bt():(x&4194048)===x?Um-bt():0;if(ge=hv(ee,ge),ge!==null){us=x,n.cancelPendingCommit=ge(Fm.bind(null,n,s,x,r,u,m,v,T,k,$,ee,null,P,H)),ks(n,x,v,!O);return}}Fm(n,s,x,r,u,m,v,T,k)}function kb(n){for(var s=n;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],x=m.getSnapshot;m=m.value;try{if(!on(x(),m))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(n,s,r,u){s&=~ru,s&=~da,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var m=s;0<m;){var x=31-R(m),v=1<<x;u[x]=-1,m&=~v}r!==0&&Yd(n,r,s)}function Dr(){return(et&6)===0?(ml(0),!1):!0}function fu(){if(Be!==null){if(at===0)var n=Be.return;else n=Be,Wn=na=null,wc(n),qa=null,Ji=0,n=Be;for(;n!==null;)mm(n.alternate,n),n=n.return;Be=null}}function Wa(n,s){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,Xb(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),us=0,fu(),ut=n,Be=r=Zn(n.current,null),qe=s,at=0,fn=null,Ns=!1,Ja=Ks(n,s),lu=!1,Za=hn=ru=da=Es=_t=0,sn=fl=null,ou=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var m=31-R(u),x=1<<m;s|=n[m],u&=~x}return cs=s,tr(),r}function Vm(n,s){De=null,B.H=al,s===Ha||s===cr?(s=eh(),at=3):s===gc?(s=eh(),at=4):at=s===Gc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,fn=s,Be===null&&(_t=1,Tr(n,Sn(s,n.current)))}function Pm(){var n=un.current;return n===null?!0:(qe&4194048)===qe?Nn===null:(qe&62914560)===qe||(qe&536870912)!==0?n===Nn:!1}function Bm(){var n=B.H;return B.H=al,n===null?al:n}function zm(){var n=B.A;return B.A=Ab,n}function Ir(){_t=4,Ns||(qe&4194048)!==qe&&un.current!==null||(Ja=!0),(Es&134217727)===0&&(da&134217727)===0||ut===null||ks(ut,qe,hn,!1)}function hu(n,s,r){var u=et;et|=2;var m=Bm(),x=zm();(ut!==n||qe!==s)&&(Ur=null,Wa(n,s)),s=!1;var v=_t;e:do try{if(at!==0&&Be!==null){var T=Be,k=fn;switch(at){case 8:fu(),v=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var O=at;if(at=0,fn=null,ei(n,T,k,O),r&&Ja){v=0;break e}break;default:O=at,at=0,fn=null,ei(n,T,k,O)}}Mb(),v=_t;break}catch($){Vm(n,$)}while(!0);return s&&n.shellSuspendCounter++,Wn=na=null,et=u,B.H=m,B.A=x,Be===null&&(ut=null,qe=0,tr()),v}function Mb(){for(;Be!==null;)Hm(Be)}function Rb(n,s){var r=et;et|=2;var u=Bm(),m=zm();ut!==n||qe!==s?(Ur=null,jr=bt()+500,Wa(n,s)):Ja=Ks(n,s);e:do try{if(at!==0&&Be!==null){s=Be;var x=fn;t:switch(at){case 1:at=0,fn=null,ei(n,s,x,1);break;case 2:case 9:if(Qf(x)){at=0,fn=null,qm(s);break}s=function(){at!==2&&at!==9||ut!==n||(at=7),qn(n)},x.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Qf(x)?(at=0,fn=null,qm(s)):(at=0,fn=null,ei(n,s,x,7));break;case 5:var v=null;switch(Be.tag){case 26:v=Be.memoizedState;case 5:case 27:var T=Be;if(v?wp(v):T.stateNode.complete){at=0,fn=null;var k=T.sibling;if(k!==null)Be=k;else{var O=T.return;O!==null?(Be=O,Lr(O)):Be=null}break t}}at=0,fn=null,ei(n,s,x,5);break;case 6:at=0,fn=null,ei(n,s,x,6);break;case 8:fu(),_t=6;break e;default:throw Error(a(462))}}jb();break}catch($){Vm(n,$)}while(!0);return Wn=na=null,B.H=u,B.A=m,et=r,Be!==null?0:(ut=null,qe=0,tr(),_t)}function jb(){for(;Be!==null&&!Nt();)Hm(Be)}function Hm(n){var s=fm(n.alternate,n,cs);n.memoizedProps=n.pendingProps,s===null?Lr(n):Be=s}function qm(n){var s=n,r=s.alternate;switch(s.tag){case 15:case 0:s=lm(r,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=lm(r,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:wc(s);default:mm(r,s),s=Be=zf(s,cs),s=fm(r,s,cs)}n.memoizedProps=n.pendingProps,s===null?Lr(n):Be=s}function ei(n,s,r,u){Wn=na=null,wc(s),qa=null,Ji=0;var m=s.return;try{if(vb(n,m,s,r,qe)){_t=1,Tr(n,Sn(r,n.current)),Be=null;return}}catch(x){if(m!==null)throw Be=m,x;_t=1,Tr(n,Sn(r,n.current)),Be=null;return}s.flags&32768?(Ye||u===1?n=!0:Ja||(qe&536870912)!==0?n=!1:(Ns=n=!0,(u===2||u===9||u===3||u===6)&&(u=un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gm(s,n)):Lr(s)}function Lr(n){var s=n;do{if((s.flags&32768)!==0){Gm(s,Ns);return}n=s.return;var r=Tb(s.alternate,s,cs);if(r!==null){Be=r;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=n}while(s!==null);_t===0&&(_t=5)}function Gm(n,s){do{var r=Cb(n.alternate,n);if(r!==null){r.flags&=32767,Be=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(n=n.sibling,n!==null)){Be=n;return}Be=n=r}while(n!==null);_t=6,Be=null}function Fm(n,s,r,u,m,x,v,T,k){n.cancelPendingCommit=null;do Or();while(Rt!==0);if((et&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(x=s.lanes|s.childLanes,x|=tc,dy(n,r,x,v,T,k),n===ut&&(Be=ut=null,qe=0),Qa=s,ws=n,us=r,cu=x,uu=m,Dm=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Lb(jn,function(){return Jm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,m=X.p,X.p=2,v=et,et|=4;try{Nb(n,s,r)}finally{et=v,X.p=m,B.T=u}}Rt=1,Ym(),$m(),Km()}}function Ym(){if(Rt===1){Rt=0;var n=ws,s=Qa,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var u=X.p;X.p=2;var m=et;et|=4;try{Em(s,n);var x=Nu,v=jf(n.containerInfo),T=x.focusedElem,k=x.selectionRange;if(v!==T&&T&&T.ownerDocument&&Rf(T.ownerDocument.documentElement,T)){if(k!==null&&Jo(T)){var O=k.start,$=k.end;if($===void 0&&($=O),"selectionStart"in T)T.selectionStart=O,T.selectionEnd=Math.min($,T.value.length);else{var ee=T.ownerDocument||document,P=ee&&ee.defaultView||window;if(P.getSelection){var H=P.getSelection(),ge=T.textContent.length,Ne=Math.min(k.start,ge),ot=k.end===void 0?Ne:Math.min(k.end,ge);!H.extend&&Ne>ot&&(v=ot,ot=Ne,Ne=v);var U=Mf(T,Ne),j=Mf(T,ot);if(U&&j&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==j.node||H.focusOffset!==j.offset)){var L=ee.createRange();L.setStart(U.node,U.offset),H.removeAllRanges(),Ne>ot?(H.addRange(L),H.extend(j.node,j.offset)):(L.setEnd(j.node,j.offset),H.addRange(L))}}}}for(ee=[],H=T;H=H.parentNode;)H.nodeType===1&&ee.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xr=!!Cu,Nu=Cu=null}finally{et=m,X.p=u,B.T=r}}n.current=s,Rt=2}}function $m(){if(Rt===2){Rt=0;var n=ws,s=Qa,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var u=X.p;X.p=2;var m=et;et|=4;try{Sm(n,s.alternate,s)}finally{et=m,X.p=u,B.T=r}}Rt=3}}function Km(){if(Rt===4||Rt===3){Rt=0,Dt();var n=ws,s=Qa,r=us,u=Dm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rt=5:(Rt=0,Qa=ws=null,Xm(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(As=null),Ro(r),s=s.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot($n,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,m=X.p,X.p=2,B.T=null;try{for(var x=n.onRecoverableError,v=0;v<u.length;v++){var T=u[v];x(T.value,{componentStack:T.stack})}}finally{B.T=s,X.p=m}}(us&3)!==0&&Or(),qn(n),m=n.pendingLanes,(r&261930)!==0&&(m&42)!==0?n===du?hl++:(hl=0,du=n):hl=0,ml(0)}}function Xm(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Ki(s)))}function Or(){return Ym(),$m(),Km(),Jm()}function Jm(){if(Rt!==5)return!1;var n=ws,s=cu;cu=0;var r=Ro(us),u=B.T,m=X.p;try{X.p=32>r?32:r,B.T=null,r=uu,uu=null;var x=ws,v=us;if(Rt=0,Qa=ws=null,us=0,(et&6)!==0)throw Error(a(331));var T=et;if(et|=4,Rm(x.current),wm(x,x.current,v,r),et=T,ml(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot($n,x)}catch{}return!0}finally{X.p=m,B.T=u,Xm(n,s)}}function Zm(n,s,r){s=Sn(r,s),s=qc(n.stateNode,s,2),n=Ss(n,s,2),n!==null&&(Di(n,2),qn(n))}function it(n,s,r){if(n.tag===3)Zm(n,n,r);else for(;s!==null;){if(s.tag===3){Zm(s,n,r);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(As===null||!As.has(u))){n=Sn(r,n),r=Qh(2),u=Ss(s,r,2),u!==null&&(Wh(r,u,s,n),Di(u,2),qn(u));break}}s=s.return}}function mu(n,s,r){var u=n.pingCache;if(u===null){u=n.pingCache=new wb;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(r)||(lu=!0,m.add(r),n=Ub.bind(null,n,s,r),s.then(n,n))}function Ub(n,s,r){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,ut===n&&(qe&r)===r&&(_t===4||_t===3&&(qe&62914560)===qe&&300>bt()-Rr?(et&2)===0&&Wa(n,0):ru|=r,Za===qe&&(Za=0)),qn(n)}function Qm(n,s){s===0&&(s=Fd()),n=Ws(n,s),n!==null&&(Di(n,s),qn(n))}function Db(n){var s=n.memoizedState,r=0;s!==null&&(r=s.retryLane),Qm(n,r)}function Ib(n,s){var r=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Qm(n,r)}function Lb(n,s){return jt(n,s)}var Vr=null,ti=null,pu=!1,Pr=!1,gu=!1,Ms=0;function qn(n){n!==ti&&n.next===null&&(ti===null?Vr=ti=n:ti=ti.next=n),Pr=!0,pu||(pu=!0,Vb())}function ml(n,s){if(!gu&&Pr){gu=!0;do for(var r=!1,u=Vr;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var x=0;else{var v=u.suspendedLanes,T=u.pingedLanes;x=(1<<31-R(42|n)+1)-1,x&=m&~(v&~T),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(r=!0,np(u,x))}else x=qe,x=Ft(u,u===ut?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Ks(u,x)||(r=!0,np(u,x));u=u.next}while(r);gu=!1}}function Ob(){Wm()}function Wm(){Pr=pu=!1;var n=0;Ms!==0&&Kb()&&(n=Ms);for(var s=bt(),r=null,u=Vr;u!==null;){var m=u.next,x=ep(u,s);x===0?(u.next=null,r===null?Vr=m:r.next=m,m===null&&(ti=r)):(r=u,(n!==0||(x&3)!==0)&&(Pr=!0)),u=m}Rt!==0&&Rt!==5||ml(n),Ms!==0&&(Ms=0)}function ep(n,s){for(var r=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var v=31-R(x),T=1<<v,k=m[v];k===-1?((T&r)===0||(T&u)!==0)&&(m[v]=uy(T,s)):k<=s&&(n.expiredLanes|=T),x&=~T}if(s=ut,r=qe,r=Ft(n,n===s?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,r===0||n===s&&(at===2||at===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ut(u),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ks(n,r)){if(s=r&-r,s===n.callbackPriority)return s;switch(u!==null&&Ut(u),Ro(r)){case 2:case 8:r=Zt;break;case 32:r=jn;break;case 268435456:r=$s;break;default:r=jn}return u=tp.bind(null,n),r=jt(r,u),n.callbackPriority=s,n.callbackNode=r,s}return u!==null&&u!==null&&Ut(u),n.callbackPriority=2,n.callbackNode=null,2}function tp(n,s){if(Rt!==0&&Rt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(Or()&&n.callbackNode!==r)return null;var u=qe;return u=Ft(n,n===ut?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Lm(n,u,s),ep(n,bt()),n.callbackNode!=null&&n.callbackNode===r?tp.bind(null,n):null)}function np(n,s){if(Or())return null;Lm(n,s,!0)}function Vb(){Jb(function(){(et&6)!==0?jt(Vt,Ob):Wm()})}function xu(){if(Ms===0){var n=Ba;n===0&&(n=st,st<<=1,(st&261888)===0&&(st=256)),Ms=n}return Ms}function sp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:$l(""+n)}function ap(n,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,n.id&&r.setAttribute("form",n.id),s.parentNode.insertBefore(r,s),n=new FormData(n),r.parentNode.removeChild(r),n}function Pb(n,s,r,u,m){if(s==="submit"&&r&&r.stateNode===m){var x=sp((m[Qt]||null).action),v=u.submitter;v&&(s=(s=v[Qt]||null)?sp(s.formAction):v.getAttribute("formAction"),s!==null&&(x=s,v=null));var T=new Zl("action","action",null,u,m);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ms!==0){var k=v?ap(m,v):new FormData(m);Oc(r,{pending:!0,data:k,method:m.method,action:x},null,k)}}else typeof x=="function"&&(T.preventDefault(),k=v?ap(m,v):new FormData(m),Oc(r,{pending:!0,data:k,method:m.method,action:x},x,k))},currentTarget:m}]})}}for(var yu=0;yu<ec.length;yu++){var bu=ec[yu],Bb=bu.toLowerCase(),zb=bu[0].toUpperCase()+bu.slice(1);Dn(Bb,"on"+zb)}Dn(If,"onAnimationEnd"),Dn(Lf,"onAnimationIteration"),Dn(Of,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(sb,"onTransitionRun"),Dn(ab,"onTransitionStart"),Dn(ib,"onTransitionCancel"),Dn(Vf,"onTransitionEnd"),Ea("onMouseEnter",["mouseout","mouseover"]),Ea("onMouseLeave",["mouseout","mouseover"]),Ea("onPointerEnter",["pointerout","pointerover"]),Ea("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function ip(n,s){s=(s&4)!==0;for(var r=0;r<n.length;r++){var u=n[r],m=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var v=u.length-1;0<=v;v--){var T=u[v],k=T.instance,O=T.currentTarget;if(T=T.listener,k!==x&&m.isPropagationStopped())break e;x=T,m.currentTarget=O;try{x(m)}catch($){er($)}m.currentTarget=null,x=k}else for(v=0;v<u.length;v++){if(T=u[v],k=T.instance,O=T.currentTarget,T=T.listener,k!==x&&m.isPropagationStopped())break e;x=T,m.currentTarget=O;try{x(m)}catch($){er($)}m.currentTarget=null,x=k}}}}function ze(n,s){var r=s[jo];r===void 0&&(r=s[jo]=new Set);var u=n+"__bubble";r.has(u)||(lp(s,n,2,!1),r.add(u))}function vu(n,s,r){var u=0;s&&(u|=4),lp(r,n,u,s)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Su(n){if(!n[Br]){n[Br]=!0,Qd.forEach(function(r){r!=="selectionchange"&&(Hb.has(r)||vu(r,!1,n),vu(r,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Br]||(s[Br]=!0,vu("selectionchange",!1,s))}}function lp(n,s,r,u){switch(Ip(s)){case 2:var m=gv;break;case 8:m=xv;break;default:m=Lu}r=m.bind(null,s,r,n),m=void 0,!zo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(s,r,{capture:!0,passive:m}):n.addEventListener(s,r,!0):m!==void 0?n.addEventListener(s,r,{passive:m}):n.addEventListener(s,r,!1)}function _u(n,s,r,u,m){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===m)break;if(v===4)for(v=u.return;v!==null;){var k=v.tag;if((k===3||k===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;T!==null;){if(v=Ta(T),v===null)return;if(k=v.tag,k===5||k===6||k===26||k===27){u=x=v;continue e}T=T.parentNode}}u=u.return}df(function(){var O=x,$=Po(r),ee=[];e:{var P=Pf.get(n);if(P!==void 0){var H=Zl,ge=n;switch(n){case"keypress":if(Xl(r)===0)break e;case"keydown":case"keyup":H=Iy;break;case"focusin":ge="focus",H=Fo;break;case"focusout":ge="blur",H=Fo;break;case"beforeblur":case"afterblur":H=Fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Vy;break;case If:case Lf:case Of:H=Ey;break;case Vf:H=By;break;case"scroll":case"scrollend":H=Sy;break;case"wheel":H=Hy;break;case"copy":case"cut":case"paste":H=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=gf;break;case"toggle":case"beforetoggle":H=Gy}var Ne=(s&4)!==0,ot=!Ne&&(n==="scroll"||n==="scrollend"),U=Ne?P!==null?P+"Capture":null:P;Ne=[];for(var j=O,L;j!==null;){var Z=j;if(L=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||L===null||U===null||(Z=Oi(j,U),Z!=null&&Ne.push(gl(j,Z,L))),ot)break;j=j.return}0<Ne.length&&(P=new H(P,ge,null,r,$),ee.push({event:P,listeners:Ne}))}}if((s&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",P&&r!==Vo&&(ge=r.relatedTarget||r.fromElement)&&(Ta(ge)||ge[_a]))break e;if((H||P)&&(P=$.window===$?$:(P=$.ownerDocument)?P.defaultView||P.parentWindow:window,H?(ge=r.relatedTarget||r.toElement,H=O,ge=ge?Ta(ge):null,ge!==null&&(ot=c(ge),Ne=ge.tag,ge!==ot||Ne!==5&&Ne!==27&&Ne!==6)&&(ge=null)):(H=null,ge=O),H!==ge)){if(Ne=mf,Z="onMouseLeave",U="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=gf,Z="onPointerLeave",U="onPointerEnter",j="pointer"),ot=H==null?P:Li(H),L=ge==null?P:Li(ge),P=new Ne(Z,j+"leave",H,r,$),P.target=ot,P.relatedTarget=L,Z=null,Ta($)===O&&(Ne=new Ne(U,j+"enter",ge,r,$),Ne.target=L,Ne.relatedTarget=ot,Z=Ne),ot=Z,H&&ge)t:{for(Ne=qb,U=H,j=ge,L=0,Z=U;Z;Z=Ne(Z))L++;Z=0;for(var _e=j;_e;_e=Ne(_e))Z++;for(;0<L-Z;)U=Ne(U),L--;for(;0<Z-L;)j=Ne(j),Z--;for(;L--;){if(U===j||j!==null&&U===j.alternate){Ne=U;break t}U=Ne(U),j=Ne(j)}Ne=null}else Ne=null;H!==null&&rp(ee,P,H,Ne,!1),ge!==null&&ot!==null&&rp(ee,ot,ge,Ne,!0)}}e:{if(P=O?Li(O):window,H=P.nodeName&&P.nodeName.toLowerCase(),H==="select"||H==="input"&&P.type==="file")var Ze=Cf;else if(_f(P))if(Nf)Ze=eb;else{Ze=Qy;var ve=Zy}else H=P.nodeName,!H||H.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&Oo(O.elementType)&&(Ze=Cf):Ze=Wy;if(Ze&&(Ze=Ze(n,O))){Tf(ee,Ze,r,$);break e}ve&&ve(n,P,O),n==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&Lo(P,"number",P.value)}switch(ve=O?Li(O):window,n){case"focusin":(_f(ve)||ve.contentEditable==="true")&&(ja=ve,Zo=O,Fi=null);break;case"focusout":Fi=Zo=ja=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,Uf(ee,r,$);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":Uf(ee,r,$)}var Le;if($o)e:{switch(n){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ra?vf(n,r)&&(Ge="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(xf&&r.locale!=="ko"&&(Ra||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ra&&(Le=ff()):(ms=$,Ho="value"in ms?ms.value:ms.textContent,Ra=!0)),ve=zr(O,Ge),0<ve.length&&(Ge=new pf(Ge,n,null,r,$),ee.push({event:Ge,listeners:ve}),Le?Ge.data=Le:(Le=Sf(r),Le!==null&&(Ge.data=Le)))),(Le=Yy?$y(n,r):Ky(n,r))&&(Ge=zr(O,"onBeforeInput"),0<Ge.length&&(ve=new pf("onBeforeInput","beforeinput",null,r,$),ee.push({event:ve,listeners:Ge}),ve.data=Le)),Pb(ee,n,O,r,$)}ip(ee,s)})}function gl(n,s,r){return{instance:n,listener:s,currentTarget:r}}function zr(n,s){for(var r=s+"Capture",u=[];n!==null;){var m=n,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Oi(n,r),m!=null&&u.unshift(gl(n,m,x)),m=Oi(n,s),m!=null&&u.push(gl(n,m,x))),n.tag===3)return u;n=n.return}return[]}function qb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function rp(n,s,r,u,m){for(var x=s._reactName,v=[];r!==null&&r!==u;){var T=r,k=T.alternate,O=T.stateNode;if(T=T.tag,k!==null&&k===u)break;T!==5&&T!==26&&T!==27||O===null||(k=O,m?(O=Oi(r,x),O!=null&&v.unshift(gl(r,O,k))):m||(O=Oi(r,x),O!=null&&v.push(gl(r,O,k)))),r=r.return}v.length!==0&&n.push({event:s,listeners:v})}var Gb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function op(n){return(typeof n=="string"?n:""+n).replace(Gb,`
`).replace(Fb,"")}function cp(n,s){return s=op(s),op(n)===s}function rt(n,s,r,u,m,x){switch(r){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||wa(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&wa(n,""+u);break;case"className":Fl(n,"class",u);break;case"tabIndex":Fl(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(n,r,u);break;case"style":cf(n,u,x);break;case"data":if(s!=="object"){Fl(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||r!=="href")){n.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=$l(""+u),n.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(r==="formAction"?(s!=="input"&&rt(n,s,"name",m.name,m,null),rt(n,s,"formEncType",m.formEncType,m,null),rt(n,s,"formMethod",m.formMethod,m,null),rt(n,s,"formTarget",m.formTarget,m,null)):(rt(n,s,"encType",m.encType,m,null),rt(n,s,"method",m.method,m,null),rt(n,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(r);break}u=$l(""+u),n.setAttribute(r,u);break;case"onClick":u!=null&&(n.onclick=Xn);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}r=$l(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""+u):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":u===!0?n.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(r,u):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(r,u):n.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(r):n.setAttribute(r,u);break;case"popover":ze("beforetoggle",n),ze("toggle",n),Gl(n,"popover",u);break;case"xlinkActuate":Kn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gl(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=by.get(r)||r,Gl(n,r,u))}}function Tu(n,s,r,u,m,x){switch(r){case"style":cf(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof u=="string"?wa(n,u):(typeof u=="number"||typeof u=="bigint")&&wa(n,""+u);break;case"onScroll":u!=null&&ze("scroll",n);break;case"onScrollEnd":u!=null&&ze("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),s=r.slice(2,m?r.length-7:void 0),x=n[Qt]||null,x=x!=null?x[r]:null,typeof x=="function"&&n.removeEventListener(s,x,m),typeof u=="function")){typeof x!="function"&&x!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(s,u,m);break e}r in n?n[r]=u:u===!0?n.setAttribute(r,""):Gl(n,r,u)}}}function qt(n,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",n),ze("load",n);var u=!1,m=!1,x;for(x in r)if(r.hasOwnProperty(x)){var v=r[x];if(v!=null)switch(x){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:rt(n,s,x,v,r,null)}}m&&rt(n,s,"srcSet",r.srcSet,r,null),u&&rt(n,s,"src",r.src,r,null);return;case"input":ze("invalid",n);var T=x=v=m=null,k=null,O=null;for(u in r)if(r.hasOwnProperty(u)){var $=r[u];if($!=null)switch(u){case"name":m=$;break;case"type":v=$;break;case"checked":k=$;break;case"defaultChecked":O=$;break;case"value":x=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:rt(n,s,u,$,r,null)}}af(n,x,T,k,O,v,m,!1);return;case"select":ze("invalid",n),u=v=x=null;for(m in r)if(r.hasOwnProperty(m)&&(T=r[m],T!=null))switch(m){case"value":x=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:rt(n,s,m,T,r,null)}s=x,r=v,n.multiple=!!u,s!=null?Aa(n,!!u,s,!1):r!=null&&Aa(n,!!u,r,!0);return;case"textarea":ze("invalid",n),x=m=u=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":m=T;break;case"children":x=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:rt(n,s,v,T,r,null)}rf(n,u,m,x);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(u=r[k],u!=null))switch(k){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(n,s,k,u,r,null)}return;case"dialog":ze("beforetoggle",n),ze("toggle",n),ze("cancel",n),ze("close",n);break;case"iframe":case"object":ze("load",n);break;case"video":case"audio":for(u=0;u<pl.length;u++)ze(pl[u],n);break;case"image":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"embed":case"source":case"link":ze("error",n),ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(u=r[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:rt(n,s,O,u,r,null)}return;default:if(Oo(s)){for($ in r)r.hasOwnProperty($)&&(u=r[$],u!==void 0&&Tu(n,s,$,u,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(u=r[T],u!=null&&rt(n,s,T,u,r,null))}function Yb(n,s,r,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,v=null,T=null,k=null,O=null,$=null;for(H in r){var ee=r[H];if(r.hasOwnProperty(H)&&ee!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":k=ee;default:u.hasOwnProperty(H)||rt(n,s,H,null,u,ee)}}for(var P in u){var H=u[P];if(ee=r[P],u.hasOwnProperty(P)&&(H!=null||ee!=null))switch(P){case"type":x=H;break;case"name":m=H;break;case"checked":O=H;break;case"defaultChecked":$=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:H!==ee&&rt(n,s,P,H,u,ee)}}Io(n,v,T,k,O,$,x,m);return;case"select":H=v=T=P=null;for(x in r)if(k=r[x],r.hasOwnProperty(x)&&k!=null)switch(x){case"value":break;case"multiple":H=k;default:u.hasOwnProperty(x)||rt(n,s,x,null,u,k)}for(m in u)if(x=u[m],k=r[m],u.hasOwnProperty(m)&&(x!=null||k!=null))switch(m){case"value":P=x;break;case"defaultValue":T=x;break;case"multiple":v=x;default:x!==k&&rt(n,s,m,x,u,k)}s=T,r=v,u=H,P!=null?Aa(n,!!r,P,!1):!!u!=!!r&&(s!=null?Aa(n,!!r,s,!0):Aa(n,!!r,r?[]:"",!1));return;case"textarea":H=P=null;for(T in r)if(m=r[T],r.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(n,s,T,null,u,m)}for(v in u)if(m=u[v],x=r[v],u.hasOwnProperty(v)&&(m!=null||x!=null))switch(v){case"value":P=m;break;case"defaultValue":H=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==x&&rt(n,s,v,m,u,x)}lf(n,P,H);return;case"option":for(var ge in r)if(P=r[ge],r.hasOwnProperty(ge)&&P!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:rt(n,s,ge,null,u,P)}for(k in u)if(P=u[k],H=r[k],u.hasOwnProperty(k)&&P!==H&&(P!=null||H!=null))switch(k){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:rt(n,s,k,P,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)P=r[Ne],r.hasOwnProperty(Ne)&&P!=null&&!u.hasOwnProperty(Ne)&&rt(n,s,Ne,null,u,P);for(O in u)if(P=u[O],H=r[O],u.hasOwnProperty(O)&&P!==H&&(P!=null||H!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,s));break;default:rt(n,s,O,P,u,H)}return;default:if(Oo(s)){for(var ot in r)P=r[ot],r.hasOwnProperty(ot)&&P!==void 0&&!u.hasOwnProperty(ot)&&Tu(n,s,ot,void 0,u,P);for($ in u)P=u[$],H=r[$],!u.hasOwnProperty($)||P===H||P===void 0&&H===void 0||Tu(n,s,$,P,u,H);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!u.hasOwnProperty(U)&&rt(n,s,U,null,u,P);for(ee in u)P=u[ee],H=r[ee],!u.hasOwnProperty(ee)||P===H||P==null&&H==null||rt(n,s,ee,P,u,H)}function up(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $b(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var m=r[u],x=m.transferSize,v=m.initiatorType,T=m.duration;if(x&&T&&up(v)){for(v=0,T=m.responseEnd,u+=1;u<r.length;u++){var k=r[u],O=k.startTime;if(O>T)break;var $=k.transferSize,ee=k.initiatorType;$&&up(ee)&&(k=k.responseEnd,v+=$*(k<T?1:(T-O)/(k-O)))}if(--u,s+=8*(x+v)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Cu=null,Nu=null;function Hr(n){return n.nodeType===9?n:n.ownerDocument}function dp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fp(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Eu(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Au=null;function Kb(){var n=window.event;return n&&n.type==="popstate"?n===Au?!1:(Au=n,!0):(Au=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(n){return mp.resolve(null).then(n).catch(Zb)}:hp;function Zb(n){setTimeout(function(){throw n})}function Rs(n){return n==="head"}function pp(n,s){var r=s,u=0;do{var m=r.nextSibling;if(n.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(u===0){n.removeChild(m),ii(s);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")xl(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,xl(r);for(var x=r.firstChild;x;){var v=x.nextSibling,T=x.nodeName;x[Ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&x.rel.toLowerCase()==="stylesheet"||r.removeChild(x),x=v}}else r==="body"&&xl(n.ownerDocument.body);r=m}while(r);ii(s)}function gp(n,s){var r=n;n=0;do{var u=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=u}while(r)}function wu(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wu(r),Uo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function Qb(n,s,r,u){for(;n.nodeType===1;){var m=r;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ii])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=En(n.nextSibling),n===null)break}return null}function Wb(n,s,r){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=En(n.nextSibling),n===null))return null;return n}function xp(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=En(n.nextSibling),n===null))return null;return n}function ku(n){return n.data==="$?"||n.data==="$~"}function Mu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ev(n,s){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||r.readyState!=="loading")s();else{var u=function(){s(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function En(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Ru=null;function yp(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(s===0)return En(n.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}n=n.nextSibling}return null}function bp(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return n;s--}else r!=="/$"&&r!=="/&"||s++}n=n.previousSibling}return null}function vp(n,s,r){switch(s=Hr(r),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function xl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Uo(n)}var An=new Map,Sp=new Set;function qr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ds=X.d;X.d={f:tv,r:nv,D:sv,C:av,L:iv,m:lv,X:ov,S:rv,M:cv};function tv(){var n=ds.f(),s=Dr();return n||s}function nv(n){var s=Ca(n);s!==null&&s.tag===5&&s.type==="form"?Vh(s):ds.r(n)}var ni=typeof document>"u"?null:document;function _p(n,s,r){var u=ni;if(u&&typeof s=="string"&&s){var m=bn(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),Sp.has(m)||(Sp.add(m),n={rel:n,crossOrigin:r,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),qt(s,"link",n),It(s),u.head.appendChild(s)))}}function sv(n){ds.D(n),_p("dns-prefetch",n,null)}function av(n,s){ds.C(n,s),_p("preconnect",n,s)}function iv(n,s,r){ds.L(n,s,r);var u=ni;if(u&&n&&s){var m='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+bn(r.imageSizes)+'"]')):m+='[href="'+bn(n)+'"]';var x=m;switch(s){case"style":x=si(n);break;case"script":x=ai(n)}An.has(x)||(n=S({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:n,as:s},r),An.set(x,n),u.querySelector(m)!==null||s==="style"&&u.querySelector(yl(x))||s==="script"&&u.querySelector(bl(x))||(s=u.createElement("link"),qt(s,"link",n),It(s),u.head.appendChild(s)))}}function lv(n,s){ds.m(n,s);var r=ni;if(r&&n){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(n)+'"]',x=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ai(n)}if(!An.has(x)&&(n=S({rel:"modulepreload",href:n},s),An.set(x,n),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(x)))return}u=r.createElement("link"),qt(u,"link",n),It(u),r.head.appendChild(u)}}}function rv(n,s,r){ds.S(n,s,r);var u=ni;if(u&&n){var m=Na(u).hoistableStyles,x=si(n);s=s||"default";var v=m.get(x);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(yl(x)))T.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":s},r),(r=An.get(x))&&ju(n,r);var k=v=u.createElement("link");It(k),qt(k,"link",n),k._p=new Promise(function(O,$){k.onload=O,k.onerror=$}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gr(v,s,u)}v={type:"stylesheet",instance:v,count:1,state:T},m.set(x,v)}}}function ov(n,s){ds.X(n,s);var r=ni;if(r&&n){var u=Na(r).hoistableScripts,m=ai(n),x=u.get(m);x||(x=r.querySelector(bl(m)),x||(n=S({src:n,async:!0},s),(s=An.get(m))&&Uu(n,s),x=r.createElement("script"),It(x),qt(x,"link",n),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(m,x))}}function cv(n,s){ds.M(n,s);var r=ni;if(r&&n){var u=Na(r).hoistableScripts,m=ai(n),x=u.get(m);x||(x=r.querySelector(bl(m)),x||(n=S({src:n,async:!0,type:"module"},s),(s=An.get(m))&&Uu(n,s),x=r.createElement("script"),It(x),qt(x,"link",n),r.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(m,x))}}function Tp(n,s,r,u){var m=(m=V.current)?qr(m):null;if(!m)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=si(r.href),r=Na(m).hoistableStyles,u=r.get(s),u||(u={type:"style",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=si(r.href);var x=Na(m).hoistableStyles,v=x.get(n);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,v),(x=m.querySelector(yl(n)))&&!x._p&&(v.instance=x,v.state.loading=5),An.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},An.set(n,r),x||uv(m,n,r,v.state))),s&&u===null)throw Error(a(528,""));return v}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ai(r),r=Na(m).hoistableScripts,u=r.get(s),u||(u={type:"script",instance:null,count:0,state:null},r.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function si(n){return'href="'+bn(n)+'"'}function yl(n){return'link[rel="stylesheet"]['+n+"]"}function Cp(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function uv(n,s,r,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qt(s,"link",r),It(s),n.head.appendChild(s))}function ai(n){return'[src="'+bn(n)+'"]'}function bl(n){return"script[async]"+n}function Np(n,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+bn(r.href)+'"]');if(u)return s.instance=u,It(u),u;var m=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),It(u),qt(u,"style",m),Gr(u,r.precedence,n),s.instance=u;case"stylesheet":m=si(r.href);var x=n.querySelector(yl(m));if(x)return s.state.loading|=4,s.instance=x,It(x),x;u=Cp(r),(m=An.get(m))&&ju(u,m),x=(n.ownerDocument||n).createElement("link"),It(x);var v=x;return v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),qt(x,"link",u),s.state.loading|=4,Gr(x,r.precedence,n),s.instance=x;case"script":return x=ai(r.src),(m=n.querySelector(bl(x)))?(s.instance=m,It(m),m):(u=r,(m=An.get(x))&&(u=S({},r),Uu(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),It(m),qt(m,"link",u),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Gr(u,r.precedence,n));return s.instance}function Gr(n,s,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,x=m,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===s)x=T;else if(x!==m)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(n,s.firstChild))}function ju(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Uu(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Fr=null;function Ep(n,s,r){if(Fr===null){var u=new Map,m=Fr=new Map;m.set(r,u)}else m=Fr,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(n))return u;for(u.set(n,null),r=r.getElementsByTagName(n),m=0;m<r.length;m++){var x=r[m];if(!(x[Ii]||x[Pt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var v=x.getAttribute(s)||"";v=n+v;var T=u.get(v);T?T.push(x):u.set(v,[x])}}return u}function Ap(n,s,r){n=n.ownerDocument||n,n.head.insertBefore(r,s==="title"?n.querySelector("head > title"):null)}function dv(n,s,r){if(r===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function fv(n,s,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=si(u.href),x=s.querySelector(yl(m));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Yr.bind(n),s.then(n,n)),r.state.loading|=4,r.instance=x,It(x);return}x=s.ownerDocument||s,u=Cp(u),(m=An.get(m))&&ju(u,m),x=x.createElement("link"),It(x);var v=x;v._p=new Promise(function(T,k){v.onload=T,v.onerror=k}),qt(x,"link",u),r.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=Yr.bind(n),s.addEventListener("load",r),s.addEventListener("error",r))}}var Du=0;function hv(n,s){return n.stylesheets&&n.count===0&&Kr(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var u=setTimeout(function(){if(n.stylesheets&&Kr(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Du===0&&(Du=62500*$b());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Kr(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Du?50:800)+s);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kr(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $r=null;function Kr(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$r=new Map,s.forEach(mv,n),$r=null,Yr.call(n))}function mv(n,s){if(!(s.state.loading&4)){var r=$r.get(n);if(r)var u=r.get(null);else{r=new Map,$r.set(n,r);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var v=m[x];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),u=v)}u&&r.set(null,u)}m=s.instance,v=m.getAttribute("data-precedence"),x=r.get(v)||u,x===u&&r.set(null,m),r.set(v,m),this.count++,u=Yr.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),x?x.parentNode.insertBefore(m,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var vl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function pv(n,s,r,u,m,x,v,T,k){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ko(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.hiddenUpdates=ko(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function kp(n,s,r,u,m,x,v,T,k,O,$,ee){return n=new pv(n,s,r,v,k,O,$,ee,T),s=1,x===!0&&(s|=24),x=cn(3,null,null,s),n.current=x,x.stateNode=n,s=hc(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:r,cache:s},xc(x),n}function Mp(n){return n?(n=Ia,n):Ia}function Rp(n,s,r,u,m,x){m=Mp(m),u.context===null?u.context=m:u.pendingContext=m,u=vs(s),u.payload={element:r},x=x===void 0?null:x,x!==null&&(u.callback=x),r=Ss(n,u,s),r!==null&&(an(r,n,s),Qi(r,n,s))}function jp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<s?r:s}}function Iu(n,s){jp(n,s),(n=n.alternate)&&jp(n,s)}function Up(n){if(n.tag===13||n.tag===31){var s=Ws(n,67108864);s!==null&&an(s,n,67108864),Iu(n,67108864)}}function Dp(n){if(n.tag===13||n.tag===31){var s=mn();s=Mo(s);var r=Ws(n,s);r!==null&&an(r,n,s),Iu(n,s)}}var Xr=!0;function gv(n,s,r,u){var m=B.T;B.T=null;var x=X.p;try{X.p=2,Lu(n,s,r,u)}finally{X.p=x,B.T=m}}function xv(n,s,r,u){var m=B.T;B.T=null;var x=X.p;try{X.p=8,Lu(n,s,r,u)}finally{X.p=x,B.T=m}}function Lu(n,s,r,u){if(Xr){var m=Ou(u);if(m===null)_u(n,s,u,Jr,r),Lp(n,u);else if(bv(m,n,s,r,u))u.stopPropagation();else if(Lp(n,u),s&4&&-1<yv.indexOf(n)){for(;m!==null;){var x=Ca(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var v=xn(x.pendingLanes);if(v!==0){var T=x;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var k=1<<31-R(v);T.entanglements[1]|=k,v&=~k}qn(x),(et&6)===0&&(jr=bt()+500,ml(0))}}break;case 31:case 13:T=Ws(x,2),T!==null&&an(T,x,2),Dr(),Iu(x,2)}if(x=Ou(u),x===null&&_u(n,s,u,Jr,r),x===m)break;m=x}m!==null&&u.stopPropagation()}else _u(n,s,u,null,r)}}function Ou(n){return n=Po(n),Vu(n)}var Jr=null;function Vu(n){if(Jr=null,n=Ta(n),n!==null){var s=c(n);if(s===null)n=null;else{var r=s.tag;if(r===13){if(n=h(s),n!==null)return n;n=null}else if(r===31){if(n=p(s),n!==null)return n;n=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Jr=n,null}function Ip(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Vt:return 2;case Zt:return 8;case jn:case Un:return 32;case $s:return 268435456;default:return 32}default:return 32}}var Pu=!1,js=null,Us=null,Ds=null,Sl=new Map,_l=new Map,Is=[],yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(n,s){switch(n){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Sl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(s.pointerId)}}function Tl(n,s,r,u,m,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:r,eventSystemFlags:u,nativeEvent:x,targetContainers:[m]},s!==null&&(s=Ca(s),s!==null&&Up(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function bv(n,s,r,u,m){switch(s){case"focusin":return js=Tl(js,n,s,r,u,m),!0;case"dragenter":return Us=Tl(Us,n,s,r,u,m),!0;case"mouseover":return Ds=Tl(Ds,n,s,r,u,m),!0;case"pointerover":var x=m.pointerId;return Sl.set(x,Tl(Sl.get(x)||null,n,s,r,u,m)),!0;case"gotpointercapture":return x=m.pointerId,_l.set(x,Tl(_l.get(x)||null,n,s,r,u,m)),!0}return!1}function Op(n){var s=Ta(n.target);if(s!==null){var r=c(s);if(r!==null){if(s=r.tag,s===13){if(s=h(r),s!==null){n.blockedOn=s,Jd(n.priority,function(){Dp(r)});return}}else if(s===31){if(s=p(r),s!==null){n.blockedOn=s,Jd(n.priority,function(){Dp(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zr(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var r=Ou(n.nativeEvent);if(r===null){r=n.nativeEvent;var u=new r.constructor(r.type,r);Vo=u,r.target.dispatchEvent(u),Vo=null}else return s=Ca(r),s!==null&&Up(s),n.blockedOn=r,!1;s.shift()}return!0}function Vp(n,s,r){Zr(n)&&r.delete(s)}function vv(){Pu=!1,js!==null&&Zr(js)&&(js=null),Us!==null&&Zr(Us)&&(Us=null),Ds!==null&&Zr(Ds)&&(Ds=null),Sl.forEach(Vp),_l.forEach(Vp)}function Qr(n,s){n.blockedOn===s&&(n.blockedOn=null,Pu||(Pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vv)))}var Wr=null;function Pp(n){Wr!==n&&(Wr=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wr===n&&(Wr=null);for(var s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],m=n[s+2];if(typeof u!="function"){if(Vu(u||r)===null)continue;break}var x=Ca(r);x!==null&&(n.splice(s,3),s-=3,Oc(x,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function ii(n){function s(k){return Qr(k,n)}js!==null&&Qr(js,n),Us!==null&&Qr(Us,n),Ds!==null&&Qr(Ds,n),Sl.forEach(s),_l.forEach(s);for(var r=0;r<Is.length;r++){var u=Is[r];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)Op(r),r.blockedOn===null&&Is.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],x=r[u+1],v=m[Qt]||null;if(typeof x=="function")v||Pp(r);else if(v){var T=null;if(x&&x.hasAttribute("formAction")){if(m=x,v=x[Qt]||null)T=v.formAction;else if(Vu(m)!==null)continue}else T=v.action;typeof T=="function"?r[u+1]=T:(r.splice(u,3),u-=3),Pp(r)}}}function Bp(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Bu(n){this._internalRoot=n}eo.prototype.render=Bu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,u=mn();Rp(r,u,n,s,null,null)},eo.prototype.unmount=Bu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Rp(n.current,2,null,n,null,null),Dr(),s[_a]=null}};function eo(n){this._internalRoot=n}eo.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xd();n={blockedOn:null,target:n,priority:s};for(var r=0;r<Is.length&&s!==0&&s<Is[r].priority;r++);Is.splice(r,0,n),r===0&&Op(n)}};var zp=e.version;if(zp!=="19.2.3")throw Error(a(527,zp,"19.2.3"));X.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(s),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var Sv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{$n=to.inject(Sv),te=to}catch{}}return Nl.createRoot=function(n,s){if(!l(n))throw Error(a(299));var r=!1,u="",m=Kh,x=Xh,v=Jh;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),s=kp(n,1,!1,null,null,r,u,null,m,x,v,Bp),n[_a]=s.current,Su(n),new Bu(s)},Nl.hydrateRoot=function(n,s,r){if(!l(n))throw Error(a(299));var u=!1,m="",x=Kh,v=Xh,T=Jh,k=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(k=r.formState)),s=kp(n,1,!0,s,r??null,u,m,k,x,v,T,Bp),s.context=Mp(null),r=s.current,u=mn(),u=Mo(u),m=vs(u),m.callback=null,Ss(r,m,u),r=u,s.current.lanes=r,Di(s,r),qn(s),n[_a]=s.current,Su(n),new eo(s)},Nl.version="19.2.3",Nl}var Zp;function jv(){if(Zp)return qu.exports;Zp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qu.exports=Rv(),qu.exports}var Uv=jv();const Dv=Ad(Uv);var rn=tx();const Iv="modulepreload",Lv=function(i){return"/"+i},Qp={},vi=function(e,t,a){let l=Promise.resolve();if(t&&t.length>0){let h=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),y=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=h(t.map(g=>{if(g=Lv(g),g in Qp)return;Qp[g]=!0;const b=g.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":Iv,b||(_.as="script"),_.crossOrigin="",_.href=g,y&&_.setAttribute("nonce",y),document.head.appendChild(_),b)return new Promise((A,M)=>{_.addEventListener("load",A),_.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})},Ov=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>vi(async()=>{const{default:a}=await Promise.resolve().then(()=>ki);return{default:a}},void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)};class kd extends Error{constructor(e,t="FunctionsError",a){super(e),this.name=t,this.context=a}}class Vv extends kd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pv extends kd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bv extends kd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var td;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(td||(td={}));var zv=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};class Hv{constructor(e,{headers:t={},customFetch:a,region:l=td.Any}={}){this.url=e,this.headers=t,this.region=l,this.fetch=Ov(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var a;return zv(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:h}=t;let p={},{region:y}=t;y||(y=this.region),y&&y!=="any"&&(p["x-region"]=y);let g;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(p["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(p["Content-Type"]="application/json",g=JSON.stringify(h)));const b=yield this.fetch(`${this.url}/${e}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g}).catch(M=>{throw new Vv(M)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Pv(b);if(!b.ok)throw new Bv(b);let _=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield b.json():_==="application/octet-stream"?A=yield b.blob():_==="text/event-stream"?A=b:_==="multipart/form-data"?A=yield b.formData():A=yield b.text(),{data:A,error:null}}catch(l){return{data:null,error:l}}})}}var $t={},li={},ri={},oi={},ci={},ui={},qv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=qv();const Gv=Si.fetch,nx=Si.fetch.bind(Si),sx=Si.Headers,Fv=Si.Request,Yv=Si.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:sx,Request:Fv,Response:Yv,default:nx,fetch:Gv},Symbol.toStringTag,{value:"Module"})),$v=Tv(ki);var no={},Wp;function Kv(){if(Wp)return no;Wp=1,Object.defineProperty(no,"__esModule",{value:!0});let i=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};return no.default=i,no}var eg;function ax(){if(eg)return ui;eg=1;var i=ui&&ui.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ui,"__esModule",{value:!0});const e=i($v),t=i(Kv());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=Object.assign({},this.headers),this.headers[c]=h,this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let y=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var b,S,_;let A=null,M=null,D=null,E=g.status,q=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Y=await g.text();Y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?M=Y:M=JSON.parse(Y))}const Q=(b=this.headers.Prefer)===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),z=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");Q&&z&&z.length>1&&(D=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(A={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,D=null,E=406,q="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const Q=await g.text();try{A=JSON.parse(Q),Array.isArray(A)&&g.status===404&&(M=[],A=null,E=200,q="OK")}catch{g.status===404&&Q===""?(E=204,q="No Content"):A={message:Q}}if(A&&this.isMaybeSingle&&(!((_=A==null?void 0:A.details)===null||_===void 0)&&_.includes("0 rows"))&&(A=null,E=200,q="OK"),A&&this.shouldThrowOnError)throw new t.default(A)}return{error:A,data:M,count:D,status:E,statusText:q}});return this.shouldThrowOnError||(y=y.catch(g=>{var b,S,_;return{error:{message:`${(b=g==null?void 0:g.name)!==null&&b!==void 0?b:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(S=g==null?void 0:g.stack)!==null&&S!==void 0?S:""}`,hint:"",code:`${(_=g==null?void 0:g.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),y.then(c,h)}}return ui.default=a,ui}var tg;function ix(){if(tg)return ci;tg=1;var i=ci&&ci.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ci,"__esModule",{value:!0});const e=i(ax());class t extends e.default{select(l){let c=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:p,referencedTable:y=p}={}){const g=y?`${y}.order`:"order",b=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${b?`${b},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:p=h}={}){const y=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(y,`${l}`),this.url.searchParams.set(g,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:p=!1,wal:y=!1,format:g="text"}={}){var b;const S=[l?"analyze":null,c?"verbose":null,h?"settings":null,p?"buffers":null,y?"wal":null].filter(Boolean).join("|"),_=(b=this.headers.Accept)!==null&&b!==void 0?b:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${_}"; options=${S};`,g==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ci.default=t,ci}var ng;function Md(){if(ng)return oi;ng=1;var i=oi&&oi.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oi,"__esModule",{value:!0});const e=i(ix());class t extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:p}={}){let y="";p==="plain"?y="pl":p==="phrase"?y="ph":p==="websearch"&&(y="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${y}fts${g}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return oi.default=t,oi}var sg;function lx(){if(sg)return ri;sg=1;var i=ri&&ri.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ri,"__esModule",{value:!0});const e=i(Md());class t{constructor(l,{headers:c={},schema:h,fetch:p}){this.url=l,this.headers=c,this.schema=h,this.fetch=p}select(l,{head:c=!1,count:h}={}){const p=c?"HEAD":"GET";let y=!1;const g=(l??"*").split("").map(b=>/\s/.test(b)&&!y?"":(b==='"'&&(y=!y),b)).join("");return this.url.searchParams.set("select",g),h&&(this.headers.Prefer=`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:h=!0}={}){const p="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),c&&y.push(`count=${c}`),h||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const g=l.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(g.length>0){const b=[...new Set(g)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:p,defaultToNull:y=!0}={}){const g="POST",b=[`resolution=${h?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&b.push(this.headers.Prefer),p&&b.push(`count=${p}`),y||b.push("missing=default"),this.headers.Prefer=b.join(","),Array.isArray(l)){const S=l.reduce((_,A)=>_.concat(Object.keys(A)),[]);if(S.length>0){const _=[...new Set(S)].map(A=>`"${A}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const h="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),this.headers.Prefer=p.join(","),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",h=[];return l&&h.push(`count=${l}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ri.default=t,ri}var El={},Al={},ag;function Xv(){return ag||(ag=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.version=void 0,Al.version="0.0.0-automated"),Al}var ig;function Jv(){if(ig)return El;ig=1,Object.defineProperty(El,"__esModule",{value:!0}),El.DEFAULT_HEADERS=void 0;const i=Xv();return El.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},El}var lg;function Zv(){if(lg)return li;lg=1;var i=li&&li.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(li,"__esModule",{value:!0});const e=i(lx()),t=i(Md()),a=Jv();class l{constructor(h,{headers:p={},schema:y,fetch:g}={}){this.url=h,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),p),this.schemaName=y,this.fetch=g}from(h){const p=new URL(`${this.url}/${h}`);return new e.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new l(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,p={},{head:y=!1,get:g=!1,count:b}={}){let S;const _=new URL(`${this.url}/rpc/${h}`);let A;y||g?(S=y?"HEAD":"GET",Object.entries(p).filter(([D,E])=>E!==void 0).map(([D,E])=>[D,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([D,E])=>{_.searchParams.append(D,E)})):(S="POST",A=p);const M=Object.assign({},this.headers);return b&&(M.Prefer=`count=${b}`),new t.default({method:S,url:_,headers:M,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return li.default=l,li}var rg;function Qv(){if(rg)return $t;rg=1;var i=$t&&$t.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty($t,"__esModule",{value:!0}),$t.PostgrestBuilder=$t.PostgrestTransformBuilder=$t.PostgrestFilterBuilder=$t.PostgrestQueryBuilder=$t.PostgrestClient=void 0;const e=i(Zv());$t.PostgrestClient=e.default;const t=i(lx());$t.PostgrestQueryBuilder=t.default;const a=i(Md());$t.PostgrestFilterBuilder=a.default;const l=i(ix());$t.PostgrestTransformBuilder=l.default;const c=i(ax());return $t.PostgrestBuilder=c.default,$t.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default},$t}var Wv=Qv();const eS=Ad(Wv),{PostgrestClient:tS,PostgrestQueryBuilder:vM,PostgrestFilterBuilder:SM,PostgrestTransformBuilder:_M,PostgrestBuilder:TM}=eS,nS="2.10.2",sS={"X-Client-Info":`realtime-js/${nS}`},aS="1.0.0",rx=1e4,iS=1e3;var xi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(xi||(xi={}));var pn;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(pn||(pn={}));var Vn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Vn||(Vn={}));var nd;(function(i){i.websocket="websocket"})(nd||(nd={}));var pa;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(pa||(pa={}));class lS{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,t,a)}_decodeBroadcast(e,t,a){const l=t.getUint8(1),c=t.getUint8(2);let h=this.HEADER_LENGTH+2;const p=a.decode(e.slice(h,h+l));h=h+l;const y=a.decode(e.slice(h,h+c));h=h+c;const g=JSON.parse(a.decode(e.slice(h,e.byteLength)));return{ref:null,topic:p,event:y,payload:g}}}class ox{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(dt||(dt={}));const og=(i,e,t={})=>{var a;const l=(a=t.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(e).reduce((c,h)=>(c[h]=rS(h,i,e,l),c),{})},rS=(i,e,t,a)=>{const l=e.find(p=>p.name===i),c=l==null?void 0:l.type,h=t[i];return c&&!a.includes(c)?cx(c,h):sd(h)},cx=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return dS(e,t)}switch(i){case dt.bool:return oS(e);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return cS(e);case dt.json:case dt.jsonb:return uS(e);case dt.timestamp:return fS(e);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return sd(e);default:return sd(e)}},sd=i=>i,oS=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},cS=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},uS=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},dS=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,a=i[t];if(i[0]==="{"&&a==="}"){let c;const h=i.slice(1,t);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(p=>cx(e,p))}return i},fS=i=>typeof i=="string"?i.replace(" ","T"):i,ux=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $u{constructor(e,t,a={},l=rx){this.channel=e,this.event=t,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var a;return this._hasReceived(e)&&t((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cg;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(cg||(cg={}));class Ul{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,l,c,h),this.pendingDiffs.forEach(y=>{this.state=Ul.syncDiff(this.state,y,c,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Ul.syncDiff(this.state,l,c,h),p())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,a,l){const c=this.cloneDeep(e),h=this.transformState(t),p={},y={};return this.map(c,(g,b)=>{h[g]||(y[g]=b)}),this.map(h,(g,b)=>{const S=c[g];if(S){const _=b.map(E=>E.presence_ref),A=S.map(E=>E.presence_ref),M=b.filter(E=>A.indexOf(E.presence_ref)<0),D=S.filter(E=>_.indexOf(E.presence_ref)<0);M.length>0&&(p[g]=M),D.length>0&&(y[g]=D)}else p[g]=b}),this.syncDiff(c,{joins:p,leaves:y},a,l)}static syncDiff(e,t,a,l){const{joins:c,leaves:h}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(c,(p,y)=>{var g;const b=(g=e[p])!==null&&g!==void 0?g:[];if(e[p]=this.cloneDeep(y),b.length>0){const S=e[p].map(A=>A.presence_ref),_=b.filter(A=>S.indexOf(A.presence_ref)<0);e[p].unshift(..._)}a(p,b,y)}),this.map(h,(p,y)=>{let g=e[p];if(!g)return;const b=y.map(S=>S.presence_ref);g=g.filter(S=>b.indexOf(S.presence_ref)<0),e[p]=g,l(p,g,y),g.length===0&&delete e[p]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(a=>t(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,a)=>{const l=e[a];return"metas"in l?t[a]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[a]=l,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ug;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(ug||(ug={}));var dg;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(dg||(dg={}));var fg;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(fg||(fg={}));class Rd{constructor(e,t={config:{}},a){this.topic=e,this.params=t,this.socket=a,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new ox(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Ul(this),this.broadcastEndpointURL=ux(this.socket.endPoint)+"/api/broadcast"}subscribe(e,t=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:h,private:p}}=this.params;this._onError(b=>e&&e("CHANNEL_ERROR",b)),this._onClose(()=>e&&e("CLOSED"));const y={},g={broadcast:c,presence:h,postgres_changes:(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(b=>b.filter))!==null&&l!==void 0?l:[],private:p};this.socket.accessToken&&(y.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:g},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:b})=>{var S;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),b===void 0){e&&e("SUBSCRIBED");return}else{const _=this.bindings.postgres_changes,A=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,M=[];for(let D=0;D<A;D++){const E=_[D],{filter:{event:q,schema:G,table:Q,filter:z}}=E,Y=b&&b[D];if(Y&&Y.event===q&&Y.schema===G&&Y.table===Q&&Y.filter===z)M.push(Object.assign(Object.assign({},E),{id:Y.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e("SUBSCRIBED");return}}).receive("error",b=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,a){return this._on(e,t,a)}async send(e,t={}){var a,l;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:h}=e,p={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,p,y;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((y=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(a=>{const l=new $u(this,Vn.leave,{},e);l.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}async _fetchWithTimeout(e,t,a){const l=new AbortController,c=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:l.signal}));return clearTimeout(c),h}_push(e,t,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new $u(this,e,t,a);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,t,a){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,a){var l,c;const h=e.toLocaleLowerCase(),{close:p,error:y,leave:g,join:b}=Vn;if(a&&[p,y,g,b].indexOf(h)>=0&&a!==this._joinRef())return;let _=this._onMessage(h,t,a);if(t&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(A=>{var M,D,E;return((M=A.filter)===null||M===void 0?void 0:M.event)==="*"||((E=(D=A.filter)===null||D===void 0?void 0:D.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===h}).map(A=>A.callback(_,a)):(c=this.bindings[h])===null||c===void 0||c.filter(A=>{var M,D,E,q,G,Q;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const z=A.id,Y=(M=A.filter)===null||M===void 0?void 0:M.event;return z&&((D=t.ids)===null||D===void 0?void 0:D.includes(z))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(G=(q=A==null?void 0:A.filter)===null||q===void 0?void 0:q.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return z==="*"||z===((Q=t==null?void 0:t.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof _=="object"&&"ids"in _){const M=_.data,{schema:D,table:E,commit_timestamp:q,type:G,errors:Q}=M;_=Object.assign(Object.assign({},{schema:D,table:E,commit_timestamp:q,eventType:G,new:{},old:{},errors:Q}),this._getPayloadRecords(M))}A.callback(_,a)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,a){const l=e.toLocaleLowerCase(),c={type:l,filter:t,callback:a};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,t){const a=e.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Rd.isEqual(l.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vn.close,{},e)}_onError(e){this._on(Vn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=og(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=og(e.columns,e.old_record)),t}}const hS=()=>{},mS=typeof WebSocket<"u";class pS{constructor(e,t){var a;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sS,this.params={},this.timeout=rx,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hS,this.conn=null,this.sendBuffer=[],this.serializer=new lS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=c=>{let h;return c?h=c:typeof fetch>"u"?h=(...p)=>vi(async()=>{const{default:y}=await Promise.resolve().then(()=>ki);return{default:y}},void 0).then(({default:y})=>y(...p)):h=fetch,(...p)=>h(...p)},this.endPoint=`${e}/${nd.websocket}`,this.httpEndpoint=ux(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const l=(a=t==null?void 0:t.params)===null||a===void 0?void 0:a.apikey;l&&(this.accessToken=l,this.apiKey=l),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(c,h)=>h(JSON.stringify(c)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ox(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(mS){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new gS(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),vi(async()=>{const{default:e}=await import("./browser-Cfgn76uh.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,a){this.logger(e,t,a)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return pa.Connecting;case xi.open:return pa.Open;case xi.closing:return pa.Closing;default:return pa.Closed}}isConnected(){return this.connectionState()===pa.Open}channel(e,t={config:{}}){const a=new Rd(`realtime:${e}`,t,this);return this.channels.push(a),a}push(e){const{topic:t,event:a,payload:l,ref:c}=e,h=()=>{this.encode(e,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${t} ${a} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Vn.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:aS}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:a,event:l,payload:c,ref:h}=t;(h&&h===this.pendingHeartbeatRef||l===(c==null?void 0:c.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${l} ${h&&"("+h+")"||""}`,c),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(l,c,h)),this.stateChangeCallbacks.message.forEach(p=>p(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const a=e.match(/\?/)?"&":"?",l=new URLSearchParams(t);return`${e}${a}${l}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(iS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class gS{constructor(e,t,a){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=a.close}}class jd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ot(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class xS extends jd{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ad extends jd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var yS=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};const dx=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>vi(async()=>{const{default:a}=await Promise.resolve().then(()=>ki);return{default:a}},void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},bS=()=>yS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vi(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response}),id=i=>{if(Array.isArray(i))return i.map(t=>id(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,a])=>{const l=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=id(a)}),e};var va=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};const Ku=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),vS=(i,e,t)=>va(void 0,void 0,void 0,function*(){const a=yield bS();i instanceof a&&!(t!=null&&t.noResolveJson)?i.json().then(l=>{e(new xS(Ku(l),i.status||500))}).catch(l=>{e(new ad(Ku(l),l))}):e(new ad(Ku(i),i))}),SS=(i,e,t,a)=>{const l={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a&&(l.body=JSON.stringify(a)),Object.assign(Object.assign({},l),t))};function zl(i,e,t,a,l,c){return va(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(t,SS(e,a,l,c)).then(y=>{if(!y.ok)throw y;return a!=null&&a.noResolveJson?y:y.json()}).then(y=>h(y)).catch(y=>vS(y,p,a))})})}function ho(i,e,t,a){return va(this,void 0,void 0,function*(){return zl(i,"GET",e,t,a)})}function Ps(i,e,t,a,l){return va(this,void 0,void 0,function*(){return zl(i,"POST",e,a,l,t)})}function _S(i,e,t,a,l){return va(this,void 0,void 0,function*(){return zl(i,"PUT",e,a,l,t)})}function TS(i,e,t,a){return va(this,void 0,void 0,function*(){return zl(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),a)})}function fx(i,e,t,a,l){return va(this,void 0,void 0,function*(){return zl(i,"DELETE",e,a,l,t)})}var ln=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};const CS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class NS{constructor(e,t={},a,l){this.url=e,this.headers=t,this.bucketId=a,this.fetch=dx(l)}uploadOrUpdate(e,t,a,l){return ln(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},hg),l);let p=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(h.upsert)});const y=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",a),y&&c.append("metadata",this.encodeMetadata(y))):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",h.cacheControl),y&&c.append("metadata",this.encodeMetadata(y))):(c=a,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,y&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const g=this._removeEmptyFolders(t),b=this._getFinalPath(g),S=yield this.fetch(`${this.url}/object/${b}`,Object.assign({method:e,body:c,headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{})),_=yield S.json();return S.ok?{data:{path:g,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(c){if(Ot(c))return{data:null,error:c};throw c}})}upload(e,t,a){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,a)})}uploadToSignedUrl(e,t,a,l){return ln(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),h=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",t);try{let y;const g=Object.assign({upsert:hg.upsert},l),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&a instanceof Blob?(y=new FormData,y.append("cacheControl",g.cacheControl),y.append("",a)):typeof FormData<"u"&&a instanceof FormData?(y=a,y.append("cacheControl",g.cacheControl)):(y=a,b["cache-control"]=`max-age=${g.cacheControl}`,b["content-type"]=g.contentType);const S=yield this.fetch(p.toString(),{method:"PUT",body:y,headers:b}),_=yield S.json();return S.ok?{data:{path:c,fullPath:_.Key},error:null}:{data:null,error:_}}catch(y){if(Ot(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(e,t){return ln(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const l=Object.assign({},this.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const c=yield Ps(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(this.url+c.url),p=h.searchParams.get("token");if(!p)throw new jd("No token returned by API");return{data:{signedUrl:h.toString(),path:e,token:p},error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}update(e,t,a){return ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,a)})}move(e,t,a){return ln(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}copy(e,t,a){return ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Ps(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrl(e,t,a){return ln(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),c=yield Ps(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}createSignedUrls(e,t,a){return ln(this,void 0,void 0,function*(){try{const l=yield Ps(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}download(e,t){return ln(this,void 0,void 0,function*(){const l=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),h=c?`?${c}`:"";try{const p=this._getFinalPath(e);return{data:yield(yield ho(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Ot(p))return{data:null,error:p};throw p}})}info(e){return ln(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const a=yield ho(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:id(a),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}exists(e){return ln(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield TS(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Ot(a)&&a instanceof ad){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,t){const a=this._getFinalPath(e),l=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&l.push(c);const p=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",y=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});y!==""&&l.push(y);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${g}`)}}}remove(e){return ln(this,void 0,void 0,function*(){try{return{data:yield fx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}list(e,t,a){return ln(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},CS),t),{prefix:e||""});return{data:yield Ps(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(Ot(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ES="2.7.0",AS={"X-Client-Info":`storage-js/${ES}`};var di=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};class wS{constructor(e,t={},a){this.url=e,this.headers=Object.assign(Object.assign({},AS),t),this.fetch=dx(a)}listBuckets(){return di(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ot(e))return{data:null,error:e};throw e}})}getBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return di(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return di(this,void 0,void 0,function*(){try{return{data:yield _S(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ot(a))return{data:null,error:a};throw a}})}emptyBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}deleteBucket(e){return di(this,void 0,void 0,function*(){try{return{data:yield fx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ot(t))return{data:null,error:t};throw t}})}}class kS extends wS{constructor(e,t={},a){super(e,t,a)}from(e){return new NS(this.url,this.headers,e,this.fetch)}}const MS="2.45.4";let Ml="";typeof Deno<"u"?Ml="deno":typeof document<"u"?Ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ml="react-native":Ml="node";const RS={"X-Client-Info":`supabase-js-${Ml}/${MS}`},jS={headers:RS},US={schema:"public"},DS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IS={};var LS=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};const OS=i=>{let e;return i?e=i:typeof fetch>"u"?e=nx:e=fetch,(...t)=>e(...t)},VS=()=>typeof Headers>"u"?sx:Headers,PS=(i,e,t)=>{const a=OS(t),l=VS();return(c,h)=>LS(void 0,void 0,void 0,function*(){var p;const y=(p=yield e())!==null&&p!==void 0?p:i;let g=new l(h==null?void 0:h.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${y}`),a(c,Object.assign(Object.assign({},h),{headers:g}))})};var BS=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};function zS(i){return i.replace(/\/$/,"")}function HS(i,e){const{db:t,auth:a,realtime:l,global:c}=i,{db:h,auth:p,realtime:y,global:g}=e,b={db:Object.assign(Object.assign({},h),t),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},y),l),global:Object.assign(Object.assign({},g),c),accessToken:()=>BS(this,void 0,void 0,function*(){return""})};return i.accessToken?b.accessToken=i.accessToken:delete b.accessToken,b}const hx="2.65.0",qS="http://localhost:9999",GS="supabase.auth.token",FS={"X-Client-Info":`gotrue-js/${hx}`},mg=10,ld="X-Supabase-Api-Version",mx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function YS(i){return Math.round(Date.now()/1e3)+i}function $S(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const On=()=>typeof document<"u",fa={tested:!1,writable:!1},Dl=()=>{if(!On())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function Xu(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return t.searchParams.forEach((a,l)=>{e[l]=a}),e}const px=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>vi(async()=>{const{default:a}=await Promise.resolve().then(()=>ki);return{default:a}},void 0).then(({default:a})=>a(...t)):e=fetch,(...t)=>e(...t)},KS=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",gx=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},so=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ao=async(i,e)=>{await i.removeItem(e)};function XS(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",a,l,c,h,p,y,g,b=0;for(i=i.replace("-","+").replace("_","/");b<i.length;)h=e.indexOf(i.charAt(b++)),p=e.indexOf(i.charAt(b++)),y=e.indexOf(i.charAt(b++)),g=e.indexOf(i.charAt(b++)),a=h<<2|p>>4,l=(p&15)<<4|y>>2,c=(y&3)<<6|g,t=t+String.fromCharCode(a),y!=64&&l!=0&&(t=t+String.fromCharCode(l)),g!=64&&c!=0&&(t=t+String.fromCharCode(c));return t}class Co{constructor(){this.promise=new Co.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Co.promiseConstructor=Promise;function pg(i){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=i.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const a=t[1];return JSON.parse(XS(a))}async function JS(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function ZS(i,e){return new Promise((a,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!e(c,null,h)){a(h);return}}catch(h){if(!e(c,h)){l(h);return}}})()})}function QS(i){return("0"+i.toString(16)).substr(-2)}function WS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=t.length;let l="";for(let c=0;c<56;c++)l+=t.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(e),Array.from(e,QS).join("")}async function e_(i){const t=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",t),l=new Uint8Array(a);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}function t_(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function n_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await e_(i);return t_(t)}async function fi(i,e,t=!1){const a=WS();let l=a;t&&(l+="/PASSWORD_RECOVERY"),await gx(i,`${e}-code-verifier`,l);const c=await n_(a);return[c,a===c?"plain":"s256"]}const s_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function a_(i){const e=i.headers.get(ld);if(!e||!e.match(s_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ud extends Error{constructor(e,t,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=a}}function Pe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class i_ extends Ud{constructor(e,t,a){super(e,t,a),this.name="AuthApiError",this.status=t,this.code=a}}function l_(i){return Pe(i)&&i.name==="AuthApiError"}class xx extends Ud{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Sa extends Ud{constructor(e,t,a,l){super(e,a,l),this.name=t,this.status=a}}class Os extends Sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function r_(i){return Pe(i)&&i.name==="AuthSessionMissingError"}class Ju extends Sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends Sa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lo extends Sa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gg extends Sa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rd extends Sa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Zu(i){return Pe(i)&&i.name==="AuthRetryableFetchError"}class xg extends Sa{constructor(e,t,a){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=a}}var o_=function(i,e){var t={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(t[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(t[a[l]]=i[a[l]]);return t};const ma=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),c_=[502,503,504];async function yg(i){var e;if(!KS(i))throw new rd(ma(i),0);if(c_.includes(i.status))throw new rd(ma(i),i.status);let t;try{t=await i.json()}catch(c){throw new xx(ma(c),c)}let a;const l=a_(i);if(l&&l.getTime()>=mx["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?a=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(a=t.error_code),a){if(a==="weak_password")throw new xg(ma(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Os}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new xg(ma(t),i.status,t.weak_password.reasons);throw new i_(ma(t),i.status||500,a)}const u_=(i,e,t,a)=>{const l={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),t))};async function $e(i,e,t,a){var l;const c=Object.assign({},a==null?void 0:a.headers);c[ld]||(c[ld]=mx["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",y=await d_(i,e,t+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(y):{data:Object.assign({},y),error:null}}async function d_(i,e,t,a,l,c){const h=u_(e,a,l,c);let p;try{p=await i(t,Object.assign({},h))}catch(y){throw console.error(y),new rd(ma(y),0)}if(p.ok||await yg(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(y){await yg(y)}}function Vs(i){var e;let t=null;p_(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=YS(i.expires_in)));const a=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:a},error:null}}function bg(i){const e=Vs(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,a)=>t&&typeof a=="string",!0)&&(e.data.weak_password=i.weak_password),e}function zs(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function f_(i){return{data:i,error:null}}function h_(i){const{action_link:e,email_otp:t,hashed_token:a,redirect_to:l,verification_type:c}=i,h=o_(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:t,hashed_token:a,redirect_to:l,verification_type:c},y=Object.assign({},h);return{data:{properties:p,user:y},error:null}}function m_(i){return i}function p_(i){return i.access_token&&i.refresh_token&&i.expires_in}var g_=function(i,e){var t={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&e.indexOf(a)<0&&(t[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)e.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(t[a[l]]=i[a[l]]);return t};class x_{constructor({url:e="",headers:t={},fetch:a}){this.url=e,this.headers=t,this.fetch=px(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,t={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:zs})}catch(a){if(Pe(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:t}=e,a=g_(e,["options"]),l=Object.assign(Object.assign({},a),t);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:h_,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zs})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,a,l,c,h,p,y;try{const g={nextPage:null,lastPage:0,total:0},b=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&a!==void 0?a:"",per_page:(c=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:m_});if(b.error)throw b.error;const S=await b.json(),_=(h=b.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(y=(p=b.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(M=>{const D=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(M.split(";")[1].split("=")[1]);g[`${E}Page`]=D}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},S),g),error:null}}catch(g){if(Pe(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zs})}catch(t){if(Pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:zs})}catch(a){if(Pe(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,t=!1){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:zs})}catch(a){if(Pe(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){try{const{data:t,error:a}=await $e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:t,error:a}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}}const y_={getItem:i=>Dl()?globalThis.localStorage.getItem(i):null,setItem:(i,e)=>{Dl()&&globalThis.localStorage.setItem(i,e)},removeItem:i=>{Dl()&&globalThis.localStorage.removeItem(i)}};function vg(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}function b_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hi={debug:!!(globalThis&&Dl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v_ extends yx{}async function S_(i,e,t){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),hi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await t()}finally{hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(e===0)throw hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new v_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(hi.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}b_();const __={url:qS,storageKey:GS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},wl=30*1e3,Sg=3;async function _g(i,e,t){return await t()}class Ol{constructor(e){var t,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ol.nextInstanceID,Ol.nextInstanceID+=1,this.instanceID>0&&On()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},__),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new x_({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=px(l.fetch),this.lock=l.lock||_g,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:On()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=S_:this.lock=_g,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:Dl()?this.storage=y_:(this.memoryStorage={},this.storage=vg(this.memoryStorage)):(this.memoryStorage={},this.storage=vg(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=On()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:a}=await this._getSessionFromURL(e);if(a)return this._debug("#_initialize()","error detecting session from URL",a),(a==null?void 0:a.message)==="Identity is already linked"||(a==null?void 0:a.message)==="Identity is already linked to another user"?{error:a}:(await this._removeSession(),{error:a});const{session:l,redirectType:c}=t;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Pe(e)?{error:e}:{error:new xx("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,a,l;try{const c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:Vs}),{data:h,error:p}=c;if(p||!h)return{data:{user:null,session:null},error:p};const y=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(c){if(Pe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,a,l;try{let c;if("email"in e){const{email:b,password:S,options:_}=e;let A=null,M=null;this.flowType==="pkce"&&([A,M]=await fi(this.storage,this.storageKey)),c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:b,password:S,data:(t=_==null?void 0:_.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:A,code_challenge_method:M},xform:Vs})}else if("phone"in e){const{phone:b,password:S,options:_}=e;c=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Vs})}else throw new io("You must provide either an email or phone number and a password");const{data:h,error:p}=c;if(p||!h)return{data:{user:null,session:null},error:p};const y=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(c){if(Pe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:h,options:p}=e;t=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:bg})}else if("phone"in e){const{phone:c,password:h,options:p}=e;t=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:bg})}else throw new io("You must provide either an email or phone number and a password");const{data:a,error:l}=t;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ju}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,a,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await so(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(t??"").split("/");try{const{data:c,error:h}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Vs});if(await ao(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ju}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(Pe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:a,token:l,access_token:c,nonce:h}=e,p=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Vs}),{data:y,error:g}=p;return g?{data:{user:null,session:null},error:g}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ju}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:g})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,a,l,c,h;try{if("email"in e){const{email:p,options:y}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await fi(this.storage,this.storageKey));const{error:S}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(t=y==null?void 0:y.data)!==null&&t!==void 0?t:{},create_user:(a=y==null?void 0:y.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:g,code_challenge_method:b},redirectTo:y==null?void 0:y.emailRedirectTo});return{data:{user:null,session:null},error:S}}if("phone"in e){const{phone:p,options:y}=e,{data:g,error:b}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=y==null?void 0:y.data)!==null&&l!==void 0?l:{},create_user:(c=y==null?void 0:y.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},channel:(h=y==null?void 0:y.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:b}}throw new io("You must provide either an email or phone number.")}catch(p){if(Pe(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(e){var t,a;try{let l,c;"options"in e&&(l=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Vs});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const y=h.session,g=h.user;return y!=null&&y.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:g,session:y},error:null}}catch(l){if(Pe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var t,a,l;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await fi(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:f_})}catch(c){if(Pe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:a}=e;if(a)throw a;if(!t)throw new Os;const{error:l}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:a,type:l,options:c}=e,{error:h}=await $e(this.fetch,"POST",t,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in e){const{phone:a,type:l,options:c}=e,{data:h,error:p}=await $e(this.fetch,"POST",t,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new io("You must provide either an email or phone number and a type")}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await t()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=t();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await so(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.storage.isServer){let h=this.suppressGetSessionWarning;e=new Proxy(e,{get:(y,g,b)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,g,b))})}return{data:{session:e},error:null}}const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zs}):await this._useSession(async t=>{var a,l,c;const{data:h,error:p}=t;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Os}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:zs})})}catch(t){if(Pe(t))return r_(t)&&(await this._removeSession(),await ao(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async a=>{const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new Os;const h=l.session;let p=null,y=null;this.flowType==="pkce"&&e.email!=null&&([p,y]=await fi(this.storage,this.storageKey));const{data:g,error:b}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:y}),jwt:h.access_token,xform:zs});if(b)throw b;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(Pe(a))return{data:{user:null},error:a};throw a}}_decodeJWT(e){return pg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Os;const t=Date.now()/1e3;let a=t,l=!0,c=null;const h=pg(e.access_token);if(h.exp&&(a=h.exp,l=a<=t),l){const{session:p,error:y}=await this._callRefreshToken(e.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:y}=await this._getUser(e.access_token);if(y)throw y;c={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:a-t,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(Pe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var a;if(!e){const{data:h,error:p}=t;if(p)throw p;e=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Os;const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Pe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!On())throw new lo("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new lo("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new gg("Not a valid PKCE flow url.");const t=Xu(window.location.href);if(e){if(!t.code)throw new gg("No code detected.");const{data:G,error:Q}=await this._exchangeCodeForSession(t.code);if(Q)throw Q;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:G.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new lo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:a,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:p,expires_at:y,token_type:g}=t;if(!c||!p||!h||!g)throw new lo("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(p);let _=b+S;y&&(_=parseInt(y));const A=_-b;A*1e3<=wl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const M=_-S;b-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,_,b):b-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,_,b);const{data:D,error:E}=await this._getUser(c);if(E)throw E;const q={provider_token:a,provider_refresh_token:l,access_token:c,expires_in:S,expires_at:_,refresh_token:h,token_type:g,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:t.type},error:null}}catch(t){if(Pe(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=Xu(window.location.href);return!!(On()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Xu(window.location.href),t=await so(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var a;const{data:l,error:c}=t;if(c)return{error:c};const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,e);if(p&&!(l_(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return e!=="others"&&(await this._removeSession(),await ao(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const t=$S(),a={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async t=>{var a,l;try{const{data:{session:c},error:h}=t;if(h)throw h;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await fi(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(Pe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:a,error:l}=await this._useSession(async c=>{var h,p,y,g,b;const{data:S,error:_}=c;if(_)throw _;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=e.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(g=S.session)===null||g===void 0?void 0:g.access_token)!==null&&b!==void 0?b:void 0})});if(l)throw l;return On()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Pe(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var a,l;const{data:c,error:h}=t;if(h)throw h;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await ZS(async l=>(l>0&&await JS(200*Math.pow(2,l-1)),this._debug(t,"refreshing attempt",l),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Vs})),(l,c)=>{const h=200*Math.pow(2,l);return c&&Zu(c)&&Date.now()+h-a<wl})}catch(a){if(this._debug(t,"error",a),Pe(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",a),On()&&!t.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const a=await so(this.storage,this.storageKey);if(this._debug(t,"session from storage",a),!this._isValidSession(a)){this._debug(t,"session is not valid"),a!==null&&await this._removeSession();return}const l=Math.round(Date.now()/1e3),c=((e=a.expires_at)!==null&&e!==void 0?e:1/0)<l+mg;if(this._debug(t,`session has${c?"":" not"} expired with margin of ${mg}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:h}=await this._callRefreshToken(a.refresh_token);h&&(console.error(h),Zu(h)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(t,"error",a),console.error(a);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,a;if(!e)throw new Os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Co;const{data:c,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!c.session)throw new Os;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),Pe(c)){const h={session:null,error:c};return Zu(c)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,t,a=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",t,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,t)}catch(y){c.push(y)}});if(await Promise.all(h),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await gx(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ao(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&On()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:a}}=t;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-e)/wl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${wl}ms, refresh threshold is ${Sg} ticks`),l<=Sg&&await this._callRefreshToken(a.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!On()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,a){const l=[`provider=${encodeURIComponent(t)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await fi(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);l.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;return c?{data:null,error:c}:await $e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var a,l;const{data:c,error:h}=t;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:y,error:g}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(e.factorType==="phone"&&delete y.totp,e.factorType==="totp"&&(!((l=y==null?void 0:y.totp)===null||l===void 0)&&l.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;if(c)return{data:null,error:c};const{data:h,error:p}=await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var a;const{data:l,error:c}=t;return c?{data:null,error:c}:await $e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const a=(e==null?void 0:e.factors)||[],l=a.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=a.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:a,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,a;const{data:{session:l},error:c}=e;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const h=this._decodeJWT(l.access_token);let p=null;h.aal&&(p=h.aal);let y=p;((a=(t=l.user.factors)===null||t===void 0?void 0:t.filter(S=>S.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(y="aal2");const b=h.amr||[];return{data:{currentLevel:p,nextLevel:y,currentAuthenticationMethods:b},error:null}}))}}Ol.nextInstanceID=0;const T_=Ol;class C_ extends T_{constructor(e){super(e)}}var N_=function(i,e,t,a){function l(c){return c instanceof t?c:new t(function(h){h(c)})}return new(t||(t=Promise))(function(c,h){function p(b){try{g(a.next(b))}catch(S){h(S)}}function y(b){try{g(a.throw(b))}catch(S){h(S)}}function g(b){b.done?c(b.value):l(b.value).then(p,y)}g((a=a.apply(i,e||[])).next())})};class E_{constructor(e,t,a){var l,c,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const p=zS(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const y=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:US,realtime:IS,auth:Object.assign(Object.assign({},DS),{storageKey:y}),global:jS},b=HS(a??{},g);this.storageKey=(l=b.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=b.global.headers)!==null&&c!==void 0?c:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(S,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=PS(t,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},b.realtime)),this.rest=new tS(`${p}/rest/v1`,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new Hv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kS(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return N_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(t=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:l,storageKey:c,flowType:h,lock:p,debug:y},g,b){var S;const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C_({url:this.authUrl,headers:Object.assign(Object.assign({},_),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:l,flowType:h,lock:p,debug:y,fetch:b,hasCustomAuthorizationHeader:(S="Authorization"in this.headers)!==null&&S!==void 0?S:!1})}_initRealtimeClient(e){return new pS(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,a)=>{this._handleTokenChanged(t,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.realtime.setAuth(a??null),this.changedAccessToken=a):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A_=(i,e,t)=>new E_(i,e,t);var Je=(i=>(i.ASSET="ASSET",i.LIABILITY="LIABILITY",i.EQUITY="EQUITY",i.REVENUE="REVENUE",i.EXPENSE="EXPENSE",i))(Je||{});const mo="https://placehold.co/400x400/000000/F59E0B.png?text=AD&font=playfair",Tg=[{id:"1",code:"1000",name:"Cash on Hand",type:Je.ASSET,balance:0},{id:"2",code:"1100",name:"Accounts Receivable",type:Je.ASSET,balance:0},{id:"3",code:"1200",name:"Inventory Asset",type:Je.ASSET,balance:0},{id:"4",code:"1500",name:"Equipment",type:Je.ASSET,balance:0},{id:"5",code:"2000",name:"Accounts Payable",type:Je.LIABILITY,balance:0},{id:"6",code:"3000",name:"Owner's Capital",type:Je.EQUITY,balance:0},{id:"7",code:"4000",name:"Service Revenue",type:Je.REVENUE,balance:0},{id:"8",code:"5000",name:"Chemical Expense",type:Je.EXPENSE,balance:0},{id:"9",code:"5100",name:"Labor Expense",type:Je.EXPENSE,balance:0},{id:"10",code:"5200",name:"Rent Expense",type:Je.EXPENSE,balance:0},{id:"11",code:"5300",name:"Utilities",type:Je.EXPENSE,balance:0}],w_=[],k_=[],M_=[],R_=[],j_=[],U_=[],D_=[],I_=[],L_=[],bx=K.createContext(void 0),wn=(i,e)=>{try{const t=localStorage.getItem(i);if(t)return JSON.parse(t)}catch(t){console.error(`Error loading ${i} from storage`,t)}return e},O_=({children:i})=>{const[e,t]=K.useState(null),[a,l]=K.useState(!1),[c,h]=K.useState({SUPER_ADMIN:localStorage.getItem("pass_super_admin")||"admin",STAFF:localStorage.getItem("pass_staff")||"staff"}),[p,y]=K.useState(null),[g,b]=K.useState(!1),[S,_]=K.useState("OFFLINE"),[A,M]=K.useState(()=>localStorage.getItem("erp_logo")||mo),[D,E]=K.useState(()=>wn("erp_customers",M_)),[q,G]=K.useState(()=>wn("erp_jobs",j_)),[Q,z]=K.useState(()=>wn("erp_inventory",R_)),[Y,ne]=K.useState(()=>wn("erp_staff",k_)),[W,oe]=K.useState(()=>wn("erp_services",w_)),[ce,pe]=K.useState(()=>wn("erp_transactions",D_)),[Te,Ee]=K.useState(()=>wn("erp_accounts",Tg)),[Ae,se]=K.useState(()=>wn("erp_purchases",U_)),[Ve,B]=K.useState(()=>wn("erp_leads",I_)),[X,le]=K.useState(()=>wn("erp_appointments",L_)),[N,w]=K.useState(()=>wn("erp_stock_logs",[])),[C,I]=K.useState(()=>wn("erp_payroll_history",[]));K.useEffect(()=>{const te=localStorage.getItem("supabase_url"),ae=localStorage.getItem("supabase_key");te&&ae&&be(te,ae);const R=sessionStorage.getItem("erp_session_role");R&&(t(R),l(!0))},[]),K.useEffect(()=>{localStorage.setItem("erp_accounts",JSON.stringify(Te))},[Te]);const J=(te,ae)=>c[te]===ae?(t(te),l(!0),sessionStorage.setItem("erp_session_role",te),!0):!1,F=()=>{t(null),l(!1),sessionStorage.removeItem("erp_session_role")},ue=(te,ae)=>{h(R=>({...R,[te]:ae})),localStorage.setItem(`pass_${te.toLowerCase()}`,ae)},V=(te,ae)=>{localStorage.setItem(te,JSON.stringify(ae))},be=async(te,ae)=>{try{_("SYNCING");const R=A_(te,ae),{error:me}=await R.from("staff").select("*").limit(1);if(me)throw me;y(R),b(!0),_("SYNCED")}catch{_("ERROR"),b(!1)}},Ie=te=>{M(te),localStorage.setItem("erp_logo",te)},de=te=>{const ae=[...q,te];G(ae),V("erp_jobs",ae)},Fe=te=>{const ae=q.map(R=>R.id===te.id?te:R);G(ae),V("erp_jobs",ae)},nt=te=>{const ae=q.filter(R=>R.id!==te);G(ae),V("erp_jobs",ae)},ct=(te,ae,R="CASH")=>{const me=q.map(ye=>{if(ye.id===te){if(ae==="INVOICED"&&ye.status!=="INVOICED"){const Ce={id:`tx-sale-${Date.now()}`,date:new Date().toISOString().split("T")[0],type:"INCOME",category:"Service Sales",amount:ye.total,method:R,referenceId:ye.id,description:`Invoice ${ye.ticketNumber} Payment (${R})`};Xe(Ce),E(st=>{const He=st.map(vt=>vt.id===ye.customerId?{...vt,visits:vt.visits+1,lifetimeValue:vt.lifetimeValue+ye.total}:vt);return V("erp_customers",He),He})}return{...ye,status:ae}}return ye});G(me),V("erp_jobs",me)},Ue=te=>{const ae=[...Y,te];ne(ae),V("erp_staff",ae)},re=te=>{const ae=Y.filter(R=>R.id!==te);ne(ae),V("erp_staff",ae)},Me=te=>{const ae=Y.map(R=>R.id===te.id?te:R);ne(ae),V("erp_staff",ae)},gt=te=>{const ae=[...D,te];E(ae),V("erp_customers",ae)},yt=te=>{const ae=D.map(R=>R.id===te.id?te:R);E(ae),V("erp_customers",ae)},tt=te=>{const ae=[...Ae,te];if(se(ae),V("erp_purchases",ae),te.category==="INVENTORY"){const me=Q.find(ye=>ye.name===te.itemName);if(me){z(Ce=>{const st=Ce.map(He=>He.id===me.id?{...He,quantityOnHand:He.quantityOnHand+te.quantity,lastRestocked:te.date}:He);return V("erp_inventory",st),st});const ye={id:`stx-${Date.now()}`,itemId:me.id,date:te.date,type:"RESTOCK",quantity:te.quantity,notes:`PO: ${te.docNumber}`};w(Ce=>{const st=[...Ce,ye];return V("erp_stock_logs",st),st})}}const R={id:`tx-pur-${Date.now()}`,date:te.date,type:"EXPENSE",category:te.category==="INVENTORY"?"Inventory Purchase":"Operating Expense",amount:te.amount,method:"TRANSFER",referenceId:te.id,description:`Purchase: ${te.itemName} from ${te.vendorName}`};Xe(R)},Xe=te=>{const ae=[...ce,te];pe(ae),V("erp_transactions",ae),Ut([te])},jt=te=>{const ae=[...ce,...te];pe(ae),V("erp_transactions",ae),Ut(te)},Ut=te=>{Ee(ae=>{let R=[...ae];return te.forEach(me=>{R=R.map(ye=>{if(ye.code==="1000"){if(me.type==="INCOME")return{...ye,balance:ye.balance+me.amount};if(me.type==="EXPENSE")return{...ye,balance:ye.balance-me.amount}}if(me.type==="INCOME"&&ye.code==="4000")return{...ye,balance:ye.balance+me.amount};if(me.type==="EXPENSE"){const Ce=me.category.toLowerCase();if(ye.code==="1200"&&(Ce.includes("inventory")||Ce.includes("stock")))return{...ye,balance:ye.balance+me.amount};if(ye.code==="5100"&&(Ce.includes("labor")||Ce.includes("payroll")||Ce.includes("salary")))return{...ye,balance:ye.balance+me.amount};if(ye.code==="5200"&&Ce.includes("rent"))return{...ye,balance:ye.balance+me.amount};if(ye.code==="5300"&&(Ce.includes("utility")||Ce.includes("power")||Ce.includes("water")))return{...ye,balance:ye.balance+me.amount};if(ye.code==="5000"&&!Ce.includes("labor")&&!Ce.includes("rent")&&!Ce.includes("utility")&&!Ce.includes("inventory"))return{...ye,balance:ye.balance+me.amount}}return ye})}),R})},Nt=(te,ae)=>{const R=ae.reduce((Ce,st)=>Ce+st.netPay,0),me={id:`tx-pay-${Date.now()}`,date:new Date().toISOString().split("T")[0],type:"EXPENSE",category:"Labor Expense",amount:R,method:"TRANSFER",description:`Staff Payroll Execution - ${ae.length} Employees (${te})`};Xe(me),ne(Ce=>{const st=Ce.map(He=>{const vt=ae.find(Ks=>Ks.id===He.id);if(!vt||!vt.deductionsObj)return He;const xn=vt.deductionsObj.loan||0,Ft=vt.deductionsObj.advance||0;return{...He,loanBalance:Math.max(0,He.loanBalance-xn),currentAdvance:Math.max(0,He.currentAdvance-Ft)}});return V("erp_staff",st),st});const ye={id:`pr-${te}-${Date.now()}`,month:te,dateGenerated:new Date().toISOString(),totalAmount:R,records:ae,status:"FINALIZED"};I(Ce=>{const He=[...Ce.filter(vt=>vt.month!==te),ye];return V("erp_payroll_history",He),He})},Dt=te=>{const ae=[...Q,te];z(ae),V("erp_inventory",ae)},bt=te=>{const ae=Q.filter(R=>R.id!==te);z(ae),V("erp_inventory",ae)},Gt=(te,ae,R)=>{z(ye=>{const Ce=ye.map(st=>{if(st.id===te){const He=typeof st.quantityOnHand=="number"?st.quantityOnHand:0,vt=Math.max(0,He-ae);return{...st,quantityOnHand:vt}}return st});return V("erp_inventory",Ce),Ce});const me={id:`stx-${Date.now()}`,itemId:te,date:new Date().toISOString().split("T")[0],type:"USAGE",quantity:ae,notes:R};w(ye=>{const Ce=[...ye,me];return V("erp_stock_logs",Ce),Ce})},Vt=te=>{z(ae=>{const R=[...ae,...te];return V("erp_inventory",R),R})},Zt=te=>{const ae=[...W,te];oe(ae),V("erp_services",ae)},jn=te=>{const ae=W.map(R=>R.id===te.id?te:R);oe(ae),V("erp_services",ae)},Un=te=>{const ae=W.filter(R=>R.id!==te);oe(ae),V("erp_services",ae)},$s=te=>{const ae=[...W,...te];oe(ae),V("erp_services",ae)},ji=async(te,ae)=>(localStorage.setItem("supabase_url",te),localStorage.setItem("supabase_key",ae),await be(te,ae),!0),Ui=te=>{te.modules&&(E(te.modules.customers||[]),G(te.modules.jobs||[]),ne(te.modules.staff||[]),pe(te.modules.transactions||[]),z(te.modules.inventory||[]),Ee(te.modules.financials||Tg),I(te.modules.payrollHistory||[]),alert("System Data Restored Successfully."))},$n=()=>{window.confirm("WARNING: Wipe all data? This cannot be undone.")&&(localStorage.clear(),window.location.reload())};return o.jsx(bx.Provider,{value:{currentUserRole:e,isAuthenticated:a,login:J,logout:F,updatePassword:ue,logoUrl:A,updateLogo:Ie,customers:D,jobs:q,inventory:Q,staff:Y,services:W,transactions:ce,accounts:Te,purchases:Ae,leads:Ve,appointments:X,stockLogs:N,payrollHistory:C,isCloudConnected:g,syncStatus:S,connectToCloud:ji,addJob:de,updateJob:Fe,deleteJob:nt,updateJobStatus:ct,addStaff:Ue,removeStaff:re,updateStaff:Me,addInventoryItem:Dt,deleteInventoryItem:bt,recordStockUsage:Gt,bulkAddInventory:Vt,addService:Zt,updateService:jn,deleteService:Un,bulkAddServices:$s,restoreData:Ui,resetToFactory:$n,addCustomer:gt,updateCustomer:yt,addPurchase:tt,addTransaction:Xe,bulkAddTransactions:jt,executePayroll:Nt},children:i})},Mn=()=>{const i=K.useContext(bx);if(i===void 0)throw new Error("useERP must be used within an ERPProvider");return i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vx=(...i)=>i.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=K.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:h,...p},y)=>K.createElement("svg",{ref:y,...P_,width:e,height:e,stroke:i,strokeWidth:a?Number(t)*24/Number(e):t,className:vx("lucide",l),...p},[...h.map(([g,b])=>K.createElement(g,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(i,e)=>{const t=K.forwardRef(({className:a,...l},c)=>K.createElement(B_,{ref:c,iconNode:e,className:vx(`lucide-${V_(i)}`,a),...l}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=fe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=fe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=fe("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=fe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=fe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=fe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=fe("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=fe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=fe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=fe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=fe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=fe("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=fe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=fe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=fe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=fe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=fe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=fe("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=fe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=fe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wT=()=>{const{accounts:i,transactions:e,addTransaction:t}=Mn(),[a,l]=K.useState("GL"),[c,h]=K.useState(!1),[p,y]=K.useState("INCOME"),[g,b]=K.useState({date:new Date().toISOString().split("T")[0],amount:0,category:"",description:"",method:"CASH"}),S=E=>{E.preventDefault();const q={id:`tx-man-${Date.now()}`,date:g.date,type:p,category:g.category,amount:g.amount,method:g.method,description:g.description};t(q),h(!1),b({date:new Date().toISOString().split("T")[0],amount:0,category:"",description:"",method:"CASH"})},_=K.useMemo(()=>{const E=i.filter(z=>z.type===Je.ASSET).reduce((z,Y)=>z+Y.balance,0),q=i.filter(z=>z.type===Je.LIABILITY).reduce((z,Y)=>z+Y.balance,0),G=e.filter(z=>z.type==="INCOME").reduce((z,Y)=>z+Y.amount,0),Q=e.filter(z=>z.type==="EXPENSE").reduce((z,Y)=>z+Y.amount,0);return{assets:E,liabilities:q,equity:E-q,revenue:G,expenses:Q,netIncome:G-Q}},[i,e]),A=()=>{window.print()},M=()=>{let E="data:text/csv;charset=utf-8,",q="financial_report.csv";a==="GL"?(q="account_balances.csv",E+=`Code,Account Name,Type,Balance
`,i.forEach(z=>{E+=`${z.code},${z.name},${z.type},${z.balance}
`})):a==="TRANSACTIONS"?(q="transactions.csv",E+=`Date,Type,Category,Description,Amount,Method
`,e.forEach(z=>{E+=`${z.date},${z.type},${z.category},"${z.description}",${z.amount},${z.method}
`})):a==="PL"&&(q="profit_loss.csv",E+=`Metric,Value
`,E+=`Revenue,${_.revenue}
`,E+=`Expenses,${_.expenses}
`,E+=`Net Income,${_.netIncome}
`,E+=`Assets,${_.assets}
`,E+=`Liabilities,${_.liabilities}
`,E+=`Equity,${_.equity}
`);const G=encodeURI(E),Q=document.createElement("a");Q.setAttribute("href",G),Q.setAttribute("download",q),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},D=({id:E,label:q,icon:G})=>o.jsxs("button",{onClick:()=>l(E),className:`flex items-center gap-2 px-5 py-2.5 rounded-md text-xs font-bold uppercase transition-all border ${a===E?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-500 border-slate-300 hover:bg-slate-50"}`,children:[o.jsx(G,{size:14}),q]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"hidden print:flex flex-col items-center mb-8 border-b-2 border-black pb-4",children:[o.jsx("img",{src:mo,className:"w-24 mb-2",alt:"Logo"}),o.jsx("h1",{className:"text-2xl font-black uppercase",children:"Auto Dazzle Detailing Spa"}),o.jsx("p",{className:"text-sm font-bold text-slate-600",children:"Official Financial Record"}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Generated: ",new Date().toLocaleDateString()]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-200 print:hidden",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Financial Ledger"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Double-Entry Accounting System"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:[o.jsxs("button",{onClick:M,className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-md text-xs font-bold uppercase shadow-sm hover:bg-slate-50 flex items-center transition-all",children:[o.jsx(Cx,{size:14,className:"mr-2"})," Download CSV"]}),o.jsxs("button",{onClick:A,className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-md text-xs font-bold uppercase shadow-sm hover:bg-slate-50 flex items-center transition-all",children:[o.jsx(_i,{size:14,className:"mr-2"})," Print View"]})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 flex gap-3 print:hidden",children:[o.jsx(lT,{className:"text-blue-600 shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-bold text-blue-900 uppercase",children:"How the General Ledger (GL) Works"}),o.jsxs("p",{className:"text-xs text-blue-800 mt-1 leading-relaxed",children:["This system uses automatic double-entry accounting. When you record an ",o.jsx("strong",{children:"Income"})," (Receipt), it increases 'Cash on Hand' (Asset) and 'Service Revenue' (Revenue). When you record an ",o.jsx("strong",{children:"Expense"})," (Payment), it decreases 'Cash on Hand' and increases the specific Expense account (e.g., Labor, Rent). Everything is tracked in real-time below."]})]})]}),o.jsxs("div",{className:"flex gap-2 print:hidden mb-2",children:[o.jsx(D,{id:"GL",label:"Account Balances",icon:rT}),o.jsx(D,{id:"PL",label:"Profit & Loss",icon:Q_}),o.jsx(D,{id:"TRANSACTIONS",label:"Transactions",icon:Ex})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 print:hidden",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm border-l-4 border-l-emerald-500",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Assets"}),o.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:["",_.assets.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm border-l-4 border-l-rose-500",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Liabilities"}),o.jsxs("p",{className:"text-2xl font-black text-rose-700",children:["",_.liabilities.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm border-l-4 border-l-blue-500",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Owner's Equity"}),o.jsxs("p",{className:"text-2xl font-black text-blue-700",children:["",_.equity.toLocaleString()]})]})]}),a==="GL"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden print:border-none print:shadow-none",children:[o.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center print:bg-white print:border-b-2 print:border-black",children:o.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm",children:"Account Balances (General Ledger)"})}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-200 print:text-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Code"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Type"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] text-right",children:"Balance"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(E=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-3 font-mono text-slate-500 font-bold text-xs",children:E.code}),o.jsx("td",{className:"px-6 py-3 font-bold text-slate-800",children:E.name}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase border print:border-black print:text-black print:bg-white
                      ${E.type===Je.ASSET?"bg-emerald-50 text-emerald-700 border-emerald-100":""}
                      ${E.type===Je.LIABILITY?"bg-rose-50 text-rose-700 border-rose-100":""}
                      ${E.type===Je.EQUITY?"bg-blue-50 text-blue-700 border-blue-100":""}
                      ${E.type===Je.REVENUE?"bg-amber-50 text-amber-700 border-amber-100":""}
                      ${E.type===Je.EXPENSE?"bg-gray-50 text-gray-700 border-gray-200":""}
                    `,children:E.type})}),o.jsxs("td",{className:"px-6 py-3 text-right font-bold text-slate-900",children:["",E.balance.toLocaleString(void 0,{minimumFractionDigits:2})]})]},E.id))})]})]}),a==="PL"&&o.jsxs("div",{className:"bg-white p-8 rounded-lg border border-slate-200 shadow-sm max-w-4xl mx-auto print:border-none print:shadow-none print:w-full print:p-0",children:[o.jsx("div",{className:"flex justify-between items-center mb-8 border-b pb-4 print:hidden",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 uppercase",children:"Profit & Loss Statement"}),o.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"Period: Current Month"})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2 mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-700 uppercase text-xs",children:"Revenue"}),o.jsxs("span",{className:"font-black text-emerald-600 print:text-black",children:["",_.revenue.toLocaleString()]})]}),o.jsx("div",{className:"pl-4",children:o.jsxs("div",{className:"flex justify-between text-sm text-slate-500 font-medium print:text-black",children:[o.jsx("span",{children:"Service Sales"}),o.jsxs("span",{children:["",_.revenue.toLocaleString()]})]})})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2 mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-700 uppercase text-xs",children:"Expenses"}),o.jsxs("span",{className:"font-black text-rose-600 print:text-black",children:["(",_.expenses.toLocaleString(),")"]})]}),o.jsx("div",{className:"pl-4 space-y-2",children:i.filter(E=>E.type===Je.EXPENSE).map(E=>o.jsxs("div",{className:"flex justify-between text-sm text-slate-600 print:text-black",children:[o.jsx("span",{children:E.name}),o.jsxs("span",{children:["",E.balance.toLocaleString()]})]},E.id))})]}),o.jsx("section",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 mt-4 print:bg-white print:border-t-2 print:border-b-2 print:border-black print:rounded-none",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest print:text-black",children:"Net Income"}),o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",_.netIncome.toLocaleString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest print:text-black",children:"Margin"}),o.jsxs("p",{className:"text-2xl font-black text-amber-500 print:text-black",children:[_.revenue>0?(_.netIncome/(_.revenue||1)*100).toFixed(1):0,"%"]})]})]})})]})]}),a==="TRANSACTIONS"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden print:border-none print:shadow-none",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center print:bg-white print:border-b-2 print:border-black",children:[o.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm",children:"Transaction History"}),o.jsxs("div",{className:"flex gap-2 print:hidden",children:[o.jsxs("button",{onClick:()=>{y("INCOME"),h(!0)},className:"px-3 py-1.5 bg-green-600 text-white rounded text-xs font-bold hover:bg-green-700 flex items-center gap-1",children:[o.jsx(ga,{size:12})," Receipt (In)"]}),o.jsxs("button",{onClick:()=>{y("EXPENSE"),h(!0)},className:"px-3 py-1.5 bg-red-600 text-white rounded text-xs font-bold hover:bg-red-700 flex items-center gap-1",children:[o.jsx(hT,{size:12})," Payment (Out)"]})]})]}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-200 print:text-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Date"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Type"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px]",children:"Description"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] text-right",children:"Amount"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(E=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-3 text-slate-500 font-medium text-xs",children:E.date}),o.jsx("td",{className:"px-6 py-3",children:E.type==="INCOME"?o.jsx("span",{className:"text-[10px] font-bold bg-green-100 text-green-700 px-2 py-0.5 rounded uppercase border border-green-200 print:border-black print:text-black print:bg-white",children:"Revenue"}):o.jsx("span",{className:"text-[10px] font-bold bg-red-100 text-red-700 px-2 py-0.5 rounded uppercase border border-red-200 print:border-black print:text-black print:bg-white",children:"Expense"})}),o.jsx("td",{className:"px-6 py-3 text-slate-800 font-medium",children:E.description}),o.jsxs("td",{className:`px-6 py-3 text-right font-bold ${E.type==="INCOME"?"text-green-600":"text-slate-900"} print:text-black`,children:[E.type==="INCOME"?"+":"-","",E.amount.toFixed(2)]})]},E.id))})]})]}),c&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4 print:hidden",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg p-6 shadow-2xl text-black",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-slate-100 pb-2",children:[o.jsx("h3",{className:"text-lg font-bold uppercase text-black",children:p==="INCOME"?"Record Receipt":"Record Payment"}),o.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("form",{onSubmit:S,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 block mb-1",children:"Date"}),o.jsx("input",{type:"date",required:!0,value:g.date,onChange:E=>b({...g,date:E.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 block mb-1",children:"Amount ()"}),o.jsx("input",{type:"number",required:!0,value:g.amount,onChange:E=>b({...g,amount:parseFloat(E.target.value)}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 block mb-1",children:"Category"}),o.jsx("input",{type:"text",placeholder:"e.g. Rent, Sales",required:!0,value:g.category,onChange:E=>b({...g,category:E.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-medium outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold uppercase text-slate-500 block mb-1",children:"Description"}),o.jsx("input",{type:"text",required:!0,value:g.description,onChange:E=>b({...g,description:E.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-medium outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{className:"pt-4 flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 py-2 text-slate-600 font-bold border border-slate-300 rounded hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:`flex-[2] py-2 text-white font-bold rounded shadow-sm ${p==="INCOME"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Save Transaction"})]})]})]})}),document.body)]})},kT=()=>{const{services:i,addService:e,updateService:t,deleteService:a,bulkAddServices:l,currentUserRole:c}=Mn(),[h,p]=K.useState(!1),[y,g]=K.useState(!1),[b,S]=K.useState("BASIC"),[_,A]=K.useState(null),[M,D]=K.useState(""),E=c!=="STAFF",q={sku:"",name:"",category:"WASHING",duration:30,price_HATCHBACK:0,price_SEDAN:0,price_SUV_MUV:0,price_LUXURY:0,price_AUTORICKSHAW:0,price_AUTOTAXI:0,price_BIKE:0,price_SCOOTY:0,price_BULLET:0,price_PICKUP_SMALL:0,price_PICKUP_LARGE:0},[G,Q]=K.useState(q),[z,Y]=K.useState(""),ne=i.filter(se=>se.name.toLowerCase().includes(M.toLowerCase())||se.sku.toLowerCase().includes(M.toLowerCase())||se.category.toLowerCase().includes(M.toLowerCase())),W=()=>{E&&(A(null),Q(q),p(!0))},oe=se=>{E&&(A(se.id),Q({sku:se.sku,name:se.name,category:se.category,duration:se.durationMinutes,price_HATCHBACK:se.prices.HATCHBACK||0,price_SEDAN:se.prices.SEDAN||0,price_SUV_MUV:se.prices.SUV_MUV||0,price_LUXURY:se.prices.LUXURY||0,price_AUTORICKSHAW:se.prices.AUTORICKSHAW||0,price_AUTOTAXI:se.prices.AUTOTAXI||0,price_BIKE:se.prices.BIKE||0,price_SCOOTY:se.prices.SCOOTY||0,price_BULLET:se.prices.BULLET||0,price_PICKUP_SMALL:se.prices.PICKUP_SMALL||0,price_PICKUP_LARGE:se.prices.PICKUP_LARGE||0}),p(!0))},ce=se=>{E&&window.confirm("Are you sure you want to delete this service?")&&a(se)},pe=se=>{if(se.preventDefault(),!E)return;const Ve={id:_||`s-${Date.now()}`,sku:G.sku||`SVC-${i.length+1}`,name:G.name,basePrice:G.price_HATCHBACK,prices:{HATCHBACK:G.price_HATCHBACK,SEDAN:G.price_SEDAN,SUV_MUV:G.price_SUV_MUV,LUXURY:G.price_LUXURY,AUTORICKSHAW:G.price_AUTORICKSHAW,AUTOTAXI:G.price_AUTOTAXI,BIKE:G.price_BIKE,SCOOTY:G.price_SCOOTY,BULLET:G.price_BULLET,PICKUP_SMALL:G.price_PICKUP_SMALL,PICKUP_LARGE:G.price_PICKUP_LARGE},durationMinutes:G.duration,category:G.category};_?t(Ve):e(Ve),p(!1)},Te=()=>{if(!E)return;const Ve=z.split(`
`).filter(B=>B.trim()).map((B,X)=>{const le=B.split(",").map(N=>N.trim());if(b==="ADVANCED"&&le.length>=13)return{id:`si-${Date.now()}-${X}`,sku:`IMP-${Math.floor(Math.random()*1e3)}`,name:le[0],basePrice:parseFloat(le[2])||0,category:le[1]||"WASHING",durationMinutes:30,prices:{HATCHBACK:parseFloat(le[2])||0,SEDAN:parseFloat(le[3])||0,SUV_MUV:parseFloat(le[4])||0,LUXURY:parseFloat(le[5])||0,BIKE:parseFloat(le[6])||0,SCOOTY:parseFloat(le[7])||0,BULLET:parseFloat(le[8])||0,AUTORICKSHAW:parseFloat(le[9])||0,AUTOTAXI:parseFloat(le[10])||0,PICKUP_SMALL:parseFloat(le[11])||0,PICKUP_LARGE:parseFloat(le[12])||0}};{const N=parseFloat(le[1]||"0");return{id:`si-${Date.now()}-${X}`,sku:`IMP-${Math.floor(Math.random()*1e3)}`,name:le[0]||`Service ${X}`,basePrice:N,prices:{HATCHBACK:N,SEDAN:Math.round(N*1.2),SUV_MUV:Math.round(N*1.5),LUXURY:Math.round(N*2),AUTORICKSHAW:Math.round(N*.8),AUTOTAXI:Math.round(N*.9),PICKUP_SMALL:Math.round(N*1.3),PICKUP_LARGE:Math.round(N*1.6),BIKE:Math.round(N*.4),SCOOTY:Math.round(N*.35),BULLET:Math.round(N*.5)},durationMinutes:30,category:"WASHING"}}});l(Ve),g(!1),Y(""),alert(`Successfully imported ${Ve.length} services!`)},Ee=()=>{const se=b==="BASIC"?`Foam Wash, 350
Interior Detail, 1200
Ceramic Coating, 15000`:"Foam Wash, WASHING, 300, 400, 500, 800, 100, 100, 150, 200, 200, 300, 400";navigator.clipboard.writeText(se),alert("Template copied to clipboard!")},Ae=({label:se,value:Ve,field:B})=>o.jsxs("div",{children:[o.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:[se," ()"]}),o.jsx("input",{type:"number",value:Ve,onChange:X=>Q({...G,[B]:parseFloat(X.target.value)||0}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black bg-white focus:border-blue-500 outline-none"})]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-200 gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Service Menu"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Manage Service Packages & Pricing"})]}),o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search Services...",value:M,onChange:se=>D(se.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md text-sm text-black focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),o.jsx("div",{className:"flex gap-2",children:E&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>g(!0),className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-md text-sm font-bold shadow-sm hover:bg-slate-50 transition-all flex items-center uppercase",children:[o.jsx(jx,{size:16,className:"mr-2"})," Bulk Import"]}),o.jsxs("button",{onClick:W,className:"bg-red-600 text-white px-4 py-2 rounded-md text-sm font-bold shadow-sm hover:bg-red-700 transition-all flex items-center uppercase",children:[o.jsx(ga,{size:16,className:"mr-2"})," Add Service"]})]})})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex items-center justify-between",children:[o.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm",children:"Services List"}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-200 px-2 py-0.5 rounded",children:[ne.length," ITEMS"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm text-left whitespace-nowrap",children:[o.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 font-bold uppercase text-[10px] sticky left-0 bg-white z-10 border-r border-slate-100",children:"Service Name"}),o.jsx("th",{className:"px-4 py-3 font-bold uppercase text-[10px]",children:"Category"}),o.jsx("th",{className:"px-3 py-3 font-bold uppercase text-[10px] text-right bg-blue-50/50",children:"Hatch"}),o.jsx("th",{className:"px-3 py-3 font-bold uppercase text-[10px] text-right bg-blue-50/50",children:"Sedan"}),o.jsx("th",{className:"px-3 py-3 font-bold uppercase text-[10px] text-right bg-blue-50/50",children:"SUV/MUV"}),o.jsx("th",{className:"px-3 py-3 font-bold uppercase text-[10px] text-right bg-blue-50/50",children:"Luxury"}),o.jsx("th",{className:"px-3 py-3 font-bold uppercase text-[10px] text-right bg-emerald-50/50",children:"Bike"}),E&&o.jsx("th",{className:"px-4 py-3 font-bold uppercase text-[10px] text-center sticky right-0 bg-white z-10 border-l border-slate-100",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(se=>o.jsxs("tr",{className:"hover:bg-slate-50 group",children:[o.jsxs("td",{className:"px-4 py-3 sticky left-0 bg-white group-hover:bg-slate-50 z-10 border-r border-slate-100",children:[o.jsx("div",{className:"font-bold text-slate-800",children:se.name}),o.jsx("div",{className:"text-[10px] font-mono text-slate-400 uppercase",children:se.sku})]}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${se.category==="WASHING"?"bg-blue-100 text-blue-700":se.category==="DETAILING"?"bg-purple-100 text-purple-700":se.category==="ADDONS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:se.category})}),o.jsxs("td",{className:"px-3 py-3 text-right bg-blue-50/30 group-hover:bg-blue-100/30 font-medium",children:["",se.prices.HATCHBACK||0]}),o.jsxs("td",{className:"px-3 py-3 text-right bg-blue-50/30 group-hover:bg-blue-100/30 font-medium",children:["",se.prices.SEDAN||0]}),o.jsxs("td",{className:"px-3 py-3 text-right bg-blue-50/30 group-hover:bg-blue-100/30 font-medium",children:["",se.prices.SUV_MUV||0]}),o.jsxs("td",{className:"px-3 py-3 text-right bg-blue-50/30 group-hover:bg-blue-100/30 font-medium text-purple-600",children:["",se.prices.LUXURY||0]}),o.jsxs("td",{className:"px-3 py-3 text-right bg-emerald-50/30 group-hover:bg-emerald-100/30 font-medium",children:["",se.prices.BIKE||0]}),E&&o.jsx("td",{className:"px-4 py-3 sticky right-0 bg-white group-hover:bg-slate-50 z-10 border-l border-slate-100 text-center",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>oe(se),className:"text-blue-600 hover:text-blue-800 bg-blue-50 p-1.5 rounded",children:o.jsx(_T,{size:14})}),o.jsx("button",{onClick:()=>ce(se.id),className:"text-red-600 hover:text-red-800 bg-red-50 p-1.5 rounded",children:o.jsx(Hs,{size:14})})]})})]},se.id))})]})})]})}),h&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[200] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-lg shadow-2xl overflow-y-auto max-h-[95vh] custom-scrollbar text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center sticky top-0 z-20",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 uppercase tracking-tight",children:_?"Edit Service":"Add New Service"}),o.jsx("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("form",{onSubmit:pe,className:"p-6 space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Service Name"}),o.jsx("input",{required:!0,type:"text",value:G.name,onChange:se=>Q({...G,name:se.target.value}),className:"w-full p-2.5 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm font-bold text-black bg-white",placeholder:"e.g. Basic Foam Wash"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Category"}),o.jsxs("select",{value:G.category,onChange:se=>Q({...G,category:se.target.value}),className:"w-full p-2.5 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm bg-white text-black",children:[o.jsx("option",{value:"WASHING",children:"Washing"}),o.jsx("option",{value:"DETAILING",children:"Detailing"}),o.jsx("option",{value:"ADDONS",children:"Addons"}),o.jsx("option",{value:"PACKAGES",children:"Packages"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"SKU / Code"}),o.jsx("input",{type:"text",value:G.sku,onChange:se=>Q({...G,sku:se.target.value}),className:"w-full p-2.5 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm font-mono text-black bg-white",placeholder:"AUTO-GEN"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50/50 p-5 rounded-lg border border-blue-100",children:[o.jsxs("h4",{className:"text-xs font-black text-blue-800 uppercase mb-4 flex items-center gap-2",children:[o.jsx(Il,{size:14})," Passenger Cars (Random Pricing Allowed)"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ae,{label:"Hatchback",value:G.price_HATCHBACK,field:"price_HATCHBACK"}),o.jsx(Ae,{label:"Sedan",value:G.price_SEDAN,field:"price_SEDAN"}),o.jsx(Ae,{label:"SUV / MUV",value:G.price_SUV_MUV,field:"price_SUV_MUV"}),o.jsx(Ae,{label:"Luxury",value:G.price_LUXURY,field:"price_LUXURY"})]})]}),o.jsxs("div",{className:"bg-emerald-50/50 p-5 rounded-lg border border-emerald-100",children:[o.jsxs("h4",{className:"text-xs font-black text-emerald-800 uppercase mb-4 flex items-center gap-2",children:[o.jsx($_,{size:14})," Two-Wheelers"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[o.jsx(Ae,{label:"Bike (Std)",value:G.price_BIKE,field:"price_BIKE"}),o.jsx(Ae,{label:"Scooty",value:G.price_SCOOTY,field:"price_SCOOTY"}),o.jsx(Ae,{label:"Bullet / Cruiser",value:G.price_BULLET,field:"price_BULLET"})]})]}),o.jsxs("div",{className:"bg-orange-50/50 p-5 rounded-lg border border-orange-100",children:[o.jsxs("h4",{className:"text-xs font-black text-orange-800 uppercase mb-4 flex items-center gap-2",children:[o.jsx(Vd,{size:14})," Commercial & Three-Wheelers"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Ae,{label:"Auto Rickshaw",value:G.price_AUTORICKSHAW,field:"price_AUTORICKSHAW"}),o.jsx(Ae,{label:"Auto Taxi",value:G.price_AUTOTAXI,field:"price_AUTOTAXI"}),o.jsx(Ae,{label:"Pickup Small",value:G.price_PICKUP_SMALL,field:"price_PICKUP_SMALL"}),o.jsx(Ae,{label:"Pickup Large",value:G.price_PICKUP_LARGE,field:"price_PICKUP_LARGE"})]})]})]}),o.jsxs("div",{className:"pt-6 flex gap-4 border-t border-slate-100",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-[2] py-3 bg-red-600 text-white font-bold uppercase rounded-md shadow-md hover:bg-red-700",children:_?"Update Service Item":"Create Service Item"})]})]})]})}),y&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[200] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-lg shadow-2xl text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-800 uppercase flex items-center gap-2",children:[o.jsx(Nx,{size:18})," Bulk Service Import"]}),o.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsxs("button",{onClick:()=>S("BASIC"),className:`flex-1 p-3 rounded-lg border-2 flex items-center justify-center gap-2 font-bold uppercase text-xs transition-all ${b==="BASIC"?"border-blue-600 bg-blue-50 text-blue-800":"border-slate-100 hover:border-slate-200 text-slate-500"}`,children:[o.jsx(TT,{size:16})," Basic Format"]}),o.jsxs("button",{onClick:()=>S("ADVANCED"),className:`flex-1 p-3 rounded-lg border-2 flex items-center justify-center gap-2 font-bold uppercase text-xs transition-all ${b==="ADVANCED"?"border-blue-600 bg-blue-50 text-blue-800":"border-slate-100 hover:border-slate-200 text-slate-500"}`,children:[o.jsx(Il,{size:16})," Professional Format"]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h4",{className:"text-xs font-black text-blue-800 uppercase mb-2",children:"Required CSV Columns"}),o.jsxs("button",{onClick:Ee,className:"text-[10px] bg-blue-100 text-blue-700 px-2 py-1 rounded hover:bg-blue-200 font-bold flex items-center gap-1",children:[o.jsx(Id,{size:10})," Copy Template"]})]}),b==="BASIC"?o.jsx("code",{className:"block bg-white p-2 rounded border border-blue-200 text-[10px] font-mono text-slate-600",children:"Service Name, Base Price (Hatchback)"}):o.jsx("code",{className:"block bg-white p-2 rounded border border-blue-200 text-[9px] font-mono text-slate-600 leading-tight",children:"Name, Category, Hatch, Sedan, SUV, Luxury, Bike, Scooty, Bullet, Auto, Taxi, SmallP, LargeP"}),o.jsx("p",{className:"text-[10px] text-blue-600 mt-2 leading-relaxed",children:b==="BASIC"?"System will auto-calculate SUV/Luxury prices based on multiplier.":"Imports random/specific prices for all 11 vehicle segments at once."})]}),o.jsx("textarea",{className:"w-full h-48 p-3 border border-slate-300 rounded-md bg-white font-mono text-xs focus:ring-2 focus:ring-blue-500 outline-none text-black",placeholder:b==="BASIC"?"Foam Wash, 350":"Foam Wash, WASHING, 300, 400, 500, 800, 100, 100, 150, 200, 200, 300, 400",value:z,onChange:se=>Y(se.target.value)}),o.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-slate-300 rounded-md text-xs font-bold uppercase hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{onClick:Te,className:"px-6 py-2 bg-slate-900 text-white rounded-md text-xs font-bold uppercase hover:bg-black shadow-lg",children:"Import to Database"})]})]})]})})]})};var We;(function(i){i.assertEqual=l=>{};function e(l){}i.assertIs=e;function t(l){throw new Error}i.assertNever=t,i.arrayToEnum=l=>{const c={};for(const h of l)c[h]=h;return c},i.getValidEnumValues=l=>{const c=i.objectKeys(l).filter(p=>typeof l[l[p]]!="number"),h={};for(const p of c)h[p]=l[p];return i.objectValues(h)},i.objectValues=l=>i.objectKeys(l).map(function(c){return l[c]}),i.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const h in l)Object.prototype.hasOwnProperty.call(l,h)&&c.push(h);return c},i.find=(l,c)=>{for(const h of l)if(c(h))return h},i.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function a(l,c=" | "){return l.map(h=>typeof h=="string"?`'${h}'`:h).join(c)}i.joinValues=a,i.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})(We||(We={}));var Eg;(function(i){i.mergeShapes=(e,t)=>({...e,...t})})(Eg||(Eg={}));const xe=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bs=i=>{switch(typeof i){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return Number.isNaN(i)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(i)?xe.array:i===null?xe.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?xe.promise:typeof Map<"u"&&i instanceof Map?xe.map:typeof Set<"u"&&i instanceof Set?xe.set:typeof Date<"u"&&i instanceof Date?xe.date:xe.object;default:return xe.unknown}},ie=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class fs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(c){return c.message},a={_errors:[]},l=c=>{for(const h of c.issues)if(h.code==="invalid_union")h.unionErrors.map(l);else if(h.code==="invalid_return_type")l(h.returnTypeError);else if(h.code==="invalid_arguments")l(h.argumentsError);else if(h.path.length===0)a._errors.push(t(h));else{let p=a,y=0;for(;y<h.path.length;){const g=h.path[y];y===h.path.length-1?(p[g]=p[g]||{_errors:[]},p[g]._errors.push(t(h))):p[g]=p[g]||{_errors:[]},p=p[g],y++}}};return l(this),a}static assert(e){if(!(e instanceof fs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},a=[];for(const l of this.issues)if(l.path.length>0){const c=l.path[0];t[c]=t[c]||[],t[c].push(e(l))}else a.push(e(l));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}fs.create=i=>new fs(i);const ud=(i,e)=>{let t;switch(i.code){case ie.invalid_type:i.received===xe.undefined?t="Required":t=`Expected ${i.expected}, received ${i.received}`;break;case ie.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(i.expected,We.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:t=`Unrecognized key(s) in object: ${We.joinValues(i.keys,", ")}`;break;case ie.invalid_union:t="Invalid input";break;case ie.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${We.joinValues(i.options)}`;break;case ie.invalid_enum_value:t=`Invalid enum value. Expected ${We.joinValues(i.options)}, received '${i.received}'`;break;case ie.invalid_arguments:t="Invalid function arguments";break;case ie.invalid_return_type:t="Invalid function return type";break;case ie.invalid_date:t="Invalid date";break;case ie.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(t=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?t=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?t=`Invalid input: must end with "${i.validation.endsWith}"`:We.assertNever(i.validation):i.validation!=="regex"?t=`Invalid ${i.validation}`:t="Invalid";break;case ie.too_small:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="bigint"?t=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:t="Invalid input";break;case ie.too_big:i.type==="array"?t=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?t=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?t=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?t=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?t=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:t="Invalid input";break;case ie.custom:t="Invalid input";break;case ie.invalid_intersection_types:t="Intersection results could not be merged";break;case ie.not_multiple_of:t=`Number must be a multiple of ${i.multipleOf}`;break;case ie.not_finite:t="Number must be finite";break;default:t=e.defaultError,We.assertNever(i)}return{message:t}};let MT=ud;function RT(){return MT}const jT=i=>{const{data:e,path:t,errorMaps:a,issueData:l}=i,c=[...t,...l.path||[]],h={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let p="";const y=a.filter(g=>!!g).slice().reverse();for(const g of y)p=g(h,{data:e,defaultError:p}).message;return{...l,path:c,message:p}};function he(i,e){const t=RT(),a=jT({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,t,t===ud?void 0:ud].filter(l=>!!l)});i.common.issues.push(a)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const a=[];for(const l of t){if(l.status==="aborted")return Re;l.status==="dirty"&&e.dirty(),a.push(l.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,t){const a=[];for(const l of t){const c=await l.key,h=await l.value;a.push({key:c,value:h})}return Jt.mergeObjectSync(e,a)}static mergeObjectSync(e,t){const a={};for(const l of t){const{key:c,value:h}=l;if(c.status==="aborted"||h.status==="aborted")return Re;c.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),c.value!=="__proto__"&&(typeof h.value<"u"||l.alwaysSet)&&(a[c.value]=h.value)}return{status:e.value,value:a}}}const Re=Object.freeze({status:"aborted"}),Rl=i=>({status:"dirty",value:i}),Rn=i=>({status:"valid",value:i}),Ag=i=>i.status==="aborted",wg=i=>i.status==="dirty",Ti=i=>i.status==="valid",po=i=>typeof Promise<"u"&&i instanceof Promise;var Se;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));class Yn{constructor(e,t,a,l){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kg=(i,e)=>{if(Ti(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new fs(i.common.issues);return this._error=t,this._error}}};function Oe(i){if(!i)return{};const{errorMap:e,invalid_type_error:t,required_error:a,description:l}=i;if(e&&(t||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(h,p)=>{const{message:y}=i;return h.code==="invalid_enum_value"?{message:y??p.defaultError}:typeof p.data>"u"?{message:y??a??p.defaultError}:h.code!=="invalid_type"?{message:p.defaultError}:{message:y??t??p.defaultError}},description:l}}class Ke{get description(){return this._def.description}_getType(e){return Bs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Jt,ctx:{common:e.parent.common,data:e.data,parsedType:Bs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(po(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){const a={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},l=this._parseSync({data:e,path:a.path,parent:a});return kg(a,l)}"~validate"(e){var a,l;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)};if(!this["~standard"].async)try{const c=this._parseSync({data:e,path:[],parent:t});return Ti(c)?{value:c.value}:{issues:t.common.issues}}catch(c){(l=(a=c==null?void 0:c.message)==null?void 0:a.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(c=>Ti(c)?{value:c.value}:{issues:t.common.issues})}async parseAsync(e,t){const a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){const a={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Bs(e)},l=this._parse({data:e,path:a.path,parent:a}),c=await(po(l)?l:Promise.resolve(l));return kg(a,c)}refine(e,t){const a=l=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(l):t;return this._refinement((l,c)=>{const h=e(l),p=()=>c.addIssue({code:ie.custom,...a(l)});return typeof Promise<"u"&&h instanceof Promise?h.then(y=>y?!0:(p(),!1)):h?!0:(p(),!1)})}refinement(e,t){return this._refinement((a,l)=>e(a)?!0:(l.addIssue(typeof t=="function"?t(a,l):t),!1))}_refinement(e){return new Ei({schema:this,typeName:ke.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return qs.create(this,this._def)}nullable(){return Ai.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fn.create(this)}promise(){return vo.create(this,this._def)}or(e){return xo.create([this,e],this._def)}and(e){return yo.create(this,e,this._def)}transform(e){return new Ei({...Oe(this._def),schema:this,typeName:ke.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new md({...Oe(this._def),innerType:this,defaultValue:t,typeName:ke.ZodDefault})}brand(){return new tC({typeName:ke.ZodBranded,type:this,...Oe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new pd({...Oe(this._def),innerType:this,catchValue:t,typeName:ke.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Pd.create(this,e)}readonly(){return gd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UT=/^c[^\s-]{8,}$/i,DT=/^[0-9a-z]+$/,IT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,LT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OT=/^[a-z0-9_-]{21}$/i,VT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,BT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wu;const HT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,GT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$T=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ix="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KT=new RegExp(`^${Ix}$`);function Lx(i){let e="[0-5]\\d";i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`);const t=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function XT(i){return new RegExp(`^${Lx(i)}$`)}function JT(i){let e=`${Ix}T${Lx(i)}`;const t=[];return t.push(i.local?"Z?":"Z"),i.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function ZT(i,e){return!!((e==="v4"||!e)&&HT.test(i)||(e==="v6"||!e)&&GT.test(i))}function QT(i,e){if(!VT.test(i))return!1;try{const[t]=i.split(".");if(!t)return!1;const a=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),l=JSON.parse(atob(a));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function WT(i,e){return!!((e==="v4"||!e)&&qT.test(i)||(e==="v6"||!e)&&FT.test(i))}class Gn extends Ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const c=this._getOrReturnCtx(e);return he(c,{code:ie.invalid_type,expected:xe.string,received:c.parsedType}),Re}const a=new Jt;let l;for(const c of this._def.checks)if(c.kind==="min")e.data.length<c.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:ie.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="max")e.data.length>c.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:ie.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if(c.kind==="length"){const h=e.data.length>c.value,p=e.data.length<c.value;(h||p)&&(l=this._getOrReturnCtx(e,l),h?he(l,{code:ie.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):p&&he(l,{code:ie.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if(c.kind==="email")BT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"email",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="emoji")Wu||(Wu=new RegExp(zT,"u")),Wu.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"emoji",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="uuid")LT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"uuid",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="nanoid")OT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"nanoid",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid")UT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cuid",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="cuid2")DT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cuid2",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="ulid")IT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"ulid",code:ie.invalid_string,message:c.message}),a.dirty());else if(c.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),he(l,{validation:"url",code:ie.invalid_string,message:c.message}),a.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"regex",code:ie.invalid_string,message:c.message}),a.dirty())):c.kind==="trim"?e.data=e.data.trim():c.kind==="includes"?e.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):c.kind==="toLowerCase"?e.data=e.data.toLowerCase():c.kind==="toUpperCase"?e.data=e.data.toUpperCase():c.kind==="startsWith"?e.data.startsWith(c.value)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):c.kind==="endsWith"?e.data.endsWith(c.value)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):c.kind==="datetime"?JT(c).test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:"datetime",message:c.message}),a.dirty()):c.kind==="date"?KT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:"date",message:c.message}),a.dirty()):c.kind==="time"?XT(c).test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{code:ie.invalid_string,validation:"time",message:c.message}),a.dirty()):c.kind==="duration"?PT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"duration",code:ie.invalid_string,message:c.message}),a.dirty()):c.kind==="ip"?ZT(e.data,c.version)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"ip",code:ie.invalid_string,message:c.message}),a.dirty()):c.kind==="jwt"?QT(e.data,c.alg)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"jwt",code:ie.invalid_string,message:c.message}),a.dirty()):c.kind==="cidr"?WT(e.data,c.version)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"cidr",code:ie.invalid_string,message:c.message}),a.dirty()):c.kind==="base64"?YT.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"base64",code:ie.invalid_string,message:c.message}),a.dirty()):c.kind==="base64url"?$T.test(e.data)||(l=this._getOrReturnCtx(e,l),he(l,{validation:"base64url",code:ie.invalid_string,message:c.message}),a.dirty()):We.assertNever(c);return{status:a.value,value:e.data}}_regex(e,t,a){return this.refinement(l=>e.test(l),{validation:t,code:ie.invalid_string,...Se.errToObj(a)})}_addCheck(e){return new Gn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Se.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Se.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...Se.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Se.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Se.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Se.errToObj(t)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Gn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Gn.create=i=>new Gn({checks:[],typeName:ke.ZodString,coerce:(i==null?void 0:i.coerce)??!1,...Oe(i)});function eC(i,e){const t=(i.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,l=t>a?t:a,c=Number.parseInt(i.toFixed(l).replace(".","")),h=Number.parseInt(e.toFixed(l).replace(".",""));return c%h/10**l}class xa extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const c=this._getOrReturnCtx(e);return he(c,{code:ie.invalid_type,expected:xe.number,received:c.parsedType}),Re}let a;const l=new Jt;for(const c of this._def.checks)c.kind==="int"?We.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),he(a,{code:ie.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?eC(e.data,c.value)!==0&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),he(a,{code:ie.not_finite,message:c.message}),l.dirty()):We.assertNever(c);return{status:l.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,a,l){return new xa({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:Se.toString(l)}]})}_addCheck(e){return new xa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&We.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(t===null||a.value>t)&&(t=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}xa.create=i=>new xa({checks:[],typeName:ke.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...Oe(i)});class ya extends Ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==xe.bigint)return this._getInvalidInput(e);let a;const l=new Jt;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?e.data<c.value:e.data<=c.value)&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?e.data>c.value:e.data>=c.value)&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?e.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),he(a,{code:ie.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):We.assertNever(c);return{status:l.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return he(t,{code:ie.invalid_type,expected:xe.bigint,received:t.parsedType}),Re}gte(e,t){return this.setLimit("min",e,!0,Se.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Se.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Se.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Se.toString(t))}setLimit(e,t,a,l){return new ya({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:Se.toString(l)}]})}_addCheck(e){return new ya({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}ya.create=i=>new ya({checks:[],typeName:ke.ZodBigInt,coerce:(i==null?void 0:i.coerce)??!1,...Oe(i)});class go extends Ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.boolean,received:a.parsedType}),Re}return Rn(e.data)}}go.create=i=>new go({typeName:ke.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...Oe(i)});class Ci extends Ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const c=this._getOrReturnCtx(e);return he(c,{code:ie.invalid_type,expected:xe.date,received:c.parsedType}),Re}if(Number.isNaN(e.data.getTime())){const c=this._getOrReturnCtx(e);return he(c,{code:ie.invalid_date}),Re}const a=new Jt;let l;for(const c of this._def.checks)c.kind==="min"?e.data.getTime()<c.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:ie.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):c.kind==="max"?e.data.getTime()>c.value&&(l=this._getOrReturnCtx(e,l),he(l,{code:ie.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):We.assertNever(c);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ci.create=i=>new Ci({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:ke.ZodDate,...Oe(i)});class Mg extends Ke{_parse(e){if(this._getType(e)!==xe.symbol){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.symbol,received:a.parsedType}),Re}return Rn(e.data)}}Mg.create=i=>new Mg({typeName:ke.ZodSymbol,...Oe(i)});class Rg extends Ke{_parse(e){if(this._getType(e)!==xe.undefined){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.undefined,received:a.parsedType}),Re}return Rn(e.data)}}Rg.create=i=>new Rg({typeName:ke.ZodUndefined,...Oe(i)});class jg extends Ke{_parse(e){if(this._getType(e)!==xe.null){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.null,received:a.parsedType}),Re}return Rn(e.data)}}jg.create=i=>new jg({typeName:ke.ZodNull,...Oe(i)});class Ug extends Ke{constructor(){super(...arguments),this._any=!0}_parse(e){return Rn(e.data)}}Ug.create=i=>new Ug({typeName:ke.ZodAny,...Oe(i)});class dd extends Ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rn(e.data)}}dd.create=i=>new dd({typeName:ke.ZodUnknown,...Oe(i)});class Gs extends Ke{_parse(e){const t=this._getOrReturnCtx(e);return he(t,{code:ie.invalid_type,expected:xe.never,received:t.parsedType}),Re}}Gs.create=i=>new Gs({typeName:ke.ZodNever,...Oe(i)});class Dg extends Ke{_parse(e){if(this._getType(e)!==xe.undefined){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.void,received:a.parsedType}),Re}return Rn(e.data)}}Dg.create=i=>new Dg({typeName:ke.ZodVoid,...Oe(i)});class Fn extends Ke{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),l=this._def;if(t.parsedType!==xe.array)return he(t,{code:ie.invalid_type,expected:xe.array,received:t.parsedType}),Re;if(l.exactLength!==null){const h=t.data.length>l.exactLength.value,p=t.data.length<l.exactLength.value;(h||p)&&(he(t,{code:h?ie.too_big:ie.too_small,minimum:p?l.exactLength.value:void 0,maximum:h?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),a.dirty())}if(l.minLength!==null&&t.data.length<l.minLength.value&&(he(t,{code:ie.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),a.dirty()),l.maxLength!==null&&t.data.length>l.maxLength.value&&(he(t,{code:ie.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map((h,p)=>l.type._parseAsync(new Yn(t,h,t.path,p)))).then(h=>Jt.mergeArray(a,h));const c=[...t.data].map((h,p)=>l.type._parseSync(new Yn(t,h,t.path,p)));return Jt.mergeArray(a,c)}get element(){return this._def.type}min(e,t){return new Fn({...this._def,minLength:{value:e,message:Se.toString(t)}})}max(e,t){return new Fn({...this._def,maxLength:{value:e,message:Se.toString(t)}})}length(e,t){return new Fn({...this._def,exactLength:{value:e,message:Se.toString(t)}})}nonempty(e){return this.min(1,e)}}Fn.create=(i,e)=>new Fn({type:i,minLength:null,maxLength:null,exactLength:null,typeName:ke.ZodArray,...Oe(e)});function pi(i){if(i instanceof Mt){const e={};for(const t in i.shape){const a=i.shape[t];e[t]=qs.create(pi(a))}return new Mt({...i._def,shape:()=>e})}else return i instanceof Fn?new Fn({...i._def,type:pi(i.element)}):i instanceof qs?qs.create(pi(i.unwrap())):i instanceof Ai?Ai.create(pi(i.unwrap())):i instanceof ba?ba.create(i.items.map(e=>pi(e))):i}class Mt extends Ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=We.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==xe.object){const g=this._getOrReturnCtx(e);return he(g,{code:ie.invalid_type,expected:xe.object,received:g.parsedType}),Re}const{status:a,ctx:l}=this._processInputParams(e),{shape:c,keys:h}=this._getCached(),p=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const g in l.data)h.includes(g)||p.push(g);const y=[];for(const g of h){const b=c[g],S=l.data[g];y.push({key:{status:"valid",value:g},value:b._parse(new Yn(l,S,l.path,g)),alwaysSet:g in l.data})}if(this._def.catchall instanceof Gs){const g=this._def.unknownKeys;if(g==="passthrough")for(const b of p)y.push({key:{status:"valid",value:b},value:{status:"valid",value:l.data[b]}});else if(g==="strict")p.length>0&&(he(l,{code:ie.unrecognized_keys,keys:p}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const b of p){const S=l.data[b];y.push({key:{status:"valid",value:b},value:g._parse(new Yn(l,S,l.path,b)),alwaysSet:b in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const g=[];for(const b of y){const S=await b.key,_=await b.value;g.push({key:S,value:_,alwaysSet:b.alwaysSet})}return g}).then(g=>Jt.mergeObjectSync(a,g)):Jt.mergeObjectSync(a,y)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,a)=>{var c,h;const l=((h=(c=this._def).errorMap)==null?void 0:h.call(c,t,a).message)??a.defaultError;return t.code==="unrecognized_keys"?{message:Se.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ke.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const t={};for(const a of We.objectKeys(e))e[a]&&this.shape[a]&&(t[a]=this.shape[a]);return new Mt({...this._def,shape:()=>t})}omit(e){const t={};for(const a of We.objectKeys(this.shape))e[a]||(t[a]=this.shape[a]);return new Mt({...this._def,shape:()=>t})}deepPartial(){return pi(this)}partial(e){const t={};for(const a of We.objectKeys(this.shape)){const l=this.shape[a];e&&!e[a]?t[a]=l:t[a]=l.optional()}return new Mt({...this._def,shape:()=>t})}required(e){const t={};for(const a of We.objectKeys(this.shape))if(e&&!e[a])t[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof qs;)c=c._def.innerType;t[a]=c}return new Mt({...this._def,shape:()=>t})}keyof(){return Ox(We.objectKeys(this.shape))}}Mt.create=(i,e)=>new Mt({shape:()=>i,unknownKeys:"strip",catchall:Gs.create(),typeName:ke.ZodObject,...Oe(e)});Mt.strictCreate=(i,e)=>new Mt({shape:()=>i,unknownKeys:"strict",catchall:Gs.create(),typeName:ke.ZodObject,...Oe(e)});Mt.lazycreate=(i,e)=>new Mt({shape:i,unknownKeys:"strip",catchall:Gs.create(),typeName:ke.ZodObject,...Oe(e)});class xo extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;function l(c){for(const p of c)if(p.result.status==="valid")return p.result;for(const p of c)if(p.result.status==="dirty")return t.common.issues.push(...p.ctx.common.issues),p.result;const h=c.map(p=>new fs(p.ctx.common.issues));return he(t,{code:ie.invalid_union,unionErrors:h}),Re}if(t.common.async)return Promise.all(a.map(async c=>{const h={...t,common:{...t.common,issues:[]},parent:null};return{result:await c._parseAsync({data:t.data,path:t.path,parent:h}),ctx:h}})).then(l);{let c;const h=[];for(const y of a){const g={...t,common:{...t.common,issues:[]},parent:null},b=y._parseSync({data:t.data,path:t.path,parent:g});if(b.status==="valid")return b;b.status==="dirty"&&!c&&(c={result:b,ctx:g}),g.common.issues.length&&h.push(g.common.issues)}if(c)return t.common.issues.push(...c.ctx.common.issues),c.result;const p=h.map(y=>new fs(y));return he(t,{code:ie.invalid_union,unionErrors:p}),Re}}get options(){return this._def.options}}xo.create=(i,e)=>new xo({options:i,typeName:ke.ZodUnion,...Oe(e)});function fd(i,e){const t=Bs(i),a=Bs(e);if(i===e)return{valid:!0,data:i};if(t===xe.object&&a===xe.object){const l=We.objectKeys(e),c=We.objectKeys(i).filter(p=>l.indexOf(p)!==-1),h={...i,...e};for(const p of c){const y=fd(i[p],e[p]);if(!y.valid)return{valid:!1};h[p]=y.data}return{valid:!0,data:h}}else if(t===xe.array&&a===xe.array){if(i.length!==e.length)return{valid:!1};const l=[];for(let c=0;c<i.length;c++){const h=i[c],p=e[c],y=fd(h,p);if(!y.valid)return{valid:!1};l.push(y.data)}return{valid:!0,data:l}}else return t===xe.date&&a===xe.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class yo extends Ke{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),l=(c,h)=>{if(Ag(c)||Ag(h))return Re;const p=fd(c.value,h.value);return p.valid?((wg(c)||wg(h))&&t.dirty(),{status:t.value,value:p.data}):(he(a,{code:ie.invalid_intersection_types}),Re)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,h])=>l(c,h)):l(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}yo.create=(i,e,t)=>new yo({left:i,right:e,typeName:ke.ZodIntersection,...Oe(t)});class ba extends Ke{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==xe.array)return he(a,{code:ie.invalid_type,expected:xe.array,received:a.parsedType}),Re;if(a.data.length<this._def.items.length)return he(a,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Re;!this._def.rest&&a.data.length>this._def.items.length&&(he(a,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const c=[...a.data].map((h,p)=>{const y=this._def.items[p]||this._def.rest;return y?y._parse(new Yn(a,h,a.path,p)):null}).filter(h=>!!h);return a.common.async?Promise.all(c).then(h=>Jt.mergeArray(t,h)):Jt.mergeArray(t,c)}get items(){return this._def.items}rest(e){return new ba({...this._def,rest:e})}}ba.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ba({items:i,typeName:ke.ZodTuple,rest:null,...Oe(e)})};class bo extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==xe.object)return he(a,{code:ie.invalid_type,expected:xe.object,received:a.parsedType}),Re;const l=[],c=this._def.keyType,h=this._def.valueType;for(const p in a.data)l.push({key:c._parse(new Yn(a,p,a.path,p)),value:h._parse(new Yn(a,a.data[p],a.path,p)),alwaysSet:p in a.data});return a.common.async?Jt.mergeObjectAsync(t,l):Jt.mergeObjectSync(t,l)}get element(){return this._def.valueType}static create(e,t,a){return t instanceof Ke?new bo({keyType:e,valueType:t,typeName:ke.ZodRecord,...Oe(a)}):new bo({keyType:Gn.create(),valueType:e,typeName:ke.ZodRecord,...Oe(t)})}}class Ig extends Ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==xe.map)return he(a,{code:ie.invalid_type,expected:xe.map,received:a.parsedType}),Re;const l=this._def.keyType,c=this._def.valueType,h=[...a.data.entries()].map(([p,y],g)=>({key:l._parse(new Yn(a,p,a.path,[g,"key"])),value:c._parse(new Yn(a,y,a.path,[g,"value"]))}));if(a.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const y of h){const g=await y.key,b=await y.value;if(g.status==="aborted"||b.status==="aborted")return Re;(g.status==="dirty"||b.status==="dirty")&&t.dirty(),p.set(g.value,b.value)}return{status:t.value,value:p}})}else{const p=new Map;for(const y of h){const g=y.key,b=y.value;if(g.status==="aborted"||b.status==="aborted")return Re;(g.status==="dirty"||b.status==="dirty")&&t.dirty(),p.set(g.value,b.value)}return{status:t.value,value:p}}}}Ig.create=(i,e,t)=>new Ig({valueType:e,keyType:i,typeName:ke.ZodMap,...Oe(t)});class Bl extends Ke{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==xe.set)return he(a,{code:ie.invalid_type,expected:xe.set,received:a.parsedType}),Re;const l=this._def;l.minSize!==null&&a.data.size<l.minSize.value&&(he(a,{code:ie.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),t.dirty()),l.maxSize!==null&&a.data.size>l.maxSize.value&&(he(a,{code:ie.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),t.dirty());const c=this._def.valueType;function h(y){const g=new Set;for(const b of y){if(b.status==="aborted")return Re;b.status==="dirty"&&t.dirty(),g.add(b.value)}return{status:t.value,value:g}}const p=[...a.data.values()].map((y,g)=>c._parse(new Yn(a,y,a.path,g)));return a.common.async?Promise.all(p).then(y=>h(y)):h(p)}min(e,t){return new Bl({...this._def,minSize:{value:e,message:Se.toString(t)}})}max(e,t){return new Bl({...this._def,maxSize:{value:e,message:Se.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Bl.create=(i,e)=>new Bl({valueType:i,minSize:null,maxSize:null,typeName:ke.ZodSet,...Oe(e)});class hd extends Ke{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}hd.create=(i,e)=>new hd({getter:i,typeName:ke.ZodLazy,...Oe(e)});class Lg extends Ke{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return he(t,{received:t.data,code:ie.invalid_literal,expected:this._def.value}),Re}return{status:"valid",value:e.data}}get value(){return this._def.value}}Lg.create=(i,e)=>new Lg({value:i,typeName:ke.ZodLiteral,...Oe(e)});function Ox(i,e){return new Ni({values:i,typeName:ke.ZodEnum,...Oe(e)})}class Ni extends Ke{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),a=this._def.values;return he(t,{expected:We.joinValues(a),received:t.parsedType,code:ie.invalid_type}),Re}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return he(t,{received:t.data,code:ie.invalid_enum_value,options:a}),Re}return Rn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ni.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ni.create(this.options.filter(a=>!e.includes(a)),{...this._def,...t})}}Ni.create=Ox;class Og extends Ke{_parse(e){const t=We.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==xe.string&&a.parsedType!==xe.number){const l=We.objectValues(t);return he(a,{expected:We.joinValues(l),received:a.parsedType,code:ie.invalid_type}),Re}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=We.objectValues(t);return he(a,{received:a.data,code:ie.invalid_enum_value,options:l}),Re}return Rn(e.data)}get enum(){return this._def.values}}Og.create=(i,e)=>new Og({values:i,typeName:ke.ZodNativeEnum,...Oe(e)});class vo extends Ke{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==xe.promise&&t.common.async===!1)return he(t,{code:ie.invalid_type,expected:xe.promise,received:t.parsedType}),Re;const a=t.parsedType===xe.promise?t.data:Promise.resolve(t.data);return Rn(a.then(l=>this._def.type.parseAsync(l,{path:t.path,errorMap:t.common.contextualErrorMap})))}}vo.create=(i,e)=>new vo({type:i,typeName:ke.ZodPromise,...Oe(e)});class Ei extends Ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),l=this._def.effect||null,c={addIssue:h=>{he(a,h),h.fatal?t.abort():t.dirty()},get path(){return a.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const h=l.transform(a.data,c);if(a.common.async)return Promise.resolve(h).then(async p=>{if(t.value==="aborted")return Re;const y=await this._def.schema._parseAsync({data:p,path:a.path,parent:a});return y.status==="aborted"?Re:y.status==="dirty"||t.value==="dirty"?Rl(y.value):y});{if(t.value==="aborted")return Re;const p=this._def.schema._parseSync({data:h,path:a.path,parent:a});return p.status==="aborted"?Re:p.status==="dirty"||t.value==="dirty"?Rl(p.value):p}}if(l.type==="refinement"){const h=p=>{const y=l.refinement(p,c);if(a.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(a.common.async===!1){const p=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?Re:(p.status==="dirty"&&t.dirty(),h(p.value),{status:t.value,value:p.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(p=>p.status==="aborted"?Re:(p.status==="dirty"&&t.dirty(),h(p.value).then(()=>({status:t.value,value:p.value}))))}if(l.type==="transform")if(a.common.async===!1){const h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ti(h))return Re;const p=l.transform(h.value,c);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:p}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(h=>Ti(h)?Promise.resolve(l.transform(h.value,c)).then(p=>({status:t.value,value:p})):Re);We.assertNever(l)}}Ei.create=(i,e,t)=>new Ei({schema:i,typeName:ke.ZodEffects,effect:e,...Oe(t)});Ei.createWithPreprocess=(i,e,t)=>new Ei({schema:e,effect:{type:"preprocess",transform:i},typeName:ke.ZodEffects,...Oe(t)});class qs extends Ke{_parse(e){return this._getType(e)===xe.undefined?Rn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(i,e)=>new qs({innerType:i,typeName:ke.ZodOptional,...Oe(e)});class Ai extends Ke{_parse(e){return this._getType(e)===xe.null?Rn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ai.create=(i,e)=>new Ai({innerType:i,typeName:ke.ZodNullable,...Oe(e)});class md extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===xe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}md.create=(i,e)=>new md({innerType:i,typeName:ke.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Oe(e)});class pd extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},l=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return po(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new fs(a.common.issues)},input:a.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new fs(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}pd.create=(i,e)=>new pd({innerType:i,typeName:ke.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Oe(e)});class Vg extends Ke{_parse(e){if(this._getType(e)!==xe.nan){const a=this._getOrReturnCtx(e);return he(a,{code:ie.invalid_type,expected:xe.nan,received:a.parsedType}),Re}return{status:"valid",value:e.data}}}Vg.create=i=>new Vg({typeName:ke.ZodNaN,...Oe(i)});class tC extends Ke{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pd extends Ke{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Re:c.status==="dirty"?(t.dirty(),Rl(c.value)):this._def.out._parseAsync({data:c.value,path:a.path,parent:a})})();{const l=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Re:l.status==="dirty"?(t.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:a.path,parent:a})}}static create(e,t){return new Pd({in:e,out:t,typeName:ke.ZodPipeline})}}class gd extends Ke{_parse(e){const t=this._def.innerType._parse(e),a=l=>(Ti(l)&&(l.value=Object.freeze(l.value)),l);return po(t)?t.then(l=>a(l)):a(t)}unwrap(){return this._def.innerType}}gd.create=(i,e)=>new gd({innerType:i,typeName:ke.ZodReadonly,...Oe(e)});var ke;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(ke||(ke={}));const ha=Gn.create,Pg=xa.create;ya.create;const nC=go.create;Ci.create;const Bg=dd.create;Gs.create;const jl=Fn.create,sC=Mt.create,aC=xo.create;yo.create;ba.create;const iC=bo.create,lC=hd.create,rC=Ni.create;vo.create;qs.create;Ai.create;const mi={string:(i=>Gn.create({...i,coerce:!0})),number:(i=>xa.create({...i,coerce:!0})),boolean:(i=>go.create({...i,coerce:!0})),bigint:(i=>ya.create({...i,coerce:!0})),date:(i=>Ci.create({...i,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oC,cC;function uC(){return{geminiUrl:oC,vertexUrl:cC}}function dC(i,e,t){var a,l,c;if(!(!((a=i.httpOptions)===null||a===void 0)&&a.baseUrl)){const h=uC();return i.vertexai?(l=h.vertexUrl)!==null&&l!==void 0?l:e:(c=h.geminiUrl)!==null&&c!==void 0?c:t}return i.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi{}function we(i,e){const t=/\{([^}]+)\}/g;return i.replace(t,(a,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const c=e[l];return c!=null?String(c):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(i,e,t){for(let c=0;c<e.length-1;c++){const h=e[c];if(h.endsWith("[]")){const p=h.slice(0,-2);if(!(p in i))if(Array.isArray(t))i[p]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(t))for(let g=0;g<y.length;g++){const b=y[g];f(b,e.slice(c+1),t[g])}else for(const g of y)f(g,e.slice(c+1),t)}return}else if(h.endsWith("[0]")){const p=h.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];f(y[0],e.slice(c+1),t);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const a=e[e.length-1],l=i[a];if(l!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===l)return;if(typeof l=="object"&&typeof t=="object"&&l!==null&&t!==null)Object.assign(l,t);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else i[a]=t}function d(i,e){try{if(e.length===1&&e[0]==="_self")return i;for(let t=0;t<e.length;t++){if(typeof i!="object"||i===null)return;const a=e[t];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in i){const c=i[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(t+1))):void 0}else return}else i=i[a]}return i}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zg;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zg||(zg={}));var Hg;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Hg||(Hg={}));var kn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(kn||(kn={}));var qg;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(qg||(qg={}));var Gg;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Gg||(Gg={}));var Fg;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Fg||(Fg={}));var Yg;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Yg||(Yg={}));var $g;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})($g||($g={}));var Kg;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Kg||(Kg={}));var Xg;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Xg||(Xg={}));var Jg;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jg||(Jg={}));var Zg;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Zg||(Zg={}));var Qg;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qg||(Qg={}));var So;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(So||(So={}));var Wg;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Wg||(Wg={}));var xd;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xd||(xd={}));var e0;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(e0||(e0={}));var t0;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(t0||(t0={}));var n0;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(n0||(n0={}));var s0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(s0||(s0={}));var a0;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(a0||(a0={}));var i0;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(i0||(i0={}));var l0;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(l0||(l0={}));var r0;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(r0||(r0={}));var o0;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi"})(o0||(o0={}));var c0;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(c0||(c0={}));var u0;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(u0||(u0={}));var d0;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(d0||(d0={}));var f0;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(f0||(f0={}));var h0;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(h0||(h0={}));var m0;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(m0||(m0={}));var p0;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(p0||(p0={}));var g0;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(g0||(g0={}));var x0;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(x0||(x0={}));var y0;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(y0||(y0={}));var b0;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(b0||(b0={}));var v0;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(v0||(v0={}));var S0;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(S0||(S0={}));var gi;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(gi||(gi={}));class kl{get text(){var e,t,a,l,c,h,p,y;if(((l=(a=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",b=!1;const S=[];for(const _ of(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[A,M]of Object.entries(_))A!=="text"&&A!=="thought"&&(M!==null||M!==void 0)&&S.push(A);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;b=!0,g+=_.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),b?g:void 0}get data(){var e,t,a,l,c,h,p,y;if(((l=(a=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const b=[];for(const S of(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[_,A]of Object.entries(S))_!=="inlineData"&&(A!==null||A!==void 0)&&b.push(_);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return b.length>0&&console.warn(`there are non-data parts ${b} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,t,a,l,c,h,p,y;if(((l=(a=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.functionCall).map(b=>b.functionCall).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,t,a,l,c,h,p,y,g;if(((l=(a=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const b=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((b==null?void 0:b.length)!==0)return(g=b==null?void 0:b[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,t,a,l,c,h,p,y,g;if(((l=(a=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const b=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((b==null?void 0:b.length)!==0)return(g=b==null?void 0:b[0])===null||g===void 0?void 0:g.output}}class _0{}class T0{}class fC{}class hC{}class C0{}class N0{}class E0{}class mC{}class A0{}class w0{}class k0{}class pC{}class yd{constructor(e){const t={};for(const a of e.headers.entries())t[a[0]]=a[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class gC{}class xC{}class yC{get text(){var e,t,a;let l="",c=!1;const h=[];for(const p of(a=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&h.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,l+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?l:void 0}get data(){var e,t,a;let l="";const c=[];for(const h of(a=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&a!==void 0?a:[]){for(const[p,y]of Object.entries(h))p!=="inlineData"&&y!==null&&c.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(l+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class bC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vx(i,e){const t=ft(i,e);return t?t.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:t.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${t}`:t:""}function Px(i,e){return Array.isArray(e)?e.map(t=>_o(i,t)):[_o(i,e)]}function _o(i,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function vC(i,e){const t=_o(i,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function SC(i,e){const t=_o(i,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function M0(i,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Bx(i,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>M0(i,t)):[M0(i,e)]}function bd(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function R0(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function j0(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Xt(i,e){if(e==null)throw new Error("ContentUnion is required");return bd(e)?e:{role:"user",parts:Bx(i,e)}}function zx(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const a=Xt(i,t);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const t=Xt(i,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Xt(i,t)):[Xt(i,e)]}function Pn(i,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(R0(e)||j0(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xt(i,e)]}const t=[],a=[],l=bd(e[0]);for(const c of e){const h=bd(c);if(h!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(h)t.push(c);else{if(R0(c)||j0(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(c)}}return l||t.push({role:"user",parts:Bx(i,a)}),t}const _C=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),U0=rC(["string","number","integer","object","array","boolean","null"]),TC=aC([U0,jl(U0)]);function CC(i=!0){const e=lC(()=>{const t=sC({type:TC.optional(),format:ha().optional(),title:ha().optional(),description:ha().optional(),default:Bg().optional(),items:e.optional(),minItems:mi.string().optional(),maxItems:mi.string().optional(),enum:jl(Bg()).optional(),properties:iC(ha(),e).optional(),required:jl(ha()).optional(),minProperties:mi.string().optional(),maxProperties:mi.string().optional(),propertyOrdering:jl(ha()).optional(),minimum:Pg().optional(),maximum:Pg().optional(),minLength:mi.string().optional(),maxLength:mi.string().optional(),pattern:ha().optional(),anyOf:jl(e).optional(),additionalProperties:nC().optional()});return i?t.strict():t});return e}function NC(i,e){i.includes("null")&&(e.nullable=!0);const t=i.filter(a=>a!=="null");if(t.length===1)e.type=Object.keys(kn).includes(t[0].toUpperCase())?kn[t[0].toUpperCase()]:kn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of t)e.anyOf.push({type:Object.keys(kn).includes(a.toUpperCase())?kn[a.toUpperCase()]:kn.TYPE_UNSPECIFIED})}}function yi(i){const e={},t=["items"],a=["anyOf"],l=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,i=c[1]):c[1].type==="null"&&(e.nullable=!0,i=c[0])),i.type instanceof Array&&NC(i.type,e);for(const[h,p]of Object.entries(i))if(p!=null)if(h=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.keys(kn).includes(p.toUpperCase())?p.toUpperCase():kn.TYPE_UNSPECIFIED}else if(t.includes(h))e[h]=yi(p);else if(a.includes(h)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(yi(g))}e[h]=y}else if(l.includes(h)){const y={};for(const[g,b]of Object.entries(p))y[g]=yi(b);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=p}return e}function To(i,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=CC().parse(e);return yi(t)}else return yi(e)}function Hx(i,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Bd(i,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Hl(i,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=To(i,t.parameters)),t.response&&(t.response=To(i,t.response));return e}function ql(i,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const a of e)t.push(a);return t}function EC(i,e,t,a=1){const l=!e.startsWith(`${t}/`)&&e.split("/").length===a;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:l?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}/${e}`:e:l?`${t}/${e}`:e}function Fs(i,e){if(typeof e!="string")throw new Error("name must be a string");return EC(i,e,"cachedContents")}function qx(i,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ys(i,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function AC(i){return i!=null&&typeof i=="object"&&"name"in i}function wC(i){return i!=null&&typeof i=="object"&&"video"in i}function kC(i){return i!=null&&typeof i=="object"&&"uri"in i}function Gx(i,e){var t;let a;if(AC(e)&&(a=e.name),!(kC(e)&&(a=e.uri,a===void 0))&&!(wC(e)&&(a=(t=e.video)===null||t===void 0?void 0:t.uri,a===void 0))){if(typeof e=="string"&&(a=e),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const c=a.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${a}`);a=c[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function Fx(i,e){let t;return i.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Yx(i,e){for(const t of["models","tunedModels","publisherModels"])if(MC(e,t))return e[t];return[]}function MC(i,e){return i!==null&&typeof i=="object"&&e in i}function RC(i,e={}){const t=i,a={name:t.name,description:t.description,parameters:yi(Eo(t.inputSchema))};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function jC(i,e={}){const t=[],a=new Set;for(const l of i){const c=l.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const h=RC(l,e);h.functionDeclarations&&t.push(...h.functionDeclarations)}return{functionDeclarations:t}}function UC(i){const e=[];for(const t of i)e.push(Eo(t));return e}function DC(i){const e={};for(const[t,a]of Object.entries(i)){const l=a;e[t]=Eo(l)}return e}function Eo(i){const e=new Set(["items"]),t=new Set(["anyOf"]),a=new Set(["properties"]),l={};for(const[c,h]of Object.entries(i))if(e.has(c))l[c]=Eo(h);else if(t.has(c))l[c]=UC(h);else if(a.has(c))l[c]=DC(h);else if(c==="type"){const p=h.toUpperCase();l[c]=Object.keys(kn).includes(p)?p:kn.TYPE_UNSPECIFIED}else _C.has(c)&&(l[c]=h);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function LC(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function OC(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function VC(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],IC(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],LC(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],OC(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function D0(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>VC(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function PC(i,e){const t={},a=d(e,["behavior"]);a!=null&&f(t,["behavior"],a);const l=d(e,["description"]);l!=null&&f(t,["description"],l);const c=d(e,["name"]);c!=null&&f(t,["name"],c);const h=d(e,["parameters"]);h!=null&&f(t,["parameters"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],p),t}function BC(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function zC(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],BC(i,a)),t}function HC(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function qC(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],HC(i,a)),t}function GC(){return{}}function FC(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>PC(i,g))),f(t,["functionDeclarations"],y)}if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],zC(i,l));const c=d(e,["googleSearchRetrieval"]);if(c!=null&&f(t,["googleSearchRetrieval"],qC(i,c)),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(e,["urlContext"])!=null&&f(t,["urlContext"],GC());const p=d(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function YC(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function $C(i,e){const t={},a=d(e,["latitude"]);a!=null&&f(t,["latitude"],a);const l=d(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function KC(i,e){const t={},a=d(e,["latLng"]);a!=null&&f(t,["latLng"],$C(i,a));const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function XC(i,e){const t={},a=d(e,["functionCallingConfig"]);a!=null&&f(t,["functionCallingConfig"],YC(i,a));const l=d(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],KC(i,l)),t}function JC(i,e,t){const a={},l=d(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const c=d(e,["expireTime"]);t!==void 0&&c!=null&&f(t,["expireTime"],c);const h=d(e,["displayName"]);t!==void 0&&h!=null&&f(t,["displayName"],h);const p=d(e,["contents"]);if(t!==void 0&&p!=null){let S=Pn(i,p);Array.isArray(S)&&(S=S.map(_=>D0(i,_))),f(t,["contents"],S)}const y=d(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],D0(i,Xt(i,y)));const g=d(e,["tools"]);if(t!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(_=>FC(i,_))),f(t,["tools"],S)}const b=d(e,["toolConfig"]);if(t!==void 0&&b!=null&&f(t,["toolConfig"],XC(i,b)),d(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function ZC(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["model"],Vx(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],JC(i,l,t)),t}function QC(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function WC(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function e1(i,e,t){const a={},l=d(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const c=d(e,["expireTime"]);return t!==void 0&&c!=null&&f(t,["expireTime"],c),a}function t1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],e1(i,l,t)),t}function n1(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);return t!==void 0&&c!=null&&f(t,["_query","pageToken"],c),a}function s1(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],n1(i,a,t)),t}function a1(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function i1(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["data"]);l!=null&&f(t,["data"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function l1(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function r1(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],a1(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],i1(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],l1(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function I0(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>r1(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function o1(i,e){const t={};if(d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(e,["description"]);a!=null&&f(t,["description"],a);const l=d(e,["name"]);l!=null&&f(t,["name"],l);const c=d(e,["parameters"]);c!=null&&f(t,["parameters"],c);const h=d(e,["response"]);return h!=null&&f(t,["response"],h),t}function c1(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function u1(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],c1(i,a)),t}function d1(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function f1(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],d1(i,a)),t}function h1(){return{}}function m1(i,e){const t={},a=d(e,["apiKeyString"]);return a!=null&&f(t,["apiKeyString"],a),t}function p1(i,e){const t={},a=d(e,["apiKeyConfig"]);a!=null&&f(t,["apiKeyConfig"],m1(i,a));const l=d(e,["authType"]);l!=null&&f(t,["authType"],l);const c=d(e,["googleServiceAccountConfig"]);c!=null&&f(t,["googleServiceAccountConfig"],c);const h=d(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const p=d(e,["oauthConfig"]);p!=null&&f(t,["oauthConfig"],p);const y=d(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function g1(i,e){const t={},a=d(e,["authConfig"]);return a!=null&&f(t,["authConfig"],p1(i,a)),t}function x1(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(S=>o1(i,S))),f(t,["functionDeclarations"],b)}const l=d(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const c=d(e,["googleSearch"]);c!=null&&f(t,["googleSearch"],u1(i,c));const h=d(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],f1(i,h)),d(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],h1());const y=d(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],g1(i,y)),d(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=d(e,["codeExecution"]);return g!=null&&f(t,["codeExecution"],g),t}function y1(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function b1(i,e){const t={},a=d(e,["latitude"]);a!=null&&f(t,["latitude"],a);const l=d(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function v1(i,e){const t={},a=d(e,["latLng"]);a!=null&&f(t,["latLng"],b1(i,a));const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function S1(i,e){const t={},a=d(e,["functionCallingConfig"]);a!=null&&f(t,["functionCallingConfig"],y1(i,a));const l=d(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],v1(i,l)),t}function _1(i,e,t){const a={},l=d(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const c=d(e,["expireTime"]);t!==void 0&&c!=null&&f(t,["expireTime"],c);const h=d(e,["displayName"]);t!==void 0&&h!=null&&f(t,["displayName"],h);const p=d(e,["contents"]);if(t!==void 0&&p!=null){let _=Pn(i,p);Array.isArray(_)&&(_=_.map(A=>I0(i,A))),f(t,["contents"],_)}const y=d(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],I0(i,Xt(i,y)));const g=d(e,["tools"]);if(t!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(A=>x1(i,A))),f(t,["tools"],_)}const b=d(e,["toolConfig"]);t!==void 0&&b!=null&&f(t,["toolConfig"],S1(i,b));const S=d(e,["kmsKeyName"]);return t!==void 0&&S!=null&&f(t,["encryption_spec","kmsKeyName"],S),a}function T1(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["model"],Vx(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],_1(i,l,t)),t}function C1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function N1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function E1(i,e,t){const a={},l=d(e,["ttl"]);t!==void 0&&l!=null&&f(t,["ttl"],l);const c=d(e,["expireTime"]);return t!==void 0&&c!=null&&f(t,["expireTime"],c),a}function A1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],Fs(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],E1(i,l,t)),t}function w1(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);return t!==void 0&&c!=null&&f(t,["_query","pageToken"],c),a}function k1(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],w1(i,a,t)),t}function co(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["model"]);c!=null&&f(t,["model"],c);const h=d(e,["createTime"]);h!=null&&f(t,["createTime"],h);const p=d(e,["updateTime"]);p!=null&&f(t,["updateTime"],p);const y=d(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const g=d(e,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function M1(){return{}}function R1(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>co(i,h))),f(t,["cachedContents"],c)}return t}function uo(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["model"]);c!=null&&f(t,["model"],c);const h=d(e,["createTime"]);h!=null&&f(t,["createTime"],h);const p=d(e,["updateTime"]);p!=null&&f(t,["updateTime"],p);const y=d(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const g=d(e,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function j1(){return{}}function U1(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["cachedContents"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>uo(i,h))),f(t,["cachedContents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wi;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(wi||(wi={}));class Ao{constructor(e,t,a,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,a,l)}init(e,t,a){var l,c;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};a?typeof a=="object"?h=Object.assign({},a):h=a:h={config:{}},h.config&&(h.config.pageToken=t.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(c=(l=h.config)===null||l===void 0?void 0:l.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D1 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ao(wi.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(t),t)}async create(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=T1(this.apiClient,e);return p=we("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>uo(this.apiClient,b))}else{const g=ZC(this.apiClient,e);return p=we("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>co(this.apiClient,b))}}async get(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=C1(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>uo(this.apiClient,b))}else{const g=QC(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>co(this.apiClient,b))}}async delete(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=N1(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(()=>{const b=j1(),S=new w0;return Object.assign(S,b),S})}else{const g=WC(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(()=>{const b=M1(),S=new w0;return Object.assign(S,b),S})}}async update(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=A1(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>uo(this.apiClient,b))}else{const g=t1(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>co(this.apiClient,b))}}async listInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=k1(this.apiClient,e);return p=we("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=U1(this.apiClient,b),_=new k0;return Object.assign(_,S),_})}else{const g=s1(this.apiClient,e);return p=we("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=R1(this.apiClient,b),_=new k0;return Object.assign(_,S),_})}}}function L0(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],a=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pt(i){return this instanceof pt?(this.v=i,this):new pt(i)}function bi(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t.apply(i,e||[]),l,c=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(A){return function(M){return Promise.resolve(M).then(A,S)}}function p(A,M){a[A]&&(l[A]=function(D){return new Promise(function(E,q){c.push([A,D,E,q])>1||y(A,D)})},M&&(l[A]=M(l[A])))}function y(A,M){try{g(a[A](M))}catch(D){_(c[0][3],D)}}function g(A){A.value instanceof pt?Promise.resolve(A.value.v).then(b,S):_(c[0][2],A)}function b(A){y("next",A)}function S(A){y("throw",A)}function _(A,M){A(M),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Ll(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof L0=="function"?L0(i):i[Symbol.iterator](),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(c){t[c]=i[c]&&function(h){return new Promise(function(p,y){h=i[c](h),l(p,y,h.done,h.value)})}}function l(c,h,p,y){Promise.resolve(y).then(function(g){c({value:g,done:p})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I1(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const t=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:$x(t)}function $x(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function L1(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function O0(i){if(i===void 0||i.length===0)return[];const e=[],t=i.length;let a=0;for(;a<t;)if(i[a].role==="user")e.push(i[a]),a++;else{const l=[];let c=!0;for(;a<t&&i[a].role==="model";)l.push(i[a]),c&&!$x(i[a])&&(c=!1),a++;c?e.push(...l):e.pop()}return e}class O1{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new V1(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class V1{constructor(e,t,a,l={},c=[]){this.apiClient=e,this.modelsModule=t,this.model=a,this.config=l,this.history=c,this.sendPromise=Promise.resolve(),L1(c)}async sendMessage(e){var t;await this.sendPromise;const a=Xt(this.apiClient,e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var c,h,p;const y=await l,g=(h=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content,b=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let _=[];b!=null&&(_=(p=b.slice(S))!==null&&p!==void 0?p:[]);const A=g?[g]:[];this.recordHistory(a,A,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var t;await this.sendPromise;const a=Xt(this.apiClient,e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const c=await l;return this.processStreamResponse(c,a)}getHistory(e=!1){const t=e?O0(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var a,l;return bi(this,arguments,function*(){var h,p,y,g;const b=[];try{for(var S=!0,_=Ll(e),A;A=yield pt(_.next()),h=A.done,!h;S=!0){g=A.value,S=!1;const M=g;if(I1(M)){const D=(l=(a=M.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content;D!==void 0&&b.push(D)}yield yield pt(M)}}catch(M){p={error:M}}finally{try{!S&&!h&&(y=_.return)&&(yield pt(y.call(_)))}finally{if(p)throw p.error}}this.recordHistory(t,b)})}recordHistory(e,t,a){let l=[];t.length>0&&t.every(c=>c.role!==void 0)?l=t:l.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...O0(a)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P1(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);return t!==void 0&&c!=null&&f(t,["_query","pageToken"],c),a}function B1(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],P1(i,a,t)),t}function z1(i,e){const t={},a=d(e,["details"]);a!=null&&f(t,["details"],a);const l=d(e,["message"]);l!=null&&f(t,["message"],l);const c=d(e,["code"]);return c!=null&&f(t,["code"],c),t}function H1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["mimeType"]);c!=null&&f(t,["mimeType"],c);const h=d(e,["sizeBytes"]);h!=null&&f(t,["sizeBytes"],h);const p=d(e,["createTime"]);p!=null&&f(t,["createTime"],p);const y=d(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const g=d(e,["updateTime"]);g!=null&&f(t,["updateTime"],g);const b=d(e,["sha256Hash"]);b!=null&&f(t,["sha256Hash"],b);const S=d(e,["uri"]);S!=null&&f(t,["uri"],S);const _=d(e,["downloadUri"]);_!=null&&f(t,["downloadUri"],_);const A=d(e,["state"]);A!=null&&f(t,["state"],A);const M=d(e,["source"]);M!=null&&f(t,["source"],M);const D=d(e,["videoMetadata"]);D!=null&&f(t,["videoMetadata"],D);const E=d(e,["error"]);return E!=null&&f(t,["error"],z1(i,E)),t}function q1(i,e){const t={},a=d(e,["file"]);a!=null&&f(t,["file"],H1(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function G1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","file"],Gx(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function F1(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","file"],Gx(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function Y1(i,e){const t={},a=d(e,["details"]);a!=null&&f(t,["details"],a);const l=d(e,["message"]);l!=null&&f(t,["message"],l);const c=d(e,["code"]);return c!=null&&f(t,["code"],c),t}function vd(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["mimeType"]);c!=null&&f(t,["mimeType"],c);const h=d(e,["sizeBytes"]);h!=null&&f(t,["sizeBytes"],h);const p=d(e,["createTime"]);p!=null&&f(t,["createTime"],p);const y=d(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const g=d(e,["updateTime"]);g!=null&&f(t,["updateTime"],g);const b=d(e,["sha256Hash"]);b!=null&&f(t,["sha256Hash"],b);const S=d(e,["uri"]);S!=null&&f(t,["uri"],S);const _=d(e,["downloadUri"]);_!=null&&f(t,["downloadUri"],_);const A=d(e,["state"]);A!=null&&f(t,["state"],A);const M=d(e,["source"]);M!=null&&f(t,["source"],M);const D=d(e,["videoMetadata"]);D!=null&&f(t,["videoMetadata"],D);const E=d(e,["error"]);return E!=null&&f(t,["error"],Y1(i,E)),t}function $1(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["files"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>vd(i,h))),f(t,["files"],c)}return t}function K1(){return{}}function X1(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class J1 extends Mi{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ao(wi.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>vd(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=B1(this.apiClient,e);return c=we("files",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>{const g=$1(this.apiClient,y),b=new pC;return Object.assign(b,g),b})}}async createInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=q1(this.apiClient,e);return c=we("upload/v1beta/files",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(()=>{const y=K1(),g=new gC;return Object.assign(g,y),g})}}async get(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=G1(this.apiClient,e);return c=we("files/{file}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>vd(this.apiClient,y))}}async delete(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=F1(this.apiClient,e);return c=we("files/{file}",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(()=>{const y=X1(),g=new xC;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z1(i,e){const t={},a=d(e,["voiceName"]);return a!=null&&f(t,["voiceName"],a),t}function Q1(i,e){const t={},a=d(e,["voiceName"]);return a!=null&&f(t,["voiceName"],a),t}function Kx(i,e){const t={},a=d(e,["prebuiltVoiceConfig"]);return a!=null&&f(t,["prebuiltVoiceConfig"],Z1(i,a)),t}function W1(i,e){const t={},a=d(e,["prebuiltVoiceConfig"]);return a!=null&&f(t,["prebuiltVoiceConfig"],Q1(i,a)),t}function eN(i,e){const t={},a=d(e,["speaker"]);a!=null&&f(t,["speaker"],a);const l=d(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],Kx(i,l)),t}function tN(i,e){const t={},a=d(e,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>eN(i,c))),f(t,["speakerVoiceConfigs"],l)}return t}function nN(i,e){const t={},a=d(e,["voiceConfig"]);a!=null&&f(t,["voiceConfig"],Kx(i,a));const l=d(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],tN(i,l));const c=d(e,["languageCode"]);return c!=null&&f(t,["languageCode"],c),t}function sN(i,e){const t={},a=d(e,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],W1(i,a)),d(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function aN(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function iN(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function lN(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function rN(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["data"]);l!=null&&f(t,["data"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function oN(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function cN(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function uN(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],aN(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],lN(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],oN(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function dN(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],iN(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],rN(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],cN(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function fN(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>uN(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function hN(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>dN(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function mN(i,e){const t={},a=d(e,["behavior"]);a!=null&&f(t,["behavior"],a);const l=d(e,["description"]);l!=null&&f(t,["description"],l);const c=d(e,["name"]);c!=null&&f(t,["name"],c);const h=d(e,["parameters"]);h!=null&&f(t,["parameters"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],p),t}function pN(i,e){const t={};if(d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(e,["description"]);a!=null&&f(t,["description"],a);const l=d(e,["name"]);l!=null&&f(t,["name"],l);const c=d(e,["parameters"]);c!=null&&f(t,["parameters"],c);const h=d(e,["response"]);return h!=null&&f(t,["response"],h),t}function gN(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function xN(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function yN(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],gN(i,a)),t}function bN(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],xN(i,a)),t}function vN(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function SN(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function _N(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],vN(i,a)),t}function TN(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],SN(i,a)),t}function CN(){return{}}function NN(i,e){const t={},a=d(e,["apiKeyString"]);return a!=null&&f(t,["apiKeyString"],a),t}function EN(i,e){const t={},a=d(e,["apiKeyConfig"]);a!=null&&f(t,["apiKeyConfig"],NN(i,a));const l=d(e,["authType"]);l!=null&&f(t,["authType"],l);const c=d(e,["googleServiceAccountConfig"]);c!=null&&f(t,["googleServiceAccountConfig"],c);const h=d(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const p=d(e,["oauthConfig"]);p!=null&&f(t,["oauthConfig"],p);const y=d(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function AN(i,e){const t={},a=d(e,["authConfig"]);return a!=null&&f(t,["authConfig"],EN(i,a)),t}function wN(){return{}}function kN(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>mN(i,g))),f(t,["functionDeclarations"],y)}if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],yN(i,l));const c=d(e,["googleSearchRetrieval"]);if(c!=null&&f(t,["googleSearchRetrieval"],_N(i,c)),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(e,["urlContext"])!=null&&f(t,["urlContext"],wN());const p=d(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function MN(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(S=>pN(i,S))),f(t,["functionDeclarations"],b)}const l=d(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const c=d(e,["googleSearch"]);c!=null&&f(t,["googleSearch"],bN(i,c));const h=d(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],TN(i,h)),d(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],CN());const y=d(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],AN(i,y)),d(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=d(e,["codeExecution"]);return g!=null&&f(t,["codeExecution"],g),t}function RN(i,e){const t={},a=d(e,["handle"]);if(a!=null&&f(t,["handle"],a),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function jN(i,e){const t={},a=d(e,["handle"]);a!=null&&f(t,["handle"],a);const l=d(e,["transparent"]);return l!=null&&f(t,["transparent"],l),t}function V0(){return{}}function P0(){return{}}function UN(i,e){const t={},a=d(e,["disabled"]);a!=null&&f(t,["disabled"],a);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const c=d(e,["endOfSpeechSensitivity"]);c!=null&&f(t,["endOfSpeechSensitivity"],c);const h=d(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const p=d(e,["silenceDurationMs"]);return p!=null&&f(t,["silenceDurationMs"],p),t}function DN(i,e){const t={},a=d(e,["disabled"]);a!=null&&f(t,["disabled"],a);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const c=d(e,["endOfSpeechSensitivity"]);c!=null&&f(t,["endOfSpeechSensitivity"],c);const h=d(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const p=d(e,["silenceDurationMs"]);return p!=null&&f(t,["silenceDurationMs"],p),t}function IN(i,e){const t={},a=d(e,["automaticActivityDetection"]);a!=null&&f(t,["automaticActivityDetection"],UN(i,a));const l=d(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const c=d(e,["turnCoverage"]);return c!=null&&f(t,["turnCoverage"],c),t}function LN(i,e){const t={},a=d(e,["automaticActivityDetection"]);a!=null&&f(t,["automaticActivityDetection"],DN(i,a));const l=d(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const c=d(e,["turnCoverage"]);return c!=null&&f(t,["turnCoverage"],c),t}function ON(i,e){const t={},a=d(e,["targetTokens"]);return a!=null&&f(t,["targetTokens"],a),t}function VN(i,e){const t={},a=d(e,["targetTokens"]);return a!=null&&f(t,["targetTokens"],a),t}function PN(i,e){const t={},a=d(e,["triggerTokens"]);a!=null&&f(t,["triggerTokens"],a);const l=d(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],ON(i,l)),t}function BN(i,e){const t={},a=d(e,["triggerTokens"]);a!=null&&f(t,["triggerTokens"],a);const l=d(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],VN(i,l)),t}function zN(i,e){const t={},a=d(e,["proactiveAudio"]);return a!=null&&f(t,["proactiveAudio"],a),t}function HN(i,e){const t={},a=d(e,["proactiveAudio"]);return a!=null&&f(t,["proactiveAudio"],a),t}function qN(i,e,t){const a={},l=d(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const c=d(e,["responseModalities"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","responseModalities"],c);const h=d(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const p=d(e,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const y=d(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=d(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const b=d(e,["mediaResolution"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","mediaResolution"],b);const S=d(e,["seed"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","seed"],S);const _=d(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],nN(i,Bd(i,_)));const A=d(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=d(e,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],fN(i,Xt(i,M)));const D=d(e,["tools"]);if(t!==void 0&&D!=null){let ne=ql(i,D);Array.isArray(ne)&&(ne=ne.map(W=>kN(i,Hl(i,W)))),f(t,["setup","tools"],ne)}const E=d(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],RN(i,E));const q=d(e,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],V0());const G=d(e,["outputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","outputAudioTranscription"],V0());const Q=d(e,["realtimeInputConfig"]);t!==void 0&&Q!=null&&f(t,["setup","realtimeInputConfig"],IN(i,Q));const z=d(e,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],PN(i,z));const Y=d(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],zN(i,Y)),a}function GN(i,e,t){const a={},l=d(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const c=d(e,["responseModalities"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","responseModalities"],c);const h=d(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const p=d(e,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const y=d(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=d(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const b=d(e,["mediaResolution"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","mediaResolution"],b);const S=d(e,["seed"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","seed"],S);const _=d(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],sN(i,Bd(i,_)));const A=d(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=d(e,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],hN(i,Xt(i,M)));const D=d(e,["tools"]);if(t!==void 0&&D!=null){let ne=ql(i,D);Array.isArray(ne)&&(ne=ne.map(W=>MN(i,Hl(i,W)))),f(t,["setup","tools"],ne)}const E=d(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],jN(i,E));const q=d(e,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],P0());const G=d(e,["outputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","outputAudioTranscription"],P0());const Q=d(e,["realtimeInputConfig"]);t!==void 0&&Q!=null&&f(t,["setup","realtimeInputConfig"],LN(i,Q));const z=d(e,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],BN(i,z));const Y=d(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],HN(i,Y)),a}function FN(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["setup","model"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],qN(i,l,t)),t}function YN(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["setup","model"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],GN(i,l,t)),t}function $N(){return{}}function KN(){return{}}function XN(){return{}}function JN(){return{}}function ZN(i,e){const t={},a=d(e,["media"]);a!=null&&f(t,["mediaChunks"],Px(i,a));const l=d(e,["audio"]);l!=null&&f(t,["audio"],SC(i,l));const c=d(e,["audioStreamEnd"]);c!=null&&f(t,["audioStreamEnd"],c);const h=d(e,["video"]);h!=null&&f(t,["video"],vC(i,h));const p=d(e,["text"]);return p!=null&&f(t,["text"],p),d(e,["activityStart"])!=null&&f(t,["activityStart"],$N()),d(e,["activityEnd"])!=null&&f(t,["activityEnd"],XN()),t}function QN(i,e){const t={},a=d(e,["media"]);if(a!=null&&f(t,["mediaChunks"],Px(i,a)),d(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const l=d(e,["audioStreamEnd"]);if(l!=null&&f(t,["audioStreamEnd"],l),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(e,["activityStart"])!=null&&f(t,["activityStart"],KN()),d(e,["activityEnd"])!=null&&f(t,["activityEnd"],JN()),t}function Xx(i,e){const t={},a=d(e,["text"]);a!=null&&f(t,["text"],a);const l=d(e,["weight"]);return l!=null&&f(t,["weight"],l),t}function WN(i,e){const t={},a=d(e,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Xx(i,c))),f(t,["weightedPrompts"],l)}return t}function Jx(i,e){const t={},a=d(e,["temperature"]);a!=null&&f(t,["temperature"],a);const l=d(e,["topK"]);l!=null&&f(t,["topK"],l);const c=d(e,["seed"]);c!=null&&f(t,["seed"],c);const h=d(e,["guidance"]);h!=null&&f(t,["guidance"],h);const p=d(e,["bpm"]);p!=null&&f(t,["bpm"],p);const y=d(e,["density"]);y!=null&&f(t,["density"],y);const g=d(e,["brightness"]);g!=null&&f(t,["brightness"],g);const b=d(e,["scale"]);b!=null&&f(t,["scale"],b);const S=d(e,["muteBass"]);S!=null&&f(t,["muteBass"],S);const _=d(e,["muteDrums"]);_!=null&&f(t,["muteDrums"],_);const A=d(e,["onlyBassAndDrums"]);return A!=null&&f(t,["onlyBassAndDrums"],A),t}function eE(i,e){const t={},a=d(e,["musicGenerationConfig"]);return a!=null&&f(t,["musicGenerationConfig"],Jx(i,a)),t}function Zx(i,e){const t={},a=d(e,["model"]);return a!=null&&f(t,["model"],a),t}function Qx(i,e){const t={},a=d(e,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Xx(i,c))),f(t,["weightedPrompts"],l)}return t}function Sd(i,e){const t={},a=d(e,["setup"]);a!=null&&f(t,["setup"],Zx(i,a));const l=d(e,["clientContent"]);l!=null&&f(t,["clientContent"],Qx(i,l));const c=d(e,["musicGenerationConfig"]);c!=null&&f(t,["musicGenerationConfig"],Jx(i,c));const h=d(e,["playbackControl"]);return h!=null&&f(t,["playbackControl"],h),t}function tE(){return{}}function nE(){return{}}function sE(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function aE(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function iE(i,e){const t={},a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function lE(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["data"]);l!=null&&f(t,["data"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function rE(i,e){const t={},a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function oE(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function cE(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],sE(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],iE(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],rE(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function uE(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],aE(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],lE(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],oE(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function dE(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>cE(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function fE(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>uE(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function B0(i,e){const t={},a=d(e,["text"]);a!=null&&f(t,["text"],a);const l=d(e,["finished"]);return l!=null&&f(t,["finished"],l),t}function z0(i,e){const t={},a=d(e,["text"]);a!=null&&f(t,["text"],a);const l=d(e,["finished"]);return l!=null&&f(t,["finished"],l),t}function hE(i,e){const t={},a=d(e,["retrievedUrl"]);a!=null&&f(t,["retrievedUrl"],a);const l=d(e,["urlRetrievalStatus"]);return l!=null&&f(t,["urlRetrievalStatus"],l),t}function mE(i,e){const t={},a=d(e,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>hE(i,c))),f(t,["urlMetadata"],l)}return t}function pE(i,e){const t={},a=d(e,["modelTurn"]);a!=null&&f(t,["modelTurn"],dE(i,a));const l=d(e,["turnComplete"]);l!=null&&f(t,["turnComplete"],l);const c=d(e,["interrupted"]);c!=null&&f(t,["interrupted"],c);const h=d(e,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const p=d(e,["generationComplete"]);p!=null&&f(t,["generationComplete"],p);const y=d(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],B0(i,y));const g=d(e,["outputTranscription"]);g!=null&&f(t,["outputTranscription"],B0(i,g));const b=d(e,["urlContextMetadata"]);return b!=null&&f(t,["urlContextMetadata"],mE(i,b)),t}function gE(i,e){const t={},a=d(e,["modelTurn"]);a!=null&&f(t,["modelTurn"],fE(i,a));const l=d(e,["turnComplete"]);l!=null&&f(t,["turnComplete"],l);const c=d(e,["interrupted"]);c!=null&&f(t,["interrupted"],c);const h=d(e,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const p=d(e,["generationComplete"]);p!=null&&f(t,["generationComplete"],p);const y=d(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],z0(i,y));const g=d(e,["outputTranscription"]);return g!=null&&f(t,["outputTranscription"],z0(i,g)),t}function xE(i,e){const t={},a=d(e,["id"]);a!=null&&f(t,["id"],a);const l=d(e,["args"]);l!=null&&f(t,["args"],l);const c=d(e,["name"]);return c!=null&&f(t,["name"],c),t}function yE(i,e){const t={},a=d(e,["args"]);a!=null&&f(t,["args"],a);const l=d(e,["name"]);return l!=null&&f(t,["name"],l),t}function bE(i,e){const t={},a=d(e,["functionCalls"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>xE(i,c))),f(t,["functionCalls"],l)}return t}function vE(i,e){const t={},a=d(e,["functionCalls"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>yE(i,c))),f(t,["functionCalls"],l)}return t}function SE(i,e){const t={},a=d(e,["ids"]);return a!=null&&f(t,["ids"],a),t}function _E(i,e){const t={},a=d(e,["ids"]);return a!=null&&f(t,["ids"],a),t}function ro(i,e){const t={},a=d(e,["modality"]);a!=null&&f(t,["modality"],a);const l=d(e,["tokenCount"]);return l!=null&&f(t,["tokenCount"],l),t}function oo(i,e){const t={},a=d(e,["modality"]);a!=null&&f(t,["modality"],a);const l=d(e,["tokenCount"]);return l!=null&&f(t,["tokenCount"],l),t}function TE(i,e){const t={},a=d(e,["promptTokenCount"]);a!=null&&f(t,["promptTokenCount"],a);const l=d(e,["cachedContentTokenCount"]);l!=null&&f(t,["cachedContentTokenCount"],l);const c=d(e,["responseTokenCount"]);c!=null&&f(t,["responseTokenCount"],c);const h=d(e,["toolUsePromptTokenCount"]);h!=null&&f(t,["toolUsePromptTokenCount"],h);const p=d(e,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const y=d(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const g=d(e,["promptTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(M=>ro(i,M))),f(t,["promptTokensDetails"],A)}const b=d(e,["cacheTokensDetails"]);if(b!=null){let A=b;Array.isArray(A)&&(A=A.map(M=>ro(i,M))),f(t,["cacheTokensDetails"],A)}const S=d(e,["responseTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(M=>ro(i,M))),f(t,["responseTokensDetails"],A)}const _=d(e,["toolUsePromptTokensDetails"]);if(_!=null){let A=_;Array.isArray(A)&&(A=A.map(M=>ro(i,M))),f(t,["toolUsePromptTokensDetails"],A)}return t}function CE(i,e){const t={},a=d(e,["promptTokenCount"]);a!=null&&f(t,["promptTokenCount"],a);const l=d(e,["cachedContentTokenCount"]);l!=null&&f(t,["cachedContentTokenCount"],l);const c=d(e,["candidatesTokenCount"]);c!=null&&f(t,["responseTokenCount"],c);const h=d(e,["toolUsePromptTokenCount"]);h!=null&&f(t,["toolUsePromptTokenCount"],h);const p=d(e,["thoughtsTokenCount"]);p!=null&&f(t,["thoughtsTokenCount"],p);const y=d(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const g=d(e,["promptTokensDetails"]);if(g!=null){let M=g;Array.isArray(M)&&(M=M.map(D=>oo(i,D))),f(t,["promptTokensDetails"],M)}const b=d(e,["cacheTokensDetails"]);if(b!=null){let M=b;Array.isArray(M)&&(M=M.map(D=>oo(i,D))),f(t,["cacheTokensDetails"],M)}const S=d(e,["candidatesTokensDetails"]);if(S!=null){let M=S;Array.isArray(M)&&(M=M.map(D=>oo(i,D))),f(t,["responseTokensDetails"],M)}const _=d(e,["toolUsePromptTokensDetails"]);if(_!=null){let M=_;Array.isArray(M)&&(M=M.map(D=>oo(i,D))),f(t,["toolUsePromptTokensDetails"],M)}const A=d(e,["trafficType"]);return A!=null&&f(t,["trafficType"],A),t}function NE(i,e){const t={},a=d(e,["timeLeft"]);return a!=null&&f(t,["timeLeft"],a),t}function EE(i,e){const t={},a=d(e,["timeLeft"]);return a!=null&&f(t,["timeLeft"],a),t}function AE(i,e){const t={},a=d(e,["newHandle"]);a!=null&&f(t,["newHandle"],a);const l=d(e,["resumable"]);l!=null&&f(t,["resumable"],l);const c=d(e,["lastConsumedClientMessageIndex"]);return c!=null&&f(t,["lastConsumedClientMessageIndex"],c),t}function wE(i,e){const t={},a=d(e,["newHandle"]);a!=null&&f(t,["newHandle"],a);const l=d(e,["resumable"]);l!=null&&f(t,["resumable"],l);const c=d(e,["lastConsumedClientMessageIndex"]);return c!=null&&f(t,["lastConsumedClientMessageIndex"],c),t}function kE(i,e){const t={};d(e,["setupComplete"])!=null&&f(t,["setupComplete"],tE());const l=d(e,["serverContent"]);l!=null&&f(t,["serverContent"],pE(i,l));const c=d(e,["toolCall"]);c!=null&&f(t,["toolCall"],bE(i,c));const h=d(e,["toolCallCancellation"]);h!=null&&f(t,["toolCallCancellation"],SE(i,h));const p=d(e,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],TE(i,p));const y=d(e,["goAway"]);y!=null&&f(t,["goAway"],NE(i,y));const g=d(e,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],AE(i,g)),t}function ME(i,e){const t={};d(e,["setupComplete"])!=null&&f(t,["setupComplete"],nE());const l=d(e,["serverContent"]);l!=null&&f(t,["serverContent"],gE(i,l));const c=d(e,["toolCall"]);c!=null&&f(t,["toolCall"],vE(i,c));const h=d(e,["toolCallCancellation"]);h!=null&&f(t,["toolCallCancellation"],_E(i,h));const p=d(e,["usageMetadata"]);p!=null&&f(t,["usageMetadata"],CE(i,p));const y=d(e,["goAway"]);y!=null&&f(t,["goAway"],EE(i,y));const g=d(e,["sessionResumptionUpdate"]);return g!=null&&f(t,["sessionResumptionUpdate"],wE(i,g)),t}function RE(){return{}}function jE(i,e){const t={},a=d(e,["text"]);a!=null&&f(t,["text"],a);const l=d(e,["weight"]);return l!=null&&f(t,["weight"],l),t}function UE(i,e){const t={},a=d(e,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>jE(i,c))),f(t,["weightedPrompts"],l)}return t}function DE(i,e){const t={},a=d(e,["temperature"]);a!=null&&f(t,["temperature"],a);const l=d(e,["topK"]);l!=null&&f(t,["topK"],l);const c=d(e,["seed"]);c!=null&&f(t,["seed"],c);const h=d(e,["guidance"]);h!=null&&f(t,["guidance"],h);const p=d(e,["bpm"]);p!=null&&f(t,["bpm"],p);const y=d(e,["density"]);y!=null&&f(t,["density"],y);const g=d(e,["brightness"]);g!=null&&f(t,["brightness"],g);const b=d(e,["scale"]);b!=null&&f(t,["scale"],b);const S=d(e,["muteBass"]);S!=null&&f(t,["muteBass"],S);const _=d(e,["muteDrums"]);_!=null&&f(t,["muteDrums"],_);const A=d(e,["onlyBassAndDrums"]);return A!=null&&f(t,["onlyBassAndDrums"],A),t}function IE(i,e){const t={},a=d(e,["clientContent"]);a!=null&&f(t,["clientContent"],UE(i,a));const l=d(e,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],DE(i,l)),t}function LE(i,e){const t={},a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);l!=null&&f(t,["mimeType"],l);const c=d(e,["sourceMetadata"]);return c!=null&&f(t,["sourceMetadata"],IE(i,c)),t}function OE(i,e){const t={},a=d(e,["audioChunks"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>LE(i,c))),f(t,["audioChunks"],l)}return t}function VE(i,e){const t={},a=d(e,["text"]);a!=null&&f(t,["text"],a);const l=d(e,["filteredReason"]);return l!=null&&f(t,["filteredReason"],l),t}function PE(i,e){const t={};d(e,["setupComplete"])!=null&&f(t,["setupComplete"],RE());const l=d(e,["serverContent"]);l!=null&&f(t,["serverContent"],OE(i,l));const c=d(e,["filteredPrompt"]);return c!=null&&f(t,["filteredPrompt"],VE(i,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function zE(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function HE(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function qE(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],BE(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],zE(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],HE(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function wo(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>qE(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function GE(i,e){const t={},a=d(e,["anyOf"]);a!=null&&f(t,["anyOf"],a);const l=d(e,["default"]);l!=null&&f(t,["default"],l);const c=d(e,["description"]);c!=null&&f(t,["description"],c);const h=d(e,["enum"]);h!=null&&f(t,["enum"],h);const p=d(e,["example"]);p!=null&&f(t,["example"],p);const y=d(e,["format"]);y!=null&&f(t,["format"],y);const g=d(e,["items"]);g!=null&&f(t,["items"],g);const b=d(e,["maxItems"]);b!=null&&f(t,["maxItems"],b);const S=d(e,["maxLength"]);S!=null&&f(t,["maxLength"],S);const _=d(e,["maxProperties"]);_!=null&&f(t,["maxProperties"],_);const A=d(e,["maximum"]);A!=null&&f(t,["maximum"],A);const M=d(e,["minItems"]);M!=null&&f(t,["minItems"],M);const D=d(e,["minLength"]);D!=null&&f(t,["minLength"],D);const E=d(e,["minProperties"]);E!=null&&f(t,["minProperties"],E);const q=d(e,["minimum"]);q!=null&&f(t,["minimum"],q);const G=d(e,["nullable"]);G!=null&&f(t,["nullable"],G);const Q=d(e,["pattern"]);Q!=null&&f(t,["pattern"],Q);const z=d(e,["properties"]);z!=null&&f(t,["properties"],z);const Y=d(e,["propertyOrdering"]);Y!=null&&f(t,["propertyOrdering"],Y);const ne=d(e,["required"]);ne!=null&&f(t,["required"],ne);const W=d(e,["title"]);W!=null&&f(t,["title"],W);const oe=d(e,["type"]);return oe!=null&&f(t,["type"],oe),t}function FE(i,e){const t={};if(d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=d(e,["category"]);a!=null&&f(t,["category"],a);const l=d(e,["threshold"]);return l!=null&&f(t,["threshold"],l),t}function YE(i,e){const t={},a=d(e,["behavior"]);a!=null&&f(t,["behavior"],a);const l=d(e,["description"]);l!=null&&f(t,["description"],l);const c=d(e,["name"]);c!=null&&f(t,["name"],c);const h=d(e,["parameters"]);h!=null&&f(t,["parameters"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],p),t}function $E(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function KE(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],$E(i,a)),t}function XE(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function JE(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],XE(i,a)),t}function ZE(){return{}}function QE(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>YE(i,g))),f(t,["functionDeclarations"],y)}if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],KE(i,l));const c=d(e,["googleSearchRetrieval"]);if(c!=null&&f(t,["googleSearchRetrieval"],JE(i,c)),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(e,["urlContext"])!=null&&f(t,["urlContext"],ZE());const p=d(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function WE(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function eA(i,e){const t={},a=d(e,["latitude"]);a!=null&&f(t,["latitude"],a);const l=d(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function tA(i,e){const t={},a=d(e,["latLng"]);a!=null&&f(t,["latLng"],eA(i,a));const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function nA(i,e){const t={},a=d(e,["functionCallingConfig"]);a!=null&&f(t,["functionCallingConfig"],WE(i,a));const l=d(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],tA(i,l)),t}function sA(i,e){const t={},a=d(e,["voiceName"]);return a!=null&&f(t,["voiceName"],a),t}function Wx(i,e){const t={},a=d(e,["prebuiltVoiceConfig"]);return a!=null&&f(t,["prebuiltVoiceConfig"],sA(i,a)),t}function aA(i,e){const t={},a=d(e,["speaker"]);a!=null&&f(t,["speaker"],a);const l=d(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],Wx(i,l)),t}function iA(i,e){const t={},a=d(e,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>aA(i,c))),f(t,["speakerVoiceConfigs"],l)}return t}function lA(i,e){const t={},a=d(e,["voiceConfig"]);a!=null&&f(t,["voiceConfig"],Wx(i,a));const l=d(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],iA(i,l));const c=d(e,["languageCode"]);return c!=null&&f(t,["languageCode"],c),t}function rA(i,e){const t={},a=d(e,["includeThoughts"]);a!=null&&f(t,["includeThoughts"],a);const l=d(e,["thinkingBudget"]);return l!=null&&f(t,["thinkingBudget"],l),t}function oA(i,e,t){const a={},l=d(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],wo(i,Xt(i,l)));const c=d(e,["temperature"]);c!=null&&f(a,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(a,["topP"],h);const p=d(e,["topK"]);p!=null&&f(a,["topK"],p);const y=d(e,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&f(a,["maxOutputTokens"],g);const b=d(e,["stopSequences"]);b!=null&&f(a,["stopSequences"],b);const S=d(e,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const _=d(e,["logprobs"]);_!=null&&f(a,["logprobs"],_);const A=d(e,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const M=d(e,["frequencyPenalty"]);M!=null&&f(a,["frequencyPenalty"],M);const D=d(e,["seed"]);D!=null&&f(a,["seed"],D);const E=d(e,["responseMimeType"]);E!=null&&f(a,["responseMimeType"],E);const q=d(e,["responseSchema"]);if(q!=null&&f(a,["responseSchema"],GE(i,To(i,q))),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=d(e,["safetySettings"]);if(t!==void 0&&G!=null){let pe=G;Array.isArray(pe)&&(pe=pe.map(Te=>FE(i,Te))),f(t,["safetySettings"],pe)}const Q=d(e,["tools"]);if(t!==void 0&&Q!=null){let pe=ql(i,Q);Array.isArray(pe)&&(pe=pe.map(Te=>QE(i,Hl(i,Te)))),f(t,["tools"],pe)}const z=d(e,["toolConfig"]);if(t!==void 0&&z!=null&&f(t,["toolConfig"],nA(i,z)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=d(e,["cachedContent"]);t!==void 0&&Y!=null&&f(t,["cachedContent"],Fs(i,Y));const ne=d(e,["responseModalities"]);ne!=null&&f(a,["responseModalities"],ne);const W=d(e,["mediaResolution"]);W!=null&&f(a,["mediaResolution"],W);const oe=d(e,["speechConfig"]);if(oe!=null&&f(a,["speechConfig"],lA(i,Hx(i,oe))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=d(e,["thinkingConfig"]);return ce!=null&&f(a,["thinkingConfig"],rA(i,ce)),a}function H0(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);if(l!=null){let h=Pn(i,l);Array.isArray(h)&&(h=h.map(p=>wo(i,p))),f(t,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(t,["generationConfig"],oA(i,c,t)),t}function cA(i,e,t){const a={},l=d(e,["taskType"]);t!==void 0&&l!=null&&f(t,["requests[]","taskType"],l);const c=d(e,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const h=d(e,["outputDimensionality"]);if(t!==void 0&&h!=null&&f(t,["requests[]","outputDimensionality"],h),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function uA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);l!=null&&f(t,["requests[]","content"],zx(i,l));const c=d(e,["config"]);c!=null&&f(t,["config"],cA(i,c,t));const h=d(e,["model"]);return h!==void 0&&f(t,["requests[]","model"],ft(i,h)),t}function dA(i,e,t){const a={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=d(e,["numberOfImages"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const c=d(e,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const h=d(e,["guidanceScale"]);if(t!==void 0&&h!=null&&f(t,["parameters","guidanceScale"],h),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=d(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&f(t,["parameters","safetySetting"],p);const y=d(e,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const g=d(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&f(t,["parameters","includeSafetyAttributes"],g);const b=d(e,["includeRaiReason"]);t!==void 0&&b!=null&&f(t,["parameters","includeRaiReason"],b);const S=d(e,["language"]);t!==void 0&&S!=null&&f(t,["parameters","language"],S);const _=d(e,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const A=d(e,["outputCompressionQuality"]);if(t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function fA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&f(t,["config"],dA(i,c,t)),t}function hA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","name"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function mA(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=d(e,["filter"]);t!==void 0&&h!=null&&f(t,["_query","filter"],h);const p=d(e,["queryBase"]);return t!==void 0&&p!=null&&f(t,["_url","models_url"],Fx(i,p)),a}function pA(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],mA(i,a,t)),t}function gA(i,e,t){const a={},l=d(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const c=d(e,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const h=d(e,["defaultCheckpointId"]);return t!==void 0&&h!=null&&f(t,["defaultCheckpointId"],h),a}function xA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","name"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],gA(i,l,t)),t}function yA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","name"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function bA(i,e){const t={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function vA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);if(l!=null){let h=Pn(i,l);Array.isArray(h)&&(h=h.map(p=>wo(i,p))),f(t,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(t,["config"],bA(i,c)),t}function SA(i,e){const t={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=d(e,["imageBytes"]);a!=null&&f(t,["bytesBase64Encoded"],Ys(i,a));const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function _A(i,e,t){const a={},l=d(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=d(e,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(e,["aspectRatio"]);if(t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h),d(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const p=d(e,["personGeneration"]);if(t!==void 0&&p!=null&&f(t,["parameters","personGeneration"],p),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(e,["negativePrompt"]);if(t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(d(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return a}function TA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(t,["instances[0]","image"],SA(i,c));const h=d(e,["config"]);return h!=null&&f(t,["config"],_A(i,h,t)),t}function CA(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function NA(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["data"]);l!=null&&f(t,["data"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function EA(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function AA(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],CA(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],NA(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],EA(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function Ri(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>AA(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function wA(i,e){const t={},a=d(e,["anyOf"]);a!=null&&f(t,["anyOf"],a);const l=d(e,["default"]);l!=null&&f(t,["default"],l);const c=d(e,["description"]);c!=null&&f(t,["description"],c);const h=d(e,["enum"]);h!=null&&f(t,["enum"],h);const p=d(e,["example"]);p!=null&&f(t,["example"],p);const y=d(e,["format"]);y!=null&&f(t,["format"],y);const g=d(e,["items"]);g!=null&&f(t,["items"],g);const b=d(e,["maxItems"]);b!=null&&f(t,["maxItems"],b);const S=d(e,["maxLength"]);S!=null&&f(t,["maxLength"],S);const _=d(e,["maxProperties"]);_!=null&&f(t,["maxProperties"],_);const A=d(e,["maximum"]);A!=null&&f(t,["maximum"],A);const M=d(e,["minItems"]);M!=null&&f(t,["minItems"],M);const D=d(e,["minLength"]);D!=null&&f(t,["minLength"],D);const E=d(e,["minProperties"]);E!=null&&f(t,["minProperties"],E);const q=d(e,["minimum"]);q!=null&&f(t,["minimum"],q);const G=d(e,["nullable"]);G!=null&&f(t,["nullable"],G);const Q=d(e,["pattern"]);Q!=null&&f(t,["pattern"],Q);const z=d(e,["properties"]);z!=null&&f(t,["properties"],z);const Y=d(e,["propertyOrdering"]);Y!=null&&f(t,["propertyOrdering"],Y);const ne=d(e,["required"]);ne!=null&&f(t,["required"],ne);const W=d(e,["title"]);W!=null&&f(t,["title"],W);const oe=d(e,["type"]);return oe!=null&&f(t,["type"],oe),t}function kA(i,e){const t={},a=d(e,["featureSelectionPreference"]);return a!=null&&f(t,["featureSelectionPreference"],a),t}function MA(i,e){const t={},a=d(e,["method"]);a!=null&&f(t,["method"],a);const l=d(e,["category"]);l!=null&&f(t,["category"],l);const c=d(e,["threshold"]);return c!=null&&f(t,["threshold"],c),t}function RA(i,e){const t={};if(d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=d(e,["description"]);a!=null&&f(t,["description"],a);const l=d(e,["name"]);l!=null&&f(t,["name"],l);const c=d(e,["parameters"]);c!=null&&f(t,["parameters"],c);const h=d(e,["response"]);return h!=null&&f(t,["response"],h),t}function jA(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function UA(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],jA(i,a)),t}function DA(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function IA(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],DA(i,a)),t}function LA(){return{}}function OA(i,e){const t={},a=d(e,["apiKeyString"]);return a!=null&&f(t,["apiKeyString"],a),t}function VA(i,e){const t={},a=d(e,["apiKeyConfig"]);a!=null&&f(t,["apiKeyConfig"],OA(i,a));const l=d(e,["authType"]);l!=null&&f(t,["authType"],l);const c=d(e,["googleServiceAccountConfig"]);c!=null&&f(t,["googleServiceAccountConfig"],c);const h=d(e,["httpBasicAuthConfig"]);h!=null&&f(t,["httpBasicAuthConfig"],h);const p=d(e,["oauthConfig"]);p!=null&&f(t,["oauthConfig"],p);const y=d(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function PA(i,e){const t={},a=d(e,["authConfig"]);return a!=null&&f(t,["authConfig"],VA(i,a)),t}function ey(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let b=a;Array.isArray(b)&&(b=b.map(S=>RA(i,S))),f(t,["functionDeclarations"],b)}const l=d(e,["retrieval"]);l!=null&&f(t,["retrieval"],l);const c=d(e,["googleSearch"]);c!=null&&f(t,["googleSearch"],UA(i,c));const h=d(e,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],IA(i,h)),d(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],LA());const y=d(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],PA(i,y)),d(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=d(e,["codeExecution"]);return g!=null&&f(t,["codeExecution"],g),t}function BA(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["allowedFunctionNames"]);return l!=null&&f(t,["allowedFunctionNames"],l),t}function zA(i,e){const t={},a=d(e,["latitude"]);a!=null&&f(t,["latitude"],a);const l=d(e,["longitude"]);return l!=null&&f(t,["longitude"],l),t}function HA(i,e){const t={},a=d(e,["latLng"]);a!=null&&f(t,["latLng"],zA(i,a));const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function qA(i,e){const t={},a=d(e,["functionCallingConfig"]);a!=null&&f(t,["functionCallingConfig"],BA(i,a));const l=d(e,["retrievalConfig"]);return l!=null&&f(t,["retrievalConfig"],HA(i,l)),t}function GA(i,e){const t={},a=d(e,["voiceName"]);return a!=null&&f(t,["voiceName"],a),t}function FA(i,e){const t={},a=d(e,["prebuiltVoiceConfig"]);return a!=null&&f(t,["prebuiltVoiceConfig"],GA(i,a)),t}function YA(i,e){const t={},a=d(e,["voiceConfig"]);if(a!=null&&f(t,["voiceConfig"],FA(i,a)),d(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=d(e,["languageCode"]);return l!=null&&f(t,["languageCode"],l),t}function $A(i,e){const t={},a=d(e,["includeThoughts"]);a!=null&&f(t,["includeThoughts"],a);const l=d(e,["thinkingBudget"]);return l!=null&&f(t,["thinkingBudget"],l),t}function KA(i,e,t){const a={},l=d(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],Ri(i,Xt(i,l)));const c=d(e,["temperature"]);c!=null&&f(a,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(a,["topP"],h);const p=d(e,["topK"]);p!=null&&f(a,["topK"],p);const y=d(e,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const g=d(e,["maxOutputTokens"]);g!=null&&f(a,["maxOutputTokens"],g);const b=d(e,["stopSequences"]);b!=null&&f(a,["stopSequences"],b);const S=d(e,["responseLogprobs"]);S!=null&&f(a,["responseLogprobs"],S);const _=d(e,["logprobs"]);_!=null&&f(a,["logprobs"],_);const A=d(e,["presencePenalty"]);A!=null&&f(a,["presencePenalty"],A);const M=d(e,["frequencyPenalty"]);M!=null&&f(a,["frequencyPenalty"],M);const D=d(e,["seed"]);D!=null&&f(a,["seed"],D);const E=d(e,["responseMimeType"]);E!=null&&f(a,["responseMimeType"],E);const q=d(e,["responseSchema"]);q!=null&&f(a,["responseSchema"],wA(i,To(i,q)));const G=d(e,["routingConfig"]);G!=null&&f(a,["routingConfig"],G);const Q=d(e,["modelSelectionConfig"]);Q!=null&&f(a,["modelConfig"],kA(i,Q));const z=d(e,["safetySettings"]);if(t!==void 0&&z!=null){let se=z;Array.isArray(se)&&(se=se.map(Ve=>MA(i,Ve))),f(t,["safetySettings"],se)}const Y=d(e,["tools"]);if(t!==void 0&&Y!=null){let se=ql(i,Y);Array.isArray(se)&&(se=se.map(Ve=>ey(i,Hl(i,Ve)))),f(t,["tools"],se)}const ne=d(e,["toolConfig"]);t!==void 0&&ne!=null&&f(t,["toolConfig"],qA(i,ne));const W=d(e,["labels"]);t!==void 0&&W!=null&&f(t,["labels"],W);const oe=d(e,["cachedContent"]);t!==void 0&&oe!=null&&f(t,["cachedContent"],Fs(i,oe));const ce=d(e,["responseModalities"]);ce!=null&&f(a,["responseModalities"],ce);const pe=d(e,["mediaResolution"]);pe!=null&&f(a,["mediaResolution"],pe);const Te=d(e,["speechConfig"]);Te!=null&&f(a,["speechConfig"],YA(i,Hx(i,Te)));const Ee=d(e,["audioTimestamp"]);Ee!=null&&f(a,["audioTimestamp"],Ee);const Ae=d(e,["thinkingConfig"]);return Ae!=null&&f(a,["thinkingConfig"],$A(i,Ae)),a}function q0(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);if(l!=null){let h=Pn(i,l);Array.isArray(h)&&(h=h.map(p=>Ri(i,p))),f(t,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(t,["generationConfig"],KA(i,c,t)),t}function XA(i,e,t){const a={},l=d(e,["taskType"]);t!==void 0&&l!=null&&f(t,["instances[]","task_type"],l);const c=d(e,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const h=d(e,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["parameters","outputDimensionality"],h);const p=d(e,["mimeType"]);t!==void 0&&p!=null&&f(t,["instances[]","mimeType"],p);const y=d(e,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function JA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);l!=null&&f(t,["instances[]","content"],zx(i,l));const c=d(e,["config"]);return c!=null&&f(t,["config"],XA(i,c,t)),t}function ZA(i,e,t){const a={},l=d(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const c=d(e,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const h=d(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const p=d(e,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const y=d(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=d(e,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const b=d(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&f(t,["parameters","safetySetting"],b);const S=d(e,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=d(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const A=d(e,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const M=d(e,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const D=d(e,["outputMimeType"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","mimeType"],D);const E=d(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const q=d(e,["addWatermark"]);t!==void 0&&q!=null&&f(t,["parameters","addWatermark"],q);const G=d(e,["enhancePrompt"]);return t!==void 0&&G!=null&&f(t,["parameters","enhancePrompt"],G),a}function QA(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&f(t,["config"],ZA(i,c,t)),t}function zd(i,e){const t={},a=d(e,["gcsUri"]);a!=null&&f(t,["gcsUri"],a);const l=d(e,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],Ys(i,l));const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function WA(i,e){const t={},a=d(e,["maskMode"]);a!=null&&f(t,["maskMode"],a);const l=d(e,["segmentationClasses"]);l!=null&&f(t,["maskClasses"],l);const c=d(e,["maskDilation"]);return c!=null&&f(t,["dilation"],c),t}function ew(i,e){const t={},a=d(e,["controlType"]);a!=null&&f(t,["controlType"],a);const l=d(e,["enableControlImageComputation"]);return l!=null&&f(t,["computeControl"],l),t}function tw(i,e){const t={},a=d(e,["styleDescription"]);return a!=null&&f(t,["styleDescription"],a),t}function nw(i,e){const t={},a=d(e,["subjectType"]);a!=null&&f(t,["subjectType"],a);const l=d(e,["subjectDescription"]);return l!=null&&f(t,["subjectDescription"],l),t}function sw(i,e){const t={},a=d(e,["referenceImage"]);a!=null&&f(t,["referenceImage"],zd(i,a));const l=d(e,["referenceId"]);l!=null&&f(t,["referenceId"],l);const c=d(e,["referenceType"]);c!=null&&f(t,["referenceType"],c);const h=d(e,["maskImageConfig"]);h!=null&&f(t,["maskImageConfig"],WA(i,h));const p=d(e,["controlImageConfig"]);p!=null&&f(t,["controlImageConfig"],ew(i,p));const y=d(e,["styleImageConfig"]);y!=null&&f(t,["styleImageConfig"],tw(i,y));const g=d(e,["subjectImageConfig"]);return g!=null&&f(t,["subjectImageConfig"],nw(i,g)),t}function aw(i,e,t){const a={},l=d(e,["outputGcsUri"]);t!==void 0&&l!=null&&f(t,["parameters","storageUri"],l);const c=d(e,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const h=d(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const p=d(e,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const y=d(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const g=d(e,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const b=d(e,["safetyFilterLevel"]);t!==void 0&&b!=null&&f(t,["parameters","safetySetting"],b);const S=d(e,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=d(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const A=d(e,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const M=d(e,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const D=d(e,["outputMimeType"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","mimeType"],D);const E=d(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const q=d(e,["editMode"]);t!==void 0&&q!=null&&f(t,["parameters","editMode"],q);const G=d(e,["baseSteps"]);return t!==void 0&&G!=null&&f(t,["parameters","editConfig","baseSteps"],G),a}function iw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const c=d(e,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>sw(i,y))),f(t,["instances[0]","referenceImages"],p)}const h=d(e,["config"]);return h!=null&&f(t,["config"],aw(i,h,t)),t}function lw(i,e,t){const a={},l=d(e,["includeRaiReason"]);t!==void 0&&l!=null&&f(t,["parameters","includeRaiReason"],l);const c=d(e,["outputMimeType"]);t!==void 0&&c!=null&&f(t,["parameters","outputOptions","mimeType"],c);const h=d(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const p=d(e,["numberOfImages"]);t!==void 0&&p!=null&&f(t,["parameters","sampleCount"],p);const y=d(e,["mode"]);return t!==void 0&&y!=null&&f(t,["parameters","mode"],y),a}function rw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["image"]);l!=null&&f(t,["instances[0]","image"],zd(i,l));const c=d(e,["upscaleFactor"]);c!=null&&f(t,["parameters","upscaleConfig","upscaleFactor"],c);const h=d(e,["config"]);return h!=null&&f(t,["config"],lw(i,h,t)),t}function ow(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","name"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function cw(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=d(e,["filter"]);t!==void 0&&h!=null&&f(t,["_query","filter"],h);const p=d(e,["queryBase"]);return t!==void 0&&p!=null&&f(t,["_url","models_url"],Fx(i,p)),a}function uw(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],cw(i,a,t)),t}function dw(i,e,t){const a={},l=d(e,["displayName"]);t!==void 0&&l!=null&&f(t,["displayName"],l);const c=d(e,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const h=d(e,["defaultCheckpointId"]);return t!==void 0&&h!=null&&f(t,["defaultCheckpointId"],h),a}function fw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],dw(i,l,t)),t}function hw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","name"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function mw(i,e,t){const a={},l=d(e,["systemInstruction"]);t!==void 0&&l!=null&&f(t,["systemInstruction"],Ri(i,Xt(i,l)));const c=d(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>ey(i,y))),f(t,["tools"],p)}const h=d(e,["generationConfig"]);return t!==void 0&&h!=null&&f(t,["generationConfig"],h),a}function pw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);if(l!=null){let h=Pn(i,l);Array.isArray(h)&&(h=h.map(p=>Ri(i,p))),f(t,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(t,["config"],mw(i,c,t)),t}function gw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["contents"]);if(l!=null){let h=Pn(i,l);Array.isArray(h)&&(h=h.map(p=>Ri(i,p))),f(t,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(t,["config"],c),t}function xw(i,e,t){const a={},l=d(e,["numberOfVideos"]);t!==void 0&&l!=null&&f(t,["parameters","sampleCount"],l);const c=d(e,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const h=d(e,["fps"]);t!==void 0&&h!=null&&f(t,["parameters","fps"],h);const p=d(e,["durationSeconds"]);t!==void 0&&p!=null&&f(t,["parameters","durationSeconds"],p);const y=d(e,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const g=d(e,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const b=d(e,["resolution"]);t!==void 0&&b!=null&&f(t,["parameters","resolution"],b);const S=d(e,["personGeneration"]);t!==void 0&&S!=null&&f(t,["parameters","personGeneration"],S);const _=d(e,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const A=d(e,["negativePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","negativePrompt"],A);const M=d(e,["enhancePrompt"]);t!==void 0&&M!=null&&f(t,["parameters","enhancePrompt"],M);const D=d(e,["generateAudio"]);return t!==void 0&&D!=null&&f(t,["parameters","generateAudio"],D),a}function yw(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["_url","model"],ft(i,a));const l=d(e,["prompt"]);l!=null&&f(t,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(t,["instances[0]","image"],zd(i,c));const h=d(e,["config"]);return h!=null&&f(t,["config"],xw(i,h,t)),t}function bw(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function vw(i,e){const t={},a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function Sw(i,e){const t={},a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function _w(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],bw(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],vw(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],Sw(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function Tw(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>_w(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function Cw(i,e){const t={},a=d(e,["citationSources"]);return a!=null&&f(t,["citations"],a),t}function Nw(i,e){const t={},a=d(e,["retrievedUrl"]);a!=null&&f(t,["retrievedUrl"],a);const l=d(e,["urlRetrievalStatus"]);return l!=null&&f(t,["urlRetrievalStatus"],l),t}function Ew(i,e){const t={},a=d(e,["urlMetadata"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Nw(i,c))),f(t,["urlMetadata"],l)}return t}function Aw(i,e){const t={},a=d(e,["content"]);a!=null&&f(t,["content"],Tw(i,a));const l=d(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],Cw(i,l));const c=d(e,["tokenCount"]);c!=null&&f(t,["tokenCount"],c);const h=d(e,["finishReason"]);h!=null&&f(t,["finishReason"],h);const p=d(e,["urlContextMetadata"]);p!=null&&f(t,["urlContextMetadata"],Ew(i,p));const y=d(e,["avgLogprobs"]);y!=null&&f(t,["avgLogprobs"],y);const g=d(e,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const b=d(e,["index"]);b!=null&&f(t,["index"],b);const S=d(e,["logprobsResult"]);S!=null&&f(t,["logprobsResult"],S);const _=d(e,["safetyRatings"]);return _!=null&&f(t,["safetyRatings"],_),t}function G0(i,e){const t={},a=d(e,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(y=>Aw(i,y))),f(t,["candidates"],p)}const l=d(e,["modelVersion"]);l!=null&&f(t,["modelVersion"],l);const c=d(e,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const h=d(e,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function ww(i,e){const t={},a=d(e,["values"]);return a!=null&&f(t,["values"],a),t}function kw(){return{}}function Mw(i,e){const t={},a=d(e,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>ww(i,h))),f(t,["embeddings"],c)}return d(e,["metadata"])!=null&&f(t,["metadata"],kw()),t}function Rw(i,e){const t={},a=d(e,["bytesBase64Encoded"]);a!=null&&f(t,["imageBytes"],Ys(i,a));const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function ty(i,e){const t={},a=d(e,["safetyAttributes","categories"]);a!=null&&f(t,["categories"],a);const l=d(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const c=d(e,["contentType"]);return c!=null&&f(t,["contentType"],c),t}function jw(i,e){const t={},a=d(e,["_self"]);a!=null&&f(t,["image"],Rw(i,a));const l=d(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const c=d(e,["_self"]);return c!=null&&f(t,["safetyAttributes"],ty(i,c)),t}function Uw(i,e){const t={},a=d(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>jw(i,h))),f(t,["generatedImages"],c)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&f(t,["positivePromptSafetyAttributes"],ty(i,l)),t}function Dw(i,e){const t={},a=d(e,["baseModel"]);a!=null&&f(t,["baseModel"],a);const l=d(e,["createTime"]);l!=null&&f(t,["createTime"],l);const c=d(e,["updateTime"]);return c!=null&&f(t,["updateTime"],c),t}function _d(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["description"]);c!=null&&f(t,["description"],c);const h=d(e,["version"]);h!=null&&f(t,["version"],h);const p=d(e,["_self"]);p!=null&&f(t,["tunedModelInfo"],Dw(i,p));const y=d(e,["inputTokenLimit"]);y!=null&&f(t,["inputTokenLimit"],y);const g=d(e,["outputTokenLimit"]);g!=null&&f(t,["outputTokenLimit"],g);const b=d(e,["supportedGenerationMethods"]);return b!=null&&f(t,["supportedActions"],b),t}function Iw(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["_self"]);if(l!=null){let c=Yx(i,l);Array.isArray(c)&&(c=c.map(h=>_d(i,h))),f(t,["models"],c)}return t}function Lw(){return{}}function Ow(i,e){const t={},a=d(e,["totalTokens"]);a!=null&&f(t,["totalTokens"],a);const l=d(e,["cachedContentTokenCount"]);return l!=null&&f(t,["cachedContentTokenCount"],l),t}function Vw(i,e){const t={},a=d(e,["video","uri"]);a!=null&&f(t,["uri"],a);const l=d(e,["video","encodedVideo"]);l!=null&&f(t,["videoBytes"],Ys(i,l));const c=d(e,["encoding"]);return c!=null&&f(t,["mimeType"],c),t}function Pw(i,e){const t={},a=d(e,["_self"]);return a!=null&&f(t,["video"],Vw(i,a)),t}function Bw(i,e){const t={},a=d(e,["generatedSamples"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>Pw(i,p))),f(t,["generatedVideos"],h)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const c=d(e,["raiMediaFilteredReasons"]);return c!=null&&f(t,["raiMediaFilteredReasons"],c),t}function zw(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["metadata"]);l!=null&&f(t,["metadata"],l);const c=d(e,["done"]);c!=null&&f(t,["done"],c);const h=d(e,["error"]);h!=null&&f(t,["error"],h);const p=d(e,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],Bw(i,p)),t}function Hw(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function qw(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["data"]);l!=null&&f(t,["data"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function Gw(i,e){const t={},a=d(e,["displayName"]);a!=null&&f(t,["displayName"],a);const l=d(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function Fw(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],Hw(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],qw(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],Gw(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function Yw(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Fw(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function $w(i,e){const t={},a=d(e,["citations"]);return a!=null&&f(t,["citations"],a),t}function Kw(i,e){const t={},a=d(e,["content"]);a!=null&&f(t,["content"],Yw(i,a));const l=d(e,["citationMetadata"]);l!=null&&f(t,["citationMetadata"],$w(i,l));const c=d(e,["finishMessage"]);c!=null&&f(t,["finishMessage"],c);const h=d(e,["finishReason"]);h!=null&&f(t,["finishReason"],h);const p=d(e,["avgLogprobs"]);p!=null&&f(t,["avgLogprobs"],p);const y=d(e,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const g=d(e,["index"]);g!=null&&f(t,["index"],g);const b=d(e,["logprobsResult"]);b!=null&&f(t,["logprobsResult"],b);const S=d(e,["safetyRatings"]);return S!=null&&f(t,["safetyRatings"],S),t}function F0(i,e){const t={},a=d(e,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(b=>Kw(i,b))),f(t,["candidates"],g)}const l=d(e,["createTime"]);l!=null&&f(t,["createTime"],l);const c=d(e,["responseId"]);c!=null&&f(t,["responseId"],c);const h=d(e,["modelVersion"]);h!=null&&f(t,["modelVersion"],h);const p=d(e,["promptFeedback"]);p!=null&&f(t,["promptFeedback"],p);const y=d(e,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function Xw(i,e){const t={},a=d(e,["truncated"]);a!=null&&f(t,["truncated"],a);const l=d(e,["token_count"]);return l!=null&&f(t,["tokenCount"],l),t}function Jw(i,e){const t={},a=d(e,["values"]);a!=null&&f(t,["values"],a);const l=d(e,["statistics"]);return l!=null&&f(t,["statistics"],Xw(i,l)),t}function Zw(i,e){const t={},a=d(e,["billableCharacterCount"]);return a!=null&&f(t,["billableCharacterCount"],a),t}function Qw(i,e){const t={},a=d(e,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Jw(i,h))),f(t,["embeddings"],c)}const l=d(e,["metadata"]);return l!=null&&f(t,["metadata"],Zw(i,l)),t}function Ww(i,e){const t={},a=d(e,["gcsUri"]);a!=null&&f(t,["gcsUri"],a);const l=d(e,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],Ys(i,l));const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function ny(i,e){const t={},a=d(e,["safetyAttributes","categories"]);a!=null&&f(t,["categories"],a);const l=d(e,["safetyAttributes","scores"]);l!=null&&f(t,["scores"],l);const c=d(e,["contentType"]);return c!=null&&f(t,["contentType"],c),t}function Hd(i,e){const t={},a=d(e,["_self"]);a!=null&&f(t,["image"],Ww(i,a));const l=d(e,["raiFilteredReason"]);l!=null&&f(t,["raiFilteredReason"],l);const c=d(e,["_self"]);c!=null&&f(t,["safetyAttributes"],ny(i,c));const h=d(e,["prompt"]);return h!=null&&f(t,["enhancedPrompt"],h),t}function e2(i,e){const t={},a=d(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Hd(i,h))),f(t,["generatedImages"],c)}const l=d(e,["positivePromptSafetyAttributes"]);return l!=null&&f(t,["positivePromptSafetyAttributes"],ny(i,l)),t}function t2(i,e){const t={},a=d(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Hd(i,c))),f(t,["generatedImages"],l)}return t}function n2(i,e){const t={},a=d(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Hd(i,c))),f(t,["generatedImages"],l)}return t}function s2(i,e){const t={},a=d(e,["endpoint"]);a!=null&&f(t,["name"],a);const l=d(e,["deployedModelId"]);return l!=null&&f(t,["deployedModelId"],l),t}function a2(i,e){const t={},a=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(t,["baseModel"],a);const l=d(e,["createTime"]);l!=null&&f(t,["createTime"],l);const c=d(e,["updateTime"]);return c!=null&&f(t,["updateTime"],c),t}function i2(i,e){const t={},a=d(e,["checkpointId"]);a!=null&&f(t,["checkpointId"],a);const l=d(e,["epoch"]);l!=null&&f(t,["epoch"],l);const c=d(e,["step"]);return c!=null&&f(t,["step"],c),t}function Td(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["displayName"]);l!=null&&f(t,["displayName"],l);const c=d(e,["description"]);c!=null&&f(t,["description"],c);const h=d(e,["versionId"]);h!=null&&f(t,["version"],h);const p=d(e,["deployedModels"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(A=>s2(i,A))),f(t,["endpoints"],_)}const y=d(e,["labels"]);y!=null&&f(t,["labels"],y);const g=d(e,["_self"]);g!=null&&f(t,["tunedModelInfo"],a2(i,g));const b=d(e,["defaultCheckpointId"]);b!=null&&f(t,["defaultCheckpointId"],b);const S=d(e,["checkpoints"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(A=>i2(i,A))),f(t,["checkpoints"],_)}return t}function l2(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["_self"]);if(l!=null){let c=Yx(i,l);Array.isArray(c)&&(c=c.map(h=>Td(i,h))),f(t,["models"],c)}return t}function r2(){return{}}function o2(i,e){const t={},a=d(e,["totalTokens"]);return a!=null&&f(t,["totalTokens"],a),t}function c2(i,e){const t={},a=d(e,["tokensInfo"]);return a!=null&&f(t,["tokensInfo"],a),t}function u2(i,e){const t={},a=d(e,["gcsUri"]);a!=null&&f(t,["uri"],a);const l=d(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],Ys(i,l));const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function d2(i,e){const t={},a=d(e,["_self"]);return a!=null&&f(t,["video"],u2(i,a)),t}function f2(i,e){const t={},a=d(e,["videos"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>d2(i,p))),f(t,["generatedVideos"],h)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const c=d(e,["raiMediaFilteredReasons"]);return c!=null&&f(t,["raiMediaFilteredReasons"],c),t}function h2(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["metadata"]);l!=null&&f(t,["metadata"],l);const c=d(e,["done"]);c!=null&&f(t,["done"],c);const h=d(e,["error"]);h!=null&&f(t,["error"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],f2(i,p)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2="Content-Type",p2="X-Server-Timeout",g2="User-Agent",Cd="x-goog-api-client",x2="1.3.0",y2=`google-genai-sdk/${x2}`,b2="v1beta1",v2="v1beta",Y0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class sy extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Nd extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class S2{constructor(e){var t,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:b2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:v2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,a){const l=[this.getRequestUrlInternal(t)];return a&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,a);if(e.queryParams)for(const[h,p]of Object.entries(e.queryParams))l.searchParams.append(h,String(p));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,t,e.abortSignal),this.unaryApiCall(l,c,e.httpMethod)}patchHttpOptions(e,t){const a=JSON.parse(JSON.stringify(e));for(const[l,c]of Object.entries(t))typeof c=="object"?a[l]=Object.assign(Object.assign({},a[l]),c):c!==void 0&&(a[l]=c);return a}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,t,a);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,t,e.abortSignal),this.streamApiCall(l,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,a){if(t&&t.timeout||a){const l=new AbortController,c=l.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>l.abort(),t.timeout),a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=c}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:a})).then(async l=>(await $0(l),new yd(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,t,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:a})).then(async l=>(await $0(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var t;return bi(this,arguments,function*(){const l=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),c=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let h="";for(;;){const{done:p,value:y}=yield pt(l.read());if(p){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=c.decode(y);try{const S=JSON.parse(g);if("error"in S){const _=JSON.parse(JSON.stringify(S.error)),A=_.status,M=_.code,D=`got status: ${A}. ${JSON.stringify(S)}`;if(M>=400&&M<500)throw new sy(D);if(M>=500&&M<600)throw new Nd(D)}}catch(S){const _=S;if(_.name==="ClientError"||_.name==="ServerError")throw S}h+=g;let b=h.match(Y0);for(;b;){const S=b[1];try{const _=new Response(S,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pt(new yd(_)),h=h.slice(b[0].length),b=h.match(Y0)}catch(_){throw new Error(`exception parsing stream chunk ${S}. ${_}`)}}}}finally{l.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},t=y2+" "+this.clientOptions.userAgentExtra;return e[g2]=t,e[Cd]=t,e[m2]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))t.append(a,l);e.timeout&&e.timeout>0&&t.append(p2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var a;const l={};t!=null&&(l.mimeType=t.mimeType,l.name=t.name,l.displayName=t.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const c=this.clientOptions.uploader,h=await c.stat(e);l.sizeBytes=String(h.size);const p=(a=t==null?void 0:t.mimeType)!==null&&a!==void 0?a:h.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=p;const y=await this.fetchUploadUrl(l,t);return c.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var a;let l={};t!=null&&t.httpOptions?l=t.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const c={file:e},h=await this.request({path:we("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:l});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(a=h==null?void 0:h.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function $0(i){var e;if(i===void 0)throw new Nd("response is undefined");if(!i.ok){const t=i.status,a=i.statusText;let l;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await i.json():l={error:{message:await i.text(),code:i.status,status:i.statusText}};const c=`got status: ${t} ${a}. ${JSON.stringify(l)}`;throw t>=400&&t<500?new sy(c):t>=500&&t<600?new Nd(c):new Error(c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _2="mcp_used/unknown";function ay(i){for(const e of i)if(qd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function iy(i){var e;const t=(e=i[Cd])!==null&&e!==void 0?e:"";i[Cd]=(t+` ${_2}`).trimStart()}function T2(i){var e,t,a;return(a=(t=(e=i.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>qd(l)))!==null&&a!==void 0?a:!1}function C2(i){var e,t,a;return(a=(t=(e=i.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(l=>!qd(l)))!==null&&a!==void 0?a:!1}function qd(i){return i!==null&&typeof i=="object"&&i instanceof Gd}function N2(i,e=100){return bi(this,arguments,function*(){let a,l=0;for(;l<e;){const c=yield pt(i.listTools({cursor:a}));for(const h of c.tools)yield yield pt(h),l++;if(!c.nextCursor)break;a=c.nextCursor}})}class Gd{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Gd(e,t)}async initialize(){var e,t,a,l;if(this.mcpTools.length>0)return;const c={},h=[];for(const b of this.mcpClients)try{for(var p=!0,y=(t=void 0,Ll(N2(b))),g;g=await y.next(),e=g.done,!e;p=!0){l=g.value,p=!1;const S=l;h.push(S);const _=S.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=b}}catch(S){t={error:S}}finally{try{!p&&!e&&(a=y.return)&&await a.call(y)}finally{if(t)throw t.error}}this.mcpTools=h,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),jC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=await this.functionNameToMcpClient[a.name].callTool({name:a.name,arguments:a.args});t.push({functionResponse:{name:a.name,response:c.isError?{error:c}:c}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function E2(i,e,t){const a=new bC;let l;t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data);const c=PE(i,l);Object.assign(a,c),e(a)}class A2{constructor(e,t,a){this.apiClient=e,this.auth=t,this.webSocketFactory=a}async connect(e){var t,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),h=M2(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const b=new Promise(Q=>{g=Q}),S=e.callbacks,_=function(){g({})},A=this.apiClient,M={onopen:_,onmessage:Q=>{E2(A,S.onmessage,Q)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(Q){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(Q){}},D=this.webSocketFactory.create(y,k2(h),M);D.connect(),await b;const E=ft(this.apiClient,e.model),q=Zx(this.apiClient,{model:E}),G=Sd(this.apiClient,{setup:q});return D.send(JSON.stringify(G)),new w2(D,this.apiClient)}}class w2{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=WN(this.apiClient,e),a=Qx(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=eE(this.apiClient,e),a=Sd(this.apiClient,t);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const t=Sd(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(gi.PLAY)}pause(){this.sendPlaybackControl(gi.PAUSE)}stop(){this.sendPlaybackControl(gi.STOP)}resetContext(){this.sendPlaybackControl(gi.RESET_CONTEXT)}close(){this.conn.close()}}function k2(i){const e={};return i.forEach((t,a)=>{e[a]=t}),e}function M2(i){const e=new Headers;for(const[t,a]of Object.entries(i))e.append(t,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function j2(i,e,t){const a=new yC;let l;if(t.data instanceof Blob?l=JSON.parse(await t.data.text()):l=JSON.parse(t.data),i.isVertexAI()){const c=ME(i,l);Object.assign(a,c)}else{const c=kE(i,l);Object.assign(a,c)}e(a)}class U2{constructor(e,t,a){this.apiClient=e,this.auth=t,this.webSocketFactory=a,this.music=new A2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,a,l,c,h,p;const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let b;const S=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&ay(e.config.tools)&&iy(S);const _=O2(S);if(this.apiClient.isVertexAI())b=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const ce=this.apiClient.getApiKey();let pe="BidiGenerateContent",Te="key";ce!=null&&ce.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),pe="BidiGenerateContentConstrained",Te="access_token"),b=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${pe}?${Te}=${ce}`}let A=()=>{};const M=new Promise(ce=>{A=ce}),D=e.callbacks,E=function(){var ce;(ce=D==null?void 0:D.onopen)===null||ce===void 0||ce.call(D),A({})},q=this.apiClient,G={onopen:E,onmessage:ce=>{j2(q,D.onmessage,ce)},onerror:(t=D==null?void 0:D.onerror)!==null&&t!==void 0?t:function(ce){},onclose:(a=D==null?void 0:D.onclose)!==null&&a!==void 0?a:function(ce){}},Q=this.webSocketFactory.create(b,L2(_),G);Q.connect(),await M;let z=ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const ce=this.apiClient.getProject(),pe=this.apiClient.getLocation();z=`projects/${ce}/locations/${pe}/`+z}let Y={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[So.AUDIO]}:e.config.responseModalities=[So.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(p=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[],W=[];for(const ce of ne)if(this.isCallableTool(ce)){const pe=ce;W.push(await pe.tool())}else W.push(ce);W.length>0&&(e.config.tools=W);const oe={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=YN(this.apiClient,oe):Y=FN(this.apiClient,oe),delete Y.config,Q.send(JSON.stringify(Y)),new I2(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const D2={turnComplete:!0};class I2{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let a=[];try{a=Pn(e,t.turns),e.isVertexAI()?a=a.map(l=>Ri(e,l)):a=a.map(l=>wo(e,l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:a,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let a=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?a=t.functionResponses:a=[t.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(R2)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},D2),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:QN(this.apiClient,e)}:t={realtimeInput:ZN(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function L2(i){const e={};return i.forEach((t,a)=>{e[a]=t}),e}function O2(i){const e=new Headers;for(const[t,a]of Object.entries(i))e.append(t,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K0=10;function X0(i){var e,t,a;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const h of(t=i==null?void 0:i.tools)!==null&&t!==void 0?t:[])if(fo(h)){l=!0;break}if(!l)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function fo(i){return"callTool"in i&&typeof i.callTool=="function"}function J0(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2 extends Mi{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var a,l,c,h,p;const y=await this.processParamsForMcpUsage(t);if(!T2(t)||X0(t.config))return await this.generateContentInternal(y);if(C2(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,b;const S=Pn(this.apiClient,y.contents),_=(c=(l=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&c!==void 0?c:K0;let A=0;for(;A<_&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const M=g.candidates[0].content,D=[];for(const E of(p=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[])if(fo(E)){const G=await E.callTool(g.functionCalls);D.push(...G)}A++,b={role:"user",parts:D},y.contents=Pn(this.apiClient,y.contents),y.contents.push(M),y.contents.push(b),J0(y.config)&&(S.push(M),S.push(b))}return J0(y.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async t=>{if(X0(t.config)){const a=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(a=>{var l;let c;const h=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:h.push(y);let p;return c?p={generatedImages:h,positivePromptSafetyAttributes:c}:p={generatedImages:h},p}),this.list=async t=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Ao(wi.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(h),h)},this.editImage=async t=>{const a={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(a.referenceImages=t.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async t=>{let a={numberOfImages:1,mode:"upscale"};t.config&&(a=Object.assign(Object.assign({},a),t.config));const l={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:a};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var t,a,l;const c=(t=e.config)===null||t===void 0?void 0:t.tools;if(!c)return e;const h=await Promise.all(c.map(async y=>fo(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(p.config.tools=h,e.config&&e.config.tools&&ay(e.config.tools)){const y=(l=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&l!==void 0?l:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),iy(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var t,a,l;const c=new Map;for(const h of(a=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&a!==void 0?a:[])if(fo(h)){const p=h,y=await p.tool();for(const g of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!g.name)throw new Error("Function declaration name is required.");if(c.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);c.set(g.name,p)}}return c}async processAfcStream(e){var t,a,l;const c=(l=(a=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:K0;let h=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(g,b,S){var _,A;return bi(this,arguments,function*(){for(var M,D,E,q;p<c;){h&&(p++,h=!1);const Y=yield pt(g.processParamsForMcpUsage(S)),ne=yield pt(g.generateContentStreamInternal(Y)),W=[],oe=[];try{for(var G=!0,Q=(D=void 0,Ll(ne)),z;z=yield pt(Q.next()),M=z.done,!M;G=!0){q=z.value,G=!1;const ce=q;if(yield yield pt(ce),ce.candidates&&(!((_=ce.candidates[0])===null||_===void 0)&&_.content)){oe.push(ce.candidates[0].content);for(const pe of(A=ce.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(p<c&&pe.functionCall){if(!pe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(b.has(pe.functionCall.name)){const Te=yield pt(b.get(pe.functionCall.name).callTool([pe.functionCall]));W.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${b.keys()}, mising tool: ${pe.functionCall.name}`)}}}}catch(ce){D={error:ce}}finally{try{!G&&!M&&(E=Q.return)&&(yield pt(E.call(Q)))}finally{if(D)throw D.error}}if(W.length>0){h=!0;const ce=new kl;ce.candidates=[{content:{role:"user",parts:W}}],yield yield pt(ce);const pe=[];pe.push(...oe),pe.push({role:"user",parts:W});const Te=Pn(g.apiClient,S.contents).concat(pe);S.contents=Te}else break}})})(this,y,e)}async generateContentInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=q0(this.apiClient,e);return p=we("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=F0(this.apiClient,b),_=new kl;return Object.assign(_,S),_})}else{const g=H0(this.apiClient,e);return p=we("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=G0(this.apiClient,b),_=new kl;return Object.assign(_,S),_})}}async generateContentStreamInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=q0(this.apiClient,e);p=we("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const b=this.apiClient;return h=b.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(S){return bi(this,arguments,function*(){var _,A,M,D;try{for(var E=!0,q=Ll(S),G;G=yield pt(q.next()),_=G.done,!_;E=!0){D=G.value,E=!1;const z=F0(b,yield pt(D.json())),Y=new kl;Object.assign(Y,z),yield yield pt(Y)}}catch(Q){A={error:Q}}finally{try{!E&&!_&&(M=q.return)&&(yield pt(M.call(q)))}finally{if(A)throw A.error}}})})}else{const g=H0(this.apiClient,e);p=we("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const b=this.apiClient;return h=b.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),h.then(function(S){return bi(this,arguments,function*(){var _,A,M,D;try{for(var E=!0,q=Ll(S),G;G=yield pt(q.next()),_=G.done,!_;E=!0){D=G.value,E=!1;const z=G0(b,yield pt(D.json())),Y=new kl;Object.assign(Y,z),yield yield pt(Y)}}catch(Q){A={error:Q}}finally{try{!E&&!_&&(M=q.return)&&(yield pt(M.call(q)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=JA(this.apiClient,e);return p=we("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Qw(this.apiClient,b),_=new _0;return Object.assign(_,S),_})}else{const g=uA(this.apiClient,e);return p=we("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Mw(this.apiClient,b),_=new _0;return Object.assign(_,S),_})}}async generateImagesInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=QA(this.apiClient,e);return p=we("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=e2(this.apiClient,b),_=new T0;return Object.assign(_,S),_})}else{const g=fA(this.apiClient,e);return p=we("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Uw(this.apiClient,b),_=new T0;return Object.assign(_,S),_})}}async editImageInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const p=iw(this.apiClient,e);return c=we("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>{const g=t2(this.apiClient,y),b=new fC;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const p=rw(this.apiClient,e);return c=we("{model}:predict",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>{const g=n2(this.apiClient,y),b=new hC;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=ow(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>Td(this.apiClient,b))}else{const g=hA(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>_d(this.apiClient,b))}}async listInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=uw(this.apiClient,e);return p=we("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=l2(this.apiClient,b),_=new C0;return Object.assign(_,S),_})}else{const g=pA(this.apiClient,e);return p=we("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Iw(this.apiClient,b),_=new C0;return Object.assign(_,S),_})}}async update(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=fw(this.apiClient,e);return p=we("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>Td(this.apiClient,b))}else{const g=xA(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>_d(this.apiClient,b))}}async delete(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=hw(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(()=>{const b=r2(),S=new N0;return Object.assign(S,b),S})}else{const g=yA(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(()=>{const b=Lw(),S=new N0;return Object.assign(S,b),S})}}async countTokens(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=pw(this.apiClient,e);return p=we("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=o2(this.apiClient,b),_=new E0;return Object.assign(_,S),_})}else{const g=vA(this.apiClient,e);return p=we("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Ow(this.apiClient,b),_=new E0;return Object.assign(_,S),_})}}async computeTokens(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const p=gw(this.apiClient,e);return c=we("{model}:computeTokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>{const g=c2(this.apiClient,y),b=new mC;return Object.assign(b,g),b})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=yw(this.apiClient,e);return p=we("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>h2(this.apiClient,b))}else{const g=TA(this.apiClient,e);return p=we("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>zw(this.apiClient,b))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P2(i,e){const t={},a=d(e,["operationName"]);a!=null&&f(t,["_url","operationName"],a);const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function B2(i,e){const t={},a=d(e,["operationName"]);a!=null&&f(t,["_url","operationName"],a);const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function z2(i,e){const t={},a=d(e,["operationName"]);a!=null&&f(t,["operationName"],a);const l=d(e,["resourceName"]);l!=null&&f(t,["_url","resourceName"],l);const c=d(e,["config"]);return c!=null&&f(t,["config"],c),t}function H2(i,e){const t={},a=d(e,["video","uri"]);a!=null&&f(t,["uri"],a);const l=d(e,["video","encodedVideo"]);l!=null&&f(t,["videoBytes"],Ys(i,l));const c=d(e,["encoding"]);return c!=null&&f(t,["mimeType"],c),t}function q2(i,e){const t={},a=d(e,["_self"]);return a!=null&&f(t,["video"],H2(i,a)),t}function G2(i,e){const t={},a=d(e,["generatedSamples"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>q2(i,p))),f(t,["generatedVideos"],h)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const c=d(e,["raiMediaFilteredReasons"]);return c!=null&&f(t,["raiMediaFilteredReasons"],c),t}function F2(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["metadata"]);l!=null&&f(t,["metadata"],l);const c=d(e,["done"]);c!=null&&f(t,["done"],c);const h=d(e,["error"]);h!=null&&f(t,["error"],h);const p=d(e,["response","generateVideoResponse"]);return p!=null&&f(t,["response"],G2(i,p)),t}function Y2(i,e){const t={},a=d(e,["gcsUri"]);a!=null&&f(t,["uri"],a);const l=d(e,["bytesBase64Encoded"]);l!=null&&f(t,["videoBytes"],Ys(i,l));const c=d(e,["mimeType"]);return c!=null&&f(t,["mimeType"],c),t}function $2(i,e){const t={},a=d(e,["_self"]);return a!=null&&f(t,["video"],Y2(i,a)),t}function K2(i,e){const t={},a=d(e,["videos"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(p=>$2(i,p))),f(t,["generatedVideos"],h)}const l=d(e,["raiMediaFilteredCount"]);l!=null&&f(t,["raiMediaFilteredCount"],l);const c=d(e,["raiMediaFilteredReasons"]);return c!=null&&f(t,["raiMediaFilteredReasons"],c),t}function Z0(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["metadata"]);l!=null&&f(t,["metadata"],l);const c=d(e,["done"]);c!=null&&f(t,["done"],c);const h=d(e,["error"]);h!=null&&f(t,["error"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],K2(i,p)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X2 extends Mi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,a=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=t.name.split("/operations/")[0];let c;return a&&"httpOptions"in a&&(c=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:l,config:{httpOptions:c}})}else return this.getVideosOperationInternal({operationName:t.name,config:a})}async getVideosOperationInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=B2(this.apiClient,e);return p=we("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>Z0(this.apiClient,b))}else{const g=P2(this.apiClient,e);return p=we("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>F2(this.apiClient,b))}}async fetchPredictVideosOperationInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const p=z2(this.apiClient,e);return c=we("{resourceName}:fetchPredictOperation",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>Z0(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2(i,e){const t={},a=d(e,["voiceName"]);return a!=null&&f(t,["voiceName"],a),t}function ly(i,e){const t={},a=d(e,["prebuiltVoiceConfig"]);return a!=null&&f(t,["prebuiltVoiceConfig"],J2(i,a)),t}function Z2(i,e){const t={},a=d(e,["speaker"]);a!=null&&f(t,["speaker"],a);const l=d(e,["voiceConfig"]);return l!=null&&f(t,["voiceConfig"],ly(i,l)),t}function Q2(i,e){const t={},a=d(e,["speakerVoiceConfigs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Z2(i,c))),f(t,["speakerVoiceConfigs"],l)}return t}function W2(i,e){const t={},a=d(e,["voiceConfig"]);a!=null&&f(t,["voiceConfig"],ly(i,a));const l=d(e,["multiSpeakerVoiceConfig"]);l!=null&&f(t,["multiSpeakerVoiceConfig"],Q2(i,l));const c=d(e,["languageCode"]);return c!=null&&f(t,["languageCode"],c),t}function ek(i,e){const t={},a=d(e,["fps"]);a!=null&&f(t,["fps"],a);const l=d(e,["endOffset"]);l!=null&&f(t,["endOffset"],l);const c=d(e,["startOffset"]);return c!=null&&f(t,["startOffset"],c),t}function tk(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["data"]);a!=null&&f(t,["data"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function nk(i,e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=d(e,["fileUri"]);a!=null&&f(t,["fileUri"],a);const l=d(e,["mimeType"]);return l!=null&&f(t,["mimeType"],l),t}function sk(i,e){const t={},a=d(e,["videoMetadata"]);a!=null&&f(t,["videoMetadata"],ek(i,a));const l=d(e,["thought"]);l!=null&&f(t,["thought"],l);const c=d(e,["inlineData"]);c!=null&&f(t,["inlineData"],tk(i,c));const h=d(e,["fileData"]);h!=null&&f(t,["fileData"],nk(i,h));const p=d(e,["thoughtSignature"]);p!=null&&f(t,["thoughtSignature"],p);const y=d(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const g=d(e,["executableCode"]);g!=null&&f(t,["executableCode"],g);const b=d(e,["functionCall"]);b!=null&&f(t,["functionCall"],b);const S=d(e,["functionResponse"]);S!=null&&f(t,["functionResponse"],S);const _=d(e,["text"]);return _!=null&&f(t,["text"],_),t}function ak(i,e){const t={},a=d(e,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>sk(i,h))),f(t,["parts"],c)}const l=d(e,["role"]);return l!=null&&f(t,["role"],l),t}function ik(i,e){const t={},a=d(e,["behavior"]);a!=null&&f(t,["behavior"],a);const l=d(e,["description"]);l!=null&&f(t,["description"],l);const c=d(e,["name"]);c!=null&&f(t,["name"],c);const h=d(e,["parameters"]);h!=null&&f(t,["parameters"],h);const p=d(e,["response"]);return p!=null&&f(t,["response"],p),t}function lk(i,e){const t={},a=d(e,["startTime"]);a!=null&&f(t,["startTime"],a);const l=d(e,["endTime"]);return l!=null&&f(t,["endTime"],l),t}function rk(i,e){const t={},a=d(e,["timeRangeFilter"]);return a!=null&&f(t,["timeRangeFilter"],lk(i,a)),t}function ok(i,e){const t={},a=d(e,["mode"]);a!=null&&f(t,["mode"],a);const l=d(e,["dynamicThreshold"]);return l!=null&&f(t,["dynamicThreshold"],l),t}function ck(i,e){const t={},a=d(e,["dynamicRetrievalConfig"]);return a!=null&&f(t,["dynamicRetrievalConfig"],ok(i,a)),t}function uk(){return{}}function dk(i,e){const t={},a=d(e,["functionDeclarations"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>ik(i,g))),f(t,["functionDeclarations"],y)}if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=d(e,["googleSearch"]);l!=null&&f(t,["googleSearch"],rk(i,l));const c=d(e,["googleSearchRetrieval"]);if(c!=null&&f(t,["googleSearchRetrieval"],ck(i,c)),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(e,["urlContext"])!=null&&f(t,["urlContext"],uk());const p=d(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function fk(i,e){const t={},a=d(e,["handle"]);if(a!=null&&f(t,["handle"],a),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Q0(){return{}}function hk(i,e){const t={},a=d(e,["disabled"]);a!=null&&f(t,["disabled"],a);const l=d(e,["startOfSpeechSensitivity"]);l!=null&&f(t,["startOfSpeechSensitivity"],l);const c=d(e,["endOfSpeechSensitivity"]);c!=null&&f(t,["endOfSpeechSensitivity"],c);const h=d(e,["prefixPaddingMs"]);h!=null&&f(t,["prefixPaddingMs"],h);const p=d(e,["silenceDurationMs"]);return p!=null&&f(t,["silenceDurationMs"],p),t}function mk(i,e){const t={},a=d(e,["automaticActivityDetection"]);a!=null&&f(t,["automaticActivityDetection"],hk(i,a));const l=d(e,["activityHandling"]);l!=null&&f(t,["activityHandling"],l);const c=d(e,["turnCoverage"]);return c!=null&&f(t,["turnCoverage"],c),t}function pk(i,e){const t={},a=d(e,["targetTokens"]);return a!=null&&f(t,["targetTokens"],a),t}function gk(i,e){const t={},a=d(e,["triggerTokens"]);a!=null&&f(t,["triggerTokens"],a);const l=d(e,["slidingWindow"]);return l!=null&&f(t,["slidingWindow"],pk(i,l)),t}function xk(i,e){const t={},a=d(e,["proactiveAudio"]);return a!=null&&f(t,["proactiveAudio"],a),t}function yk(i,e,t){const a={},l=d(e,["generationConfig"]);t!==void 0&&l!=null&&f(t,["setup","generationConfig"],l);const c=d(e,["responseModalities"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","responseModalities"],c);const h=d(e,["temperature"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","temperature"],h);const p=d(e,["topP"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","topP"],p);const y=d(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const g=d(e,["maxOutputTokens"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","maxOutputTokens"],g);const b=d(e,["mediaResolution"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","mediaResolution"],b);const S=d(e,["seed"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","seed"],S);const _=d(e,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],W2(i,Bd(i,_)));const A=d(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const M=d(e,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],ak(i,Xt(i,M)));const D=d(e,["tools"]);if(t!==void 0&&D!=null){let ne=ql(i,D);Array.isArray(ne)&&(ne=ne.map(W=>dk(i,Hl(i,W)))),f(t,["setup","tools"],ne)}const E=d(e,["sessionResumption"]);t!==void 0&&E!=null&&f(t,["setup","sessionResumption"],fk(i,E));const q=d(e,["inputAudioTranscription"]);t!==void 0&&q!=null&&f(t,["setup","inputAudioTranscription"],Q0());const G=d(e,["outputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","outputAudioTranscription"],Q0());const Q=d(e,["realtimeInputConfig"]);t!==void 0&&Q!=null&&f(t,["setup","realtimeInputConfig"],mk(i,Q));const z=d(e,["contextWindowCompression"]);t!==void 0&&z!=null&&f(t,["setup","contextWindowCompression"],gk(i,z));const Y=d(e,["proactivity"]);return t!==void 0&&Y!=null&&f(t,["setup","proactivity"],xk(i,Y)),a}function bk(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["setup","model"],ft(i,a));const l=d(e,["config"]);return l!=null&&f(t,["config"],yk(i,l,t)),t}function vk(i,e,t){const a={},l=d(e,["expireTime"]);t!==void 0&&l!=null&&f(t,["expireTime"],l);const c=d(e,["newSessionExpireTime"]);t!==void 0&&c!=null&&f(t,["newSessionExpireTime"],c);const h=d(e,["uses"]);t!==void 0&&h!=null&&f(t,["uses"],h);const p=d(e,["liveConnectConstraints"]);t!==void 0&&p!=null&&f(t,["bidiGenerateContentSetup"],bk(i,p));const y=d(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&f(t,["fieldMask"],y),a}function Sk(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],vk(i,a,t)),t}function _k(i,e){const t={},a=d(e,["name"]);return a!=null&&f(t,["name"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tk(i){const e=[];for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const a=i[t];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const l=Object.keys(a).map(c=>`${t}.${c}`);e.push(...l)}else e.push(t)}return e.join(",")}function Ck(i,e){let t=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,t=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const l=i.fieldMask;if(t){const c=Tk(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];l.length>0&&(p=l.map(g=>h.includes(g)?`generationConfig.${g}`:g));const y=[];c&&y.push(c),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?i.fieldMask=l.join(","):delete i.fieldMask;return i}class Nk extends Mi{constructor(e){super(),this.apiClient=e}async create(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=Sk(this.apiClient,e);c=we("auth_tokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query;const y=Ck(p,e.config);return l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),l.then(g=>_k(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ek(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],a);const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function Ak(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=d(e,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),a}function wk(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],Ak(i,a,t)),t}function kk(i,e){const t={},a=d(e,["textInput"]);a!=null&&f(t,["textInput"],a);const l=d(e,["output"]);return l!=null&&f(t,["output"],l),t}function Mk(i,e){const t={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=d(e,["examples"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>kk(i,c))),f(t,["examples","examples"],l)}return t}function Rk(i,e,t){const a={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&f(t,["displayName"],l),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=d(e,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const h=d(e,["learningRateMultiplier"]);if(h!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],h),d(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=d(e,["batchSize"]);t!==void 0&&p!=null&&f(t,["tuningTask","hyperparameters","batchSize"],p);const y=d(e,["learningRate"]);return t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),a}function jk(i,e){const t={},a=d(e,["baseModel"]);a!=null&&f(t,["baseModel"],a);const l=d(e,["trainingDataset"]);l!=null&&f(t,["tuningTask","trainingData"],Mk(i,l));const c=d(e,["config"]);return c!=null&&f(t,["config"],Rk(i,c,t)),t}function Uk(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["_url","name"],a);const l=d(e,["config"]);return l!=null&&f(t,["config"],l),t}function Dk(i,e,t){const a={},l=d(e,["pageSize"]);t!==void 0&&l!=null&&f(t,["_query","pageSize"],l);const c=d(e,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const h=d(e,["filter"]);return t!==void 0&&h!=null&&f(t,["_query","filter"],h),a}function Ik(i,e){const t={},a=d(e,["config"]);return a!=null&&f(t,["config"],Dk(i,a,t)),t}function Lk(i,e,t){const a={},l=d(e,["gcsUri"]);if(t!==void 0&&l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],l),d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ok(i,e){const t={},a=d(e,["gcsUri"]);return a!=null&&f(t,["validationDatasetUri"],a),t}function Vk(i,e,t){const a={},l=d(e,["validationDataset"]);t!==void 0&&l!=null&&f(t,["supervisedTuningSpec"],Ok(i,l));const c=d(e,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const h=d(e,["description"]);t!==void 0&&h!=null&&f(t,["description"],h);const p=d(e,["epochCount"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],p);const y=d(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const g=d(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const b=d(e,["adapterSize"]);if(t!==void 0&&b!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b),d(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function Pk(i,e){const t={},a=d(e,["baseModel"]);a!=null&&f(t,["baseModel"],a);const l=d(e,["trainingDataset"]);l!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],Lk(i,l,t));const c=d(e,["config"]);return c!=null&&f(t,["config"],Vk(i,c,t)),t}function Bk(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["model"],a);const l=d(e,["name"]);return l!=null&&f(t,["endpoint"],l),t}function ry(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["state"]);l!=null&&f(t,["state"],qx(i,l));const c=d(e,["createTime"]);c!=null&&f(t,["createTime"],c);const h=d(e,["tuningTask","startTime"]);h!=null&&f(t,["startTime"],h);const p=d(e,["tuningTask","completeTime"]);p!=null&&f(t,["endTime"],p);const y=d(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const g=d(e,["description"]);g!=null&&f(t,["description"],g);const b=d(e,["baseModel"]);b!=null&&f(t,["baseModel"],b);const S=d(e,["_self"]);S!=null&&f(t,["tunedModel"],Bk(i,S));const _=d(e,["distillationSpec"]);_!=null&&f(t,["distillationSpec"],_);const A=d(e,["experiment"]);A!=null&&f(t,["experiment"],A);const M=d(e,["labels"]);M!=null&&f(t,["labels"],M);const D=d(e,["pipelineJob"]);D!=null&&f(t,["pipelineJob"],D);const E=d(e,["serviceAccount"]);E!=null&&f(t,["serviceAccount"],E);const q=d(e,["tunedModelDisplayName"]);return q!=null&&f(t,["tunedModelDisplayName"],q),t}function zk(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>ry(i,h))),f(t,["tuningJobs"],c)}return t}function Hk(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["metadata"]);l!=null&&f(t,["metadata"],l);const c=d(e,["done"]);c!=null&&f(t,["done"],c);const h=d(e,["error"]);return h!=null&&f(t,["error"],h),t}function qk(i,e){const t={},a=d(e,["checkpointId"]);a!=null&&f(t,["checkpointId"],a);const l=d(e,["epoch"]);l!=null&&f(t,["epoch"],l);const c=d(e,["step"]);c!=null&&f(t,["step"],c);const h=d(e,["endpoint"]);return h!=null&&f(t,["endpoint"],h),t}function Gk(i,e){const t={},a=d(e,["model"]);a!=null&&f(t,["model"],a);const l=d(e,["endpoint"]);l!=null&&f(t,["endpoint"],l);const c=d(e,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>qk(i,p))),f(t,["checkpoints"],h)}return t}function Ed(i,e){const t={},a=d(e,["name"]);a!=null&&f(t,["name"],a);const l=d(e,["state"]);l!=null&&f(t,["state"],qx(i,l));const c=d(e,["createTime"]);c!=null&&f(t,["createTime"],c);const h=d(e,["startTime"]);h!=null&&f(t,["startTime"],h);const p=d(e,["endTime"]);p!=null&&f(t,["endTime"],p);const y=d(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const g=d(e,["error"]);g!=null&&f(t,["error"],g);const b=d(e,["description"]);b!=null&&f(t,["description"],b);const S=d(e,["baseModel"]);S!=null&&f(t,["baseModel"],S);const _=d(e,["tunedModel"]);_!=null&&f(t,["tunedModel"],Gk(i,_));const A=d(e,["supervisedTuningSpec"]);A!=null&&f(t,["supervisedTuningSpec"],A);const M=d(e,["tuningDataStats"]);M!=null&&f(t,["tuningDataStats"],M);const D=d(e,["encryptionSpec"]);D!=null&&f(t,["encryptionSpec"],D);const E=d(e,["partnerModelTuningSpec"]);E!=null&&f(t,["partnerModelTuningSpec"],E);const q=d(e,["distillationSpec"]);q!=null&&f(t,["distillationSpec"],q);const G=d(e,["experiment"]);G!=null&&f(t,["experiment"],G);const Q=d(e,["labels"]);Q!=null&&f(t,["labels"],Q);const z=d(e,["pipelineJob"]);z!=null&&f(t,["pipelineJob"],z);const Y=d(e,["serviceAccount"]);Y!=null&&f(t,["serviceAccount"],Y);const ne=d(e,["tunedModelDisplayName"]);return ne!=null&&f(t,["tunedModelDisplayName"],ne),t}function Fk(i,e){const t={},a=d(e,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const l=d(e,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Ed(i,h))),f(t,["tuningJobs"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yk extends Mi{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Ao(wi.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const a=await this.tuneMldevInternal(t);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:xd.JOB_STATE_QUEUED}}}}async getInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=Uk(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>Ed(this.apiClient,b))}else{const g=Ek(this.apiClient,e);return p=we("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>ry(this.apiClient,b))}}async listInternal(e){var t,a,l,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const g=Ik(this.apiClient,e);return p=we("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(b=>b.json()),h.then(b=>{const S=Fk(this.apiClient,b),_=new A0;return Object.assign(_,S),_})}else{const g=wk(this.apiClient,e);return p=we("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(b=>b.json()),h.then(b=>{const S=zk(this.apiClient,b),_=new A0;return Object.assign(_,S),_})}}async tuneInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI()){const p=Pk(this.apiClient,e);return c=we("tuningJobs",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>Ed(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,a;let l,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jk(this.apiClient,e);return c=we("tunedModels",p._url),h=p._query,delete p.config,delete p._url,delete p._query,l=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),l.then(y=>Hk(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $k{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Kk=1024*1024*8,Xk=3,Jk=1e3,Zk=2,ed="x-goog-upload-status";async function Qk(i,e,t){var a,l,c;let h=0,p=0,y=new yd(new Response),g="upload";for(h=i.size;p<h;){const S=Math.min(Kk,h-p),_=i.slice(p,p+S);p+S>=h&&(g+=", finalize");let A=0,M=Jk;for(;A<Xk&&(y=await t.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(S)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[ed]));)A++,await eM(M),M=M*Zk;if(p+=S,((l=y==null?void 0:y.headers)===null||l===void 0?void 0:l[ed])!=="active")break;if(h<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const b=await(y==null?void 0:y.json());if(((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[ed])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return b.file}async function Wk(i){return{size:i.size,type:i.type}}function eM(i){return new Promise(e=>setTimeout(e,i))}class tM{async upload(e,t,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qk(e,t,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Wk(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nM{create(e,t,a){return new sM(e,t,a)}}class sM{constructor(e,t,a){this.url=e,this.headers=t,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W0="x-goog-api-key";class aM{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(W0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(W0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iM="gl-node/";class lM{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const a=dC(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const l=new aM(this.apiKey);this.apiClient=new S2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:iM+"web",uploader:new tM,downloader:new $k}),this.models=new V2(this.apiClient),this.live=new U2(this.apiClient,l,new nM),this.chats=new O1(this.models,this.apiClient),this.caches=new D1(this.apiClient),this.files=new J1(this.apiClient),this.operations=new X2(this.apiClient),this.authTokens=new Nk(this.apiClient),this.tunings=new Yk(this.apiClient)}}new lM({apiKey:"PLACEHOLDER_API_KEY"});const rM=()=>{const{customers:i,jobs:e,transactions:t,staff:a,inventory:l,accounts:c,restoreData:h,resetToFactory:p,connectToCloud:y,isCloudConnected:g,syncStatus:b,logoUrl:S,updateLogo:_,currentUserRole:A,updatePassword:M,bulkAddTransactions:D}=Mn(),[E,q]=K.useState("PROFILE"),[G,Q]=K.useState(""),[z,Y]=K.useState(!1),[ne,W]=K.useState(null),[oe,ce]=K.useState(null),[pe,Te]=K.useState(""),[Ee,Ae]=K.useState(""),[se,Ve]=K.useState(""),[B,X]=K.useState(localStorage.getItem("supabase_url")||""),[le,N]=K.useState(localStorage.getItem("supabase_key")||""),[w,C]=K.useState(!1),I=async()=>{C(!0),await y(B,le),C(!1)},J=de=>{var nt;const Fe=(nt=de.target.files)==null?void 0:nt[0];if(Fe){const ct=new FileReader;ct.onloadend=()=>{_(ct.result)},ct.readAsDataURL(Fe)}},F=de=>{de.preventDefault(),Ee&&M("SUPER_ADMIN",Ee),se&&M("STAFF",se),Ae(""),Ve(""),alert(" Credentials Updated Successfully!")},ue=()=>{if(!pe.trim())return;const Fe=pe.split(`
`).filter(nt=>nt.trim()).map((nt,ct)=>{const[Ue,re,Me,gt,yt,tt]=nt.split(",").map(Xe=>Xe.trim());return{id:`tx-hist-${Date.now()}-${ct}`,date:Ue||new Date().toISOString().split("T")[0],type:(re==null?void 0:re.toUpperCase())==="EXPENSE"?"EXPENSE":"INCOME",category:Me||"General",amount:parseFloat(gt)||0,description:yt||"Imported Transaction",method:tt||"CASH"}});window.confirm(`Ready to import ${Fe.length} historical transactions?`)&&(D(Fe),Te(""),alert("Historical data imported successfully!"))},V=()=>{navigator.clipboard.writeText(`2024-11-01, INCOME, Service Sales, 5000, Daily Sales, CASH
2024-11-02, EXPENSE, Rent, 15000, Shop Rent Nov, TRANSFER`),alert("Template copied to clipboard!")},be=()=>{const de={timestamp:new Date().toISOString(),version:"2.0",company:"Auto Dazzle Spa",modules:{customers:i,jobs:e,financials:c,transactions:t,staff:a,inventory:l}},Fe=JSON.stringify(de,null,2),nt="data:application/json;charset=utf-8,"+encodeURIComponent(Fe),ct=`AutoDazzle_Backup_${new Date().toISOString().slice(0,10)}.json`,Ue=document.createElement("a");Ue.setAttribute("href",nt),Ue.setAttribute("download",ct),Ue.click()},Ie=de=>{const Fe=new FileReader;de.target.files&&de.target.files.length>0&&(Fe.readAsText(de.target.files[0],"UTF-8"),Fe.onload=nt=>{var ct;if((ct=nt.target)!=null&&ct.result)try{const Ue=JSON.parse(nt.target.result);h(Ue)}catch{alert("Error parsing backup file.")}})};return o.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"System Control"}),o.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"Master Settings & Access"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>q("PROFILE"),className:`px-4 py-2 text-[10px] font-black uppercase rounded-md transition-all ${E==="PROFILE"?"bg-red-600 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Security"}),o.jsx("button",{onClick:()=>q("CLOUD"),className:`px-4 py-2 text-[10px] font-black uppercase rounded-md transition-all ${E==="CLOUD"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Cloud"}),o.jsx("button",{onClick:()=>q("BACKUP"),className:`px-4 py-2 text-[10px] font-black uppercase rounded-md transition-all ${E==="BACKUP"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Backup"}),o.jsx("button",{onClick:()=>q("MIGRATION"),className:`px-4 py-2 text-[10px] font-black uppercase rounded-md transition-all ${E==="MIGRATION"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Import"})]})]}),E==="PROFILE"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-lg border border-slate-200 shadow-sm flex flex-col items-center",children:[o.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-6 w-full text-left tracking-widest",children:"Brand Identity"}),o.jsx("div",{className:"w-32 h-32 rounded-xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden mb-6 bg-slate-50 group relative",children:S?o.jsx("img",{src:S,alt:"Logo",className:"max-w-full max-h-full object-contain"}):o.jsx(iT,{size:32,className:"text-slate-300"})}),o.jsxs("label",{className:"w-full",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:J}),o.jsx("div",{className:"w-full py-3 bg-slate-900 text-white rounded-lg font-black uppercase text-[10px] text-center cursor-pointer hover:bg-black transition-all shadow-md",children:"Update Logo"})]}),o.jsx("p",{className:"text-[10px] text-slate-400 mt-4 text-center font-medium",children:"Auto-scales for Invoices & Reports."})]}),o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsxs("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-6 flex items-center gap-2 tracking-widest",children:[o.jsx(Vl,{size:14,className:"text-red-600"})," Security & Access Control"]}),o.jsxs("form",{onSubmit:F,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-wider",children:"Master Admin Passcode"}),o.jsxs("div",{className:"relative",children:[o.jsx(cd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"password",placeholder:"Enter new Master pass",value:Ee,onChange:de=>Ae(de.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-800 focus:ring-2 focus:ring-red-600/20 outline-none"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-wider",children:"Staff Portal Passcode"}),o.jsxs("div",{className:"relative",children:[o.jsx(cd,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"password",placeholder:"Enter new Staff pass",value:se,onChange:de=>Ve(de.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-800 focus:ring-2 focus:ring-red-600/20 outline-none"})]})]})]}),o.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200 flex gap-3",children:[o.jsx(Mx,{size:20,className:"text-amber-600 shrink-0"}),o.jsx("p",{className:"text-[10px] text-amber-800 font-bold leading-relaxed uppercase",children:"SECURITY ALERT: ONLY THE SUPER ADMIN CAN ACCESS THIS TAB. CHANGING THESE CODES WILL IMMEDIATELY REQUIRE RE-AUTHENTICATION FOR RELEVANT ROLES."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",className:"px-8 py-3 bg-red-600 text-white rounded-lg text-[10px] font-black uppercase tracking-widest hover:bg-red-700 shadow-lg shadow-red-600/20 transition-all",children:"Save Credentials"})})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsxs("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-4 flex items-center gap-2 tracking-widest",children:[o.jsx(X_,{size:14})," Business Info"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 opacity-60",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Entity Name"}),o.jsx("input",{type:"text",defaultValue:"Auto Dazzle Detailing Spa",className:"w-full p-2 border border-slate-300 rounded-md text-sm font-bold bg-slate-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Primary Currency"}),o.jsx("input",{type:"text",defaultValue:"INR ()",className:"w-full p-2 border border-slate-300 rounded-md text-sm font-bold bg-slate-50",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-1",children:"Tax Engine"}),o.jsx("input",{type:"text",defaultValue:"GST (18%)",className:"w-full p-2 border border-slate-300 rounded-md text-sm font-bold bg-slate-50",readOnly:!0})]})]})]})]})]}),E==="CLOUD"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 text-white p-8 rounded-lg shadow-xl border-b-4 border-red-600",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-3 bg-white/10 rounded-lg",children:o.jsx(tT,{size:24,className:"text-red-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black uppercase tracking-tighter",children:"Device Sync"}),o.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Global Data Continuity"})]})]}),o.jsxs("div",{className:"flex items-center justify-center gap-8 mt-10",children:[o.jsx(oT,{size:40,className:"opacity-40"}),o.jsx("div",{className:"h-0.5 w-16 bg-white/10"}),o.jsx(yT,{size:40,className:"text-red-600 opacity-90"}),o.jsx("div",{className:"h-0.5 w-16 bg-white/10"}),o.jsx(Rx,{size:40,className:"opacity-40"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-6 tracking-widest",children:"Supabase Integration"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase mb-1",children:"Project Endpoint"}),o.jsx("input",{type:"text",value:B,onChange:de=>X(de.target.value),className:"w-full p-2.5 border border-slate-200 rounded-lg text-xs font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-red-600/20",placeholder:"https://xyz.supabase.co"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase mb-1",children:"Service Role Key"}),o.jsx("input",{type:"password",value:le,onChange:de=>N(de.target.value),className:"w-full p-2.5 border border-slate-200 rounded-lg text-xs font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-red-600/20",placeholder:"..."})]}),o.jsx("button",{onClick:I,disabled:w,className:`w-full py-3 rounded-lg font-black text-white uppercase text-[10px] tracking-[0.2em] shadow-lg transition-all ${g?"bg-green-600":"bg-slate-900 hover:bg-black"}`,children:w?"Authenticating...":g?"Sync Active":"Establish Link"})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsx("h4",{className:"font-black text-slate-800 uppercase text-[10px] mb-4 tracking-widest",children:"Go-Live Checklist"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100",children:[o.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${g?"bg-green-100 text-green-600":"bg-slate-200 text-slate-400"}`,children:o.jsx(Cg,{size:14})}),o.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"1. Cloud Link Status"})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100",children:[o.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-slate-200 text-slate-400",children:o.jsx(Cg,{size:14})}),o.jsx("span",{className:"text-[10px] font-bold text-slate-600 uppercase",children:"2. Import Services (Excel)"})]}),o.jsxs("div",{className:"p-3 bg-amber-50 rounded border border-amber-100 flex gap-2",children:[o.jsx(Dd,{size:16,className:"text-amber-600 shrink-0"}),o.jsx("p",{className:"text-[9px] text-amber-800 font-bold uppercase leading-tight",children:'GitHub Note: If your page is blank on GitHub, you MUST run "npm run build" and upload the "dist" folder. GitHub cannot read .tsx files directly.'})]})]})]})]})]}),E==="BACKUP"&&o.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-sm border border-slate-200 text-center",children:[o.jsx(Od,{size:64,className:"mx-auto text-green-500 mb-6"}),o.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tighter mb-2",children:"Immutable Backups"}),o.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest mb-10",children:"Localized snapshots for cold storage"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center max-w-lg mx-auto",children:[o.jsx("button",{onClick:be,className:"flex-1 py-4 bg-slate-900 text-white rounded-lg font-black uppercase text-[10px] tracking-widest hover:bg-black shadow-lg",children:"Export Full State"}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"file",accept:".json",onChange:Ie,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),o.jsx("button",{className:"w-full py-4 bg-white border-2 border-slate-200 text-slate-600 rounded-lg font-black uppercase text-[10px] tracking-widest hover:bg-slate-50 transition-colors",children:"Import State File"})]})]}),o.jsx("div",{className:"mt-8 pt-8 border-t border-slate-100",children:o.jsxs("button",{onClick:p,className:"text-red-500 text-xs font-bold uppercase hover:text-red-700 flex items-center justify-center gap-2 mx-auto",children:[o.jsx(Hs,{size:14})," Reset to Factory Settings"]})})]}),E==="MIGRATION"&&o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h4",{className:"text-lg font-black uppercase text-slate-800 tracking-tight flex items-center gap-2",children:[o.jsx(od,{size:20,className:"text-blue-600"})," Historical Transactions"]}),o.jsxs("button",{onClick:V,className:"text-[10px] bg-blue-50 text-blue-700 px-3 py-1.5 rounded hover:bg-blue-100 font-bold flex items-center gap-1 border border-blue-200",children:[o.jsx(Id,{size:12})," Copy Format Template"]})]}),o.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-lg mb-4",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Required CSV Columns:"}),o.jsx("code",{className:"text-xs font-mono bg-white p-2 rounded border border-slate-200 block mb-2 text-slate-700",children:"YYYY-MM-DD, TYPE, Category, Amount, Description, Method"}),o.jsxs("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:["Values for TYPE: ",o.jsx("b",{children:"INCOME"})," or ",o.jsx("b",{children:"EXPENSE"}),".",o.jsx("br",{}),"Values for Method: ",o.jsx("b",{children:"CASH, CARD, UPI, TRANSFER"}),"."]})]}),o.jsx("textarea",{className:"w-full h-48 p-4 bg-white border border-slate-300 rounded-xl font-mono text-xs focus:ring-2 focus:ring-blue-600/20 outline-none mb-4 text-black",value:pe,onChange:de=>Te(de.target.value),placeholder:`2024-11-01, INCOME, Service Sales, 5000, Daily Sales, CASH
2024-11-02, EXPENSE, Rent, 15000, Shop Rent Nov, TRANSFER`}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:ue,disabled:!pe,className:"px-6 py-3 bg-slate-900 text-white rounded-lg font-black uppercase text-[10px] tracking-widest shadow-lg hover:bg-black disabled:bg-slate-300",children:"Import Transaction History"})})]})})]})},oy=[{brand:"Maruti Suzuki",model:"800",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Alto 800",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Alto K10",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Zen / Estilo",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"A-Star",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"S-Presso",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Celerio",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Wagon R",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Ritz",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Swift",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Ignis",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Baleno",segment:"HATCHBACK"},{brand:"Hyundai",model:"Eon",segment:"HATCHBACK"},{brand:"Hyundai",model:"Santro",segment:"HATCHBACK"},{brand:"Hyundai",model:"i10",segment:"HATCHBACK"},{brand:"Hyundai",model:"Grand i10",segment:"HATCHBACK"},{brand:"Hyundai",model:"Grand i10 Nios",segment:"HATCHBACK"},{brand:"Hyundai",model:"Getz",segment:"HATCHBACK"},{brand:"Hyundai",model:"i20",segment:"HATCHBACK"},{brand:"Hyundai",model:"i20 N Line",segment:"HATCHBACK"},{brand:"Tata",model:"Nano",segment:"HATCHBACK"},{brand:"Tata",model:"Indica / Vista",segment:"HATCHBACK"},{brand:"Tata",model:"Tiago",segment:"HATCHBACK"},{brand:"Tata",model:"Tiago EV",segment:"HATCHBACK"},{brand:"Tata",model:"Bolt",segment:"HATCHBACK"},{brand:"Tata",model:"Altroz",segment:"HATCHBACK"},{brand:"Tata",model:"Altroz Racer",segment:"HATCHBACK"},{brand:"Volkswagen",model:"Polo",segment:"HATCHBACK"},{brand:"Volkswagen",model:"Polo GT",segment:"HATCHBACK"},{brand:"Volkswagen",model:"Cross Polo",segment:"HATCHBACK"},{brand:"Skoda",model:"Fabia",segment:"HATCHBACK"},{brand:"Honda",model:"Brio",segment:"HATCHBACK"},{brand:"Honda",model:"Jazz",segment:"HATCHBACK"},{brand:"Toyota",model:"Liva",segment:"HATCHBACK"},{brand:"Toyota",model:"Glanza",segment:"HATCHBACK"},{brand:"Ford",model:"Figo",segment:"HATCHBACK"},{brand:"Ford",model:"Freestyle",segment:"HATCHBACK"},{brand:"Renault",model:"Kwid",segment:"HATCHBACK"},{brand:"Renault",model:"Pulse",segment:"HATCHBACK"},{brand:"Nissan",model:"Micra",segment:"HATCHBACK"},{brand:"Datsun",model:"Redi-GO",segment:"HATCHBACK"},{brand:"Datsun",model:"GO",segment:"HATCHBACK"},{brand:"Chevrolet",model:"Spark",segment:"HATCHBACK"},{brand:"Chevrolet",model:"Beat",segment:"HATCHBACK"},{brand:"Chevrolet",model:"Sail UV-A",segment:"HATCHBACK"},{brand:"Fiat",model:"Punto",segment:"HATCHBACK"},{brand:"Fiat",model:"Palio",segment:"HATCHBACK"},{brand:"Citroen",model:"C3",segment:"HATCHBACK"},{brand:"Citroen",model:"eC3",segment:"HATCHBACK"},{brand:"MG",model:"Comet EV",segment:"HATCHBACK"},{brand:"Maruti Suzuki",model:"Esteem",segment:"SEDAN"},{brand:"Maruti Suzuki",model:"Dzire",segment:"SEDAN"},{brand:"Maruti Suzuki",model:"SX4",segment:"SEDAN"},{brand:"Maruti Suzuki",model:"Ciaz",segment:"SEDAN"},{brand:"Hyundai",model:"Xcent",segment:"SEDAN"},{brand:"Hyundai",model:"Aura",segment:"SEDAN"},{brand:"Hyundai",model:"Accent",segment:"SEDAN"},{brand:"Hyundai",model:"Verna",segment:"SEDAN"},{brand:"Hyundai",model:"Elantra",segment:"LUXURY"},{brand:"Hyundai",model:"Sonata",segment:"LUXURY"},{brand:"Honda",model:"Amaze",segment:"SEDAN"},{brand:"Honda",model:"City",segment:"SEDAN"},{brand:"Honda",model:"Civic",segment:"LUXURY"},{brand:"Honda",model:"Accord",segment:"LUXURY"},{brand:"Toyota",model:"Etios",segment:"SEDAN"},{brand:"Toyota",model:"Yaris",segment:"SEDAN"},{brand:"Toyota",model:"Corolla Altis",segment:"LUXURY"},{brand:"Toyota",model:"Camry",segment:"LUXURY"},{brand:"Tata",model:"Indigo / CS",segment:"SEDAN"},{brand:"Tata",model:"Manza",segment:"SEDAN"},{brand:"Tata",model:"Zest",segment:"SEDAN"},{brand:"Tata",model:"Tigor",segment:"SEDAN"},{brand:"Tata",model:"Tigor EV",segment:"SEDAN"},{brand:"Volkswagen",model:"Ameo",segment:"SEDAN"},{brand:"Volkswagen",model:"Vento",segment:"SEDAN"},{brand:"Volkswagen",model:"Virtus",segment:"SEDAN"},{brand:"Volkswagen",model:"Jetta",segment:"LUXURY"},{brand:"Volkswagen",model:"Passat",segment:"LUXURY"},{brand:"Skoda",model:"Rapid",segment:"SEDAN"},{brand:"Skoda",model:"Slavia",segment:"SEDAN"},{brand:"Skoda",model:"Octavia",segment:"LUXURY"},{brand:"Skoda",model:"Superb",segment:"LUXURY"},{brand:"Skoda",model:"Laura",segment:"LUXURY"},{brand:"Nissan",model:"Sunny",segment:"SEDAN"},{brand:"Renault",model:"Scala",segment:"SEDAN"},{brand:"Ford",model:"Fiesta",segment:"SEDAN"},{brand:"Ford",model:"Aspire",segment:"SEDAN"},{brand:"Chevrolet",model:"Sail",segment:"SEDAN"},{brand:"Chevrolet",model:"Cruze",segment:"LUXURY"},{brand:"Fiat",model:"Linea",segment:"SEDAN"},{brand:"Mahindra",model:"Verito",segment:"SEDAN"},{brand:"Maruti Suzuki",model:"Gypsy",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Brezza",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Ertiga",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"XL6",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"S-Cross",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Grand Vitara",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Fronx",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Jimny",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Invicto",segment:"SUV_MUV"},{brand:"Maruti Suzuki",model:"Eeco",segment:"SUV_MUV"},{brand:"Hyundai",model:"Venue",segment:"SUV_MUV"},{brand:"Hyundai",model:"Creta",segment:"SUV_MUV"},{brand:"Hyundai",model:"Alcazar",segment:"SUV_MUV"},{brand:"Hyundai",model:"Tucson",segment:"SUV_MUV"},{brand:"Hyundai",model:"Santa Fe",segment:"SUV_MUV"},{brand:"Hyundai",model:"Exter",segment:"SUV_MUV"},{brand:"Hyundai",model:"Kona EV",segment:"SUV_MUV"},{brand:"Hyundai",model:"Ioniq 5",segment:"LUXURY"},{brand:"Tata",model:"Punch",segment:"SUV_MUV"},{brand:"Tata",model:"Punch EV",segment:"SUV_MUV"},{brand:"Tata",model:"Nexon",segment:"SUV_MUV"},{brand:"Tata",model:"Nexon EV",segment:"SUV_MUV"},{brand:"Tata",model:"Harrier",segment:"SUV_MUV"},{brand:"Tata",model:"Safari",segment:"SUV_MUV"},{brand:"Tata",model:"Curvv",segment:"SUV_MUV"},{brand:"Tata",model:"Curvv EV",segment:"SUV_MUV"},{brand:"Tata",model:"Sumo",segment:"SUV_MUV"},{brand:"Tata",model:"Hexa",segment:"SUV_MUV"},{brand:"Tata",model:"Aria",segment:"SUV_MUV"},{brand:"Mahindra",model:"Thar",segment:"SUV_MUV"},{brand:"Mahindra",model:"Thar Roxx (5-Door)",segment:"SUV_MUV"},{brand:"Mahindra",model:"Scorpio N",segment:"SUV_MUV"},{brand:"Mahindra",model:"Scorpio Classic",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 700",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 500",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 300",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 3XO",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 400 EV",segment:"SUV_MUV"},{brand:"Mahindra",model:"KUV 100",segment:"SUV_MUV"},{brand:"Mahindra",model:"TUV 300",segment:"SUV_MUV"},{brand:"Mahindra",model:"Bolero",segment:"SUV_MUV"},{brand:"Mahindra",model:"Bolero Neo",segment:"SUV_MUV"},{brand:"Mahindra",model:"Marazzo",segment:"SUV_MUV"},{brand:"Mahindra",model:"Xylo",segment:"SUV_MUV"},{brand:"Mahindra",model:"NuvoSport",segment:"SUV_MUV"},{brand:"Mahindra",model:"BE 6e",segment:"SUV_MUV"},{brand:"Mahindra",model:"XUV 9e",segment:"SUV_MUV"},{brand:"Toyota",model:"Qualis",segment:"SUV_MUV"},{brand:"Toyota",model:"Innova",segment:"SUV_MUV"},{brand:"Toyota",model:"Innova Crysta",segment:"SUV_MUV"},{brand:"Toyota",model:"Innova Hycross",segment:"SUV_MUV"},{brand:"Toyota",model:"Fortuner",segment:"SUV_MUV"},{brand:"Toyota",model:"Legender",segment:"SUV_MUV"},{brand:"Toyota",model:"Urban Cruiser",segment:"SUV_MUV"},{brand:"Toyota",model:"Urban Cruiser Hyryder",segment:"SUV_MUV"},{brand:"Toyota",model:"Urban Cruiser Taisor",segment:"SUV_MUV"},{brand:"Toyota",model:"Rumion",segment:"SUV_MUV"},{brand:"Kia",model:"Seltos",segment:"SUV_MUV"},{brand:"Kia",model:"Sonet",segment:"SUV_MUV"},{brand:"Kia",model:"Carens",segment:"SUV_MUV"},{brand:"Kia",model:"Carnival",segment:"LUXURY"},{brand:"Kia",model:"EV6",segment:"LUXURY"},{brand:"Kia",model:"EV9",segment:"LUXURY"},{brand:"MG",model:"Hector",segment:"SUV_MUV"},{brand:"MG",model:"Hector Plus",segment:"SUV_MUV"},{brand:"MG",model:"Astor",segment:"SUV_MUV"},{brand:"MG",model:"Gloster",segment:"SUV_MUV"},{brand:"MG",model:"ZS EV",segment:"SUV_MUV"},{brand:"MG",model:"Windsor EV",segment:"SUV_MUV"},{brand:"Honda",model:"CR-V",segment:"SUV_MUV"},{brand:"Honda",model:"BR-V",segment:"SUV_MUV"},{brand:"Honda",model:"WR-V",segment:"SUV_MUV"},{brand:"Honda",model:"Elevate",segment:"SUV_MUV"},{brand:"Renault",model:"Triber",segment:"SUV_MUV"},{brand:"Renault",model:"Kiger",segment:"SUV_MUV"},{brand:"Renault",model:"Duster",segment:"SUV_MUV"},{brand:"Renault",model:"Captur",segment:"SUV_MUV"},{brand:"Renault",model:"Lodgy",segment:"SUV_MUV"},{brand:"Nissan",model:"Magnite",segment:"SUV_MUV"},{brand:"Nissan",model:"Kicks",segment:"SUV_MUV"},{brand:"Nissan",model:"Terrano",segment:"SUV_MUV"},{brand:"Nissan",model:"X-Trail",segment:"SUV_MUV"},{brand:"Volkswagen",model:"Taigun",segment:"SUV_MUV"},{brand:"Volkswagen",model:"Tiguan",segment:"SUV_MUV"},{brand:"Skoda",model:"Kushaq",segment:"SUV_MUV"},{brand:"Skoda",model:"Kodiaq",segment:"SUV_MUV"},{brand:"Skoda",model:"Yeti",segment:"SUV_MUV"},{brand:"Ford",model:"EcoSport",segment:"SUV_MUV"},{brand:"Ford",model:"Endeavour",segment:"SUV_MUV"},{brand:"Jeep",model:"Compass",segment:"SUV_MUV"},{brand:"Jeep",model:"Meridian",segment:"SUV_MUV"},{brand:"Citroen",model:"C3 Aircross",segment:"SUV_MUV"},{brand:"Citroen",model:"C5 Aircross",segment:"SUV_MUV"},{brand:"Citroen",model:"Basalt",segment:"SUV_MUV"},{brand:"Chevrolet",model:"Tavera",segment:"SUV_MUV"},{brand:"Chevrolet",model:"Enjoy",segment:"SUV_MUV"},{brand:"Chevrolet",model:"Captiva",segment:"SUV_MUV"},{brand:"Force",model:"Gurkha",segment:"SUV_MUV"},{brand:"Force",model:"Trax",segment:"SUV_MUV"},{brand:"Isuzu",model:"MU-X",segment:"SUV_MUV"},{brand:"BYD",model:"Atto 3",segment:"SUV_MUV"},{brand:"BYD",model:"e6",segment:"SUV_MUV"},{brand:"BYD",model:"eMAX 7",segment:"SUV_MUV"},{brand:"Mercedes-Benz",model:"A-Class",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"C-Class",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"E-Class",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"S-Class",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"CLA",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"CLS",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"GLA",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"GLB",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"GLC",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"GLE",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"GLS",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"G-Wagon",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"Maybach",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"EQA",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"EQB",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"EQC",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"EQE",segment:"LUXURY"},{brand:"Mercedes-Benz",model:"EQS",segment:"LUXURY"},{brand:"BMW",model:"2 Series",segment:"LUXURY"},{brand:"BMW",model:"3 Series",segment:"LUXURY"},{brand:"BMW",model:"5 Series",segment:"LUXURY"},{brand:"BMW",model:"6 Series",segment:"LUXURY"},{brand:"BMW",model:"7 Series",segment:"LUXURY"},{brand:"BMW",model:"X1",segment:"LUXURY"},{brand:"BMW",model:"X3",segment:"LUXURY"},{brand:"BMW",model:"X4",segment:"LUXURY"},{brand:"BMW",model:"X5",segment:"LUXURY"},{brand:"BMW",model:"X6",segment:"LUXURY"},{brand:"BMW",model:"X7",segment:"LUXURY"},{brand:"BMW",model:"Z4",segment:"LUXURY"},{brand:"BMW",model:"iX1",segment:"LUXURY"},{brand:"BMW",model:"i4",segment:"LUXURY"},{brand:"BMW",model:"iX",segment:"LUXURY"},{brand:"BMW",model:"i7",segment:"LUXURY"},{brand:"Audi",model:"A3",segment:"LUXURY"},{brand:"Audi",model:"A4",segment:"LUXURY"},{brand:"Audi",model:"A6",segment:"LUXURY"},{brand:"Audi",model:"A8",segment:"LUXURY"},{brand:"Audi",model:"Q3",segment:"LUXURY"},{brand:"Audi",model:"Q5",segment:"LUXURY"},{brand:"Audi",model:"Q7",segment:"LUXURY"},{brand:"Audi",model:"Q8",segment:"LUXURY"},{brand:"Audi",model:"e-tron",segment:"LUXURY"},{brand:"Land Rover",model:"Defender",segment:"LUXURY"},{brand:"Land Rover",model:"Range Rover Evoque",segment:"LUXURY"},{brand:"Land Rover",model:"Range Rover Velar",segment:"LUXURY"},{brand:"Land Rover",model:"Range Rover Sport",segment:"LUXURY"},{brand:"Land Rover",model:"Range Rover",segment:"LUXURY"},{brand:"Land Rover",model:"Discovery",segment:"LUXURY"},{brand:"Land Rover",model:"Discovery Sport",segment:"LUXURY"},{brand:"Jaguar",model:"F-Pace",segment:"LUXURY"},{brand:"Jaguar",model:"E-Pace",segment:"LUXURY"},{brand:"Jaguar",model:"I-Pace",segment:"LUXURY"},{brand:"Jaguar",model:"XE",segment:"LUXURY"},{brand:"Jaguar",model:"XF",segment:"LUXURY"},{brand:"Jaguar",model:"XJ",segment:"LUXURY"},{brand:"Volvo",model:"XC40",segment:"LUXURY"},{brand:"Volvo",model:"XC60",segment:"LUXURY"},{brand:"Volvo",model:"XC90",segment:"LUXURY"},{brand:"Volvo",model:"S60",segment:"LUXURY"},{brand:"Volvo",model:"S90",segment:"LUXURY"},{brand:"Volvo",model:"C40 Recharge",segment:"LUXURY"},{brand:"Volvo",model:"EX90",segment:"LUXURY"},{brand:"Toyota",model:"Vellfire",segment:"LUXURY"},{brand:"Toyota",model:"Land Cruiser",segment:"LUXURY"},{brand:"Toyota",model:"Prado",segment:"LUXURY"},{brand:"Lexus",model:"ES",segment:"LUXURY"},{brand:"Lexus",model:"NX",segment:"LUXURY"},{brand:"Lexus",model:"RX",segment:"LUXURY"},{brand:"Lexus",model:"LX",segment:"LUXURY"},{brand:"Jeep",model:"Wrangler",segment:"LUXURY"},{brand:"Jeep",model:"Grand Cherokee",segment:"LUXURY"},{brand:"BYD",model:"Seal",segment:"LUXURY"},{brand:"Mini",model:"Cooper",segment:"LUXURY"},{brand:"Mini",model:"Countryman",segment:"LUXURY"},{brand:"Porsche",model:"Macan",segment:"LUXURY"},{brand:"Porsche",model:"Cayenne",segment:"LUXURY"},{brand:"Hero",model:"Splendor Plus",segment:"BIKE"},{brand:"Hero",model:"HF Deluxe",segment:"BIKE"},{brand:"Hero",model:"Passion",segment:"BIKE"},{brand:"Hero",model:"Glamour",segment:"BIKE"},{brand:"Hero",model:"Super Splendor",segment:"BIKE"},{brand:"Hero",model:"Xpulse 200",segment:"BIKE"},{brand:"Hero",model:"Xtreme 125R",segment:"BIKE"},{brand:"Hero",model:"Xtreme 160R",segment:"BIKE"},{brand:"Hero",model:"Xtreme 200S",segment:"BIKE"},{brand:"Hero",model:"Karizma XMR",segment:"BIKE"},{brand:"Hero",model:"Mavrick 440",segment:"BULLET"},{brand:"Honda",model:"Shine",segment:"BIKE"},{brand:"Honda",model:"SP 125",segment:"BIKE"},{brand:"Honda",model:"Unicorn",segment:"BIKE"},{brand:"Honda",model:"Hornet 2.0",segment:"BIKE"},{brand:"Honda",model:"X-Blade",segment:"BIKE"},{brand:"Honda",model:"CD 110 Dream",segment:"BIKE"},{brand:"Honda",model:"Livo",segment:"BIKE"},{brand:"Honda",model:"CB200X",segment:"BIKE"},{brand:"Honda",model:"CB300F",segment:"BIKE"},{brand:"Honda",model:"CB300R",segment:"BIKE"},{brand:"Honda",model:"CB350 Hness",segment:"BULLET"},{brand:"Honda",model:"CB350 RS",segment:"BULLET"},{brand:"Bajaj",model:"Platina",segment:"BIKE"},{brand:"Bajaj",model:"CT 110/125",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar 125",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar 150",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar N150",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar N160",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar NS125",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar NS160",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar NS200",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar N250",segment:"BIKE"},{brand:"Bajaj",model:"Pulsar RS200",segment:"BIKE"},{brand:"Bajaj",model:"Dominar 250",segment:"BULLET"},{brand:"Bajaj",model:"Dominar 400",segment:"BULLET"},{brand:"Bajaj",model:"Avenger 160",segment:"BULLET"},{brand:"Bajaj",model:"Avenger 220",segment:"BULLET"},{brand:"Bajaj",model:"Freedom 125 (CNG)",segment:"BIKE"},{brand:"TVS",model:"Apache RTR 160",segment:"BIKE"},{brand:"TVS",model:"Apache RTR 180",segment:"BIKE"},{brand:"TVS",model:"Apache RTR 200 4V",segment:"BIKE"},{brand:"TVS",model:"Apache RTR 310",segment:"BIKE"},{brand:"TVS",model:"Apache RR 310",segment:"BIKE"},{brand:"TVS",model:"Raider 125",segment:"BIKE"},{brand:"TVS",model:"Radeon",segment:"BIKE"},{brand:"TVS",model:"Sport",segment:"BIKE"},{brand:"TVS",model:"Star City Plus",segment:"BIKE"},{brand:"TVS",model:"Ronin",segment:"BULLET"},{brand:"Yamaha",model:"R15",segment:"BIKE"},{brand:"Yamaha",model:"MT-15",segment:"BIKE"},{brand:"Yamaha",model:"FZ",segment:"BIKE"},{brand:"Yamaha",model:"FZ-S",segment:"BIKE"},{brand:"Yamaha",model:"FZ-X",segment:"BIKE"},{brand:"Yamaha",model:"R3",segment:"BIKE"},{brand:"Suzuki",model:"Gixxer",segment:"BIKE"},{brand:"Suzuki",model:"Gixxer SF",segment:"BIKE"},{brand:"Suzuki",model:"Gixxer 250",segment:"BIKE"},{brand:"Suzuki",model:"Gixxer SF 250",segment:"BIKE"},{brand:"Suzuki",model:"V-Strom SX",segment:"BIKE"},{brand:"KTM",model:"Duke 125",segment:"BIKE"},{brand:"KTM",model:"Duke 200",segment:"BIKE"},{brand:"KTM",model:"Duke 250",segment:"BIKE"},{brand:"KTM",model:"Duke 390",segment:"BIKE"},{brand:"KTM",model:"RC 125",segment:"BIKE"},{brand:"KTM",model:"RC 200",segment:"BIKE"},{brand:"KTM",model:"RC 390",segment:"BIKE"},{brand:"KTM",model:"Adventure 250",segment:"BULLET"},{brand:"KTM",model:"Adventure 390",segment:"BULLET"},{brand:"Jawa",model:"42",segment:"BULLET"},{brand:"Jawa",model:"Perak",segment:"BULLET"},{brand:"Jawa",model:"42 Bobber",segment:"BULLET"},{brand:"Jawa",model:"350",segment:"BULLET"},{brand:"Yezdi",model:"Roadster",segment:"BULLET"},{brand:"Yezdi",model:"Scrambler",segment:"BULLET"},{brand:"Yezdi",model:"Adventure",segment:"BULLET"},{brand:"Triumph",model:"Speed 400",segment:"BULLET"},{brand:"Triumph",model:"Scrambler 400X",segment:"BULLET"},{brand:"Harley Davidson",model:"X440",segment:"BULLET"},{brand:"Kawasaki",model:"Ninja 300",segment:"BIKE"},{brand:"Kawasaki",model:"Ninja 400",segment:"BIKE"},{brand:"Revolt",model:"RV400",segment:"BIKE"},{brand:"Ultraviolette",model:"F77",segment:"BIKE"},{brand:"Husqvarna",model:"Svartpilen 250",segment:"BIKE"},{brand:"Husqvarna",model:"Vitpilen 250",segment:"BIKE"},{brand:"Royal Enfield",model:"Classic 350",segment:"BULLET"},{brand:"Royal Enfield",model:"Bullet 350",segment:"BULLET"},{brand:"Royal Enfield",model:"Meteor 350",segment:"BULLET"},{brand:"Royal Enfield",model:"Hunter 350",segment:"BULLET"},{brand:"Royal Enfield",model:"Himalayan 411",segment:"BULLET"},{brand:"Royal Enfield",model:"Himalayan 450",segment:"BULLET"},{brand:"Royal Enfield",model:"Scram 411",segment:"BULLET"},{brand:"Royal Enfield",model:"Interceptor 650",segment:"BULLET"},{brand:"Royal Enfield",model:"Continental GT 650",segment:"BULLET"},{brand:"Royal Enfield",model:"Super Meteor 650",segment:"BULLET"},{brand:"Royal Enfield",model:"Shotgun 650",segment:"BULLET"},{brand:"Royal Enfield",model:"Guerrilla 450",segment:"BULLET"},{brand:"Royal Enfield",model:"Bear 650",segment:"BULLET"},{brand:"Honda",model:"Activa 3G/4G/5G/6G",segment:"SCOOTY"},{brand:"Honda",model:"Activa 125",segment:"SCOOTY"},{brand:"Honda",model:"Dio",segment:"SCOOTY"},{brand:"Honda",model:"Dio 125",segment:"SCOOTY"},{brand:"Honda",model:"Grazia",segment:"SCOOTY"},{brand:"Honda",model:"Aviator",segment:"SCOOTY"},{brand:"TVS",model:"Jupiter",segment:"SCOOTY"},{brand:"TVS",model:"Jupiter 110",segment:"SCOOTY"},{brand:"TVS",model:"Jupiter 125",segment:"SCOOTY"},{brand:"TVS",model:"Ntorq 125",segment:"SCOOTY"},{brand:"TVS",model:"Scooty Pep+",segment:"SCOOTY"},{brand:"TVS",model:"Zest",segment:"SCOOTY"},{brand:"TVS",model:"Wego",segment:"SCOOTY"},{brand:"TVS",model:"iQube EV",segment:"SCOOTY"},{brand:"TVS",model:"X EV",segment:"SCOOTY"},{brand:"Suzuki",model:"Access 125",segment:"SCOOTY"},{brand:"Suzuki",model:"Burgman Street",segment:"SCOOTY"},{brand:"Suzuki",model:"Avenis",segment:"SCOOTY"},{brand:"Yamaha",model:"Fascino 125",segment:"SCOOTY"},{brand:"Yamaha",model:"RayZR 125",segment:"SCOOTY"},{brand:"Yamaha",model:"Aerox 155",segment:"SCOOTY"},{brand:"Hero",model:"Pleasure Plus",segment:"SCOOTY"},{brand:"Hero",model:"Maestro Edge",segment:"SCOOTY"},{brand:"Hero",model:"Destini 125",segment:"SCOOTY"},{brand:"Hero",model:"Xoom",segment:"SCOOTY"},{brand:"Hero",model:"Vida V1",segment:"SCOOTY"},{brand:"Ola",model:"S1 Pro",segment:"SCOOTY"},{brand:"Ola",model:"S1 Air",segment:"SCOOTY"},{brand:"Ola",model:"S1 X",segment:"SCOOTY"},{brand:"Ather",model:"450X",segment:"SCOOTY"},{brand:"Ather",model:"450S",segment:"SCOOTY"},{brand:"Ather",model:"Rizta",segment:"SCOOTY"},{brand:"Bajaj",model:"Chetak EV",segment:"SCOOTY"},{brand:"Vespa",model:"VXL 125/150",segment:"SCOOTY"},{brand:"Vespa",model:"SXL 125/150",segment:"SCOOTY"},{brand:"Vespa",model:"ZX 125",segment:"SCOOTY"},{brand:"Aprilia",model:"SR 125/160",segment:"SCOOTY"},{brand:"Aprilia",model:"SXR 125/160",segment:"SCOOTY"},{brand:"River",model:"Indie",segment:"SCOOTY"},{brand:"Bajaj",model:"RE Compact (Auto)",segment:"AUTORICKSHAW"},{brand:"Bajaj",model:"Maxima Z",segment:"AUTORICKSHAW"},{brand:"Piaggio",model:"Ape City",segment:"AUTORICKSHAW"},{brand:"Piaggio",model:"Ape Xtra",segment:"AUTORICKSHAW"},{brand:"Piaggio",model:"Ape E-City",segment:"AUTORICKSHAW"},{brand:"TVS",model:"King",segment:"AUTORICKSHAW"},{brand:"Mahindra",model:"Treo EV",segment:"AUTORICKSHAW"},{brand:"Mahindra",model:"E-Alfa",segment:"AUTORICKSHAW"},{brand:"Mahindra",model:"Alfa",segment:"AUTORICKSHAW"},{brand:"Atul",model:"Gem",segment:"AUTORICKSHAW"},{brand:"Lohia",model:"Narain (E-Rickshaw)",segment:"AUTORICKSHAW"},{brand:"Tata",model:"Ace Gold",segment:"PICKUP_SMALL"},{brand:"Tata",model:"Ace EV",segment:"PICKUP_SMALL"},{brand:"Tata",model:"Intra V10/V30",segment:"PICKUP_SMALL"},{brand:"Mahindra",model:"Jeeto",segment:"PICKUP_SMALL"},{brand:"Mahindra",model:"Supro",segment:"PICKUP_SMALL"},{brand:"Maruti Suzuki",model:"Super Carry",segment:"PICKUP_SMALL"},{brand:"Ashok Leyland",model:"Dost",segment:"PICKUP_LARGE"},{brand:"Ashok Leyland",model:"Bada Dost",segment:"PICKUP_LARGE"},{brand:"Mahindra",model:"Bolero Pickup",segment:"PICKUP_LARGE"},{brand:"Mahindra",model:"Bolero Maxx",segment:"PICKUP_LARGE"},{brand:"Mahindra",model:"Bolero Camper",segment:"PICKUP_LARGE"},{brand:"Tata",model:"Yodha",segment:"PICKUP_LARGE"},{brand:"Tata",model:"Xenon",segment:"PICKUP_LARGE"},{brand:"Isuzu",model:"D-Max",segment:"PICKUP_LARGE"},{brand:"Isuzu",model:"V-Cross",segment:"PICKUP_LARGE"},{brand:"Toyota",model:"Hilux",segment:"PICKUP_LARGE"}],oM=()=>{const{jobs:i,customers:e,services:t,staff:a,addJob:l,updateJob:c,deleteJob:h,updateJobStatus:p,currentUserRole:y,logoUrl:g}=Mn(),[b,S]=K.useState("QUEUE"),[_,A]=K.useState(new Date().toISOString().slice(0,7)),[M,D]=K.useState(!1),[E,q]=K.useState(null),[G,Q]=K.useState(!1),[z,Y]=K.useState(null),[ne,W]=K.useState(null),[oe,ce]=K.useState(""),[pe,Te]=K.useState("HATCHBACK"),[Ee,Ae]=K.useState([]),[se,Ve]=K.useState(""),[B,X]=K.useState("09:00"),[le,N]=K.useState(""),[w,C]=K.useState(()=>localStorage.getItem("erp_pref_tax_enabled")==="true"),[I,J]=K.useState(()=>{const R=localStorage.getItem("erp_pref_tax_inclusive");return R!==null?R==="true":!0});K.useEffect(()=>{localStorage.setItem("erp_pref_tax_enabled",String(w))},[w]),K.useEffect(()=>{localStorage.setItem("erp_pref_tax_inclusive",String(I))},[I]);const[F,ue]=K.useState(""),[V,be]=K.useState(!1),[Ie,de]=K.useState(""),[Fe,nt]=K.useState([]),[ct,Ue]=K.useState("CASH"),re=t.filter(R=>Fe.includes(R.id)),Me=re.reduce((R,me)=>R+(me.prices[pe]||me.basePrice),0);let gt=0,yt=0,tt=0;w?I?(tt=Me,gt=tt/1.18,yt=tt-gt):(gt=Me,yt=gt*.18,tt=gt+yt):(gt=Me,yt=0,tt=Me);const Xe=i.filter(R=>R.status!=="INVOICED"),jt=i.filter(R=>R.status==="INVOICED").filter(R=>R.date.startsWith(_)).sort((R,me)=>new Date(me.date).getTime()-new Date(R.date).getTime()),Ut=y!=="STAFF",Nt=oy.filter(R=>R.model.toLowerCase().includes(F.toLowerCase())||R.brand.toLowerCase().includes(F.toLowerCase())).slice(0,5),Dt=R=>{ue(`${R.brand} ${R.model}`),Te(R.segment),be(!1)},bt=()=>{Ie&&!Fe.includes(Ie)&&(nt([...Fe,Ie]),de(""))},Gt=R=>{nt(Fe.filter(me=>me!==R))},Vt=()=>{q(null),$s(),D(!0)},Zt=R=>{Ut&&(q(R.id),ce(R.customerId),Te(R.segment),nt(R.serviceIds),Ae(R.assignedStaffIds),Ve(R.notes),X(R.timeIn||"09:00"),N(R.referredBy||""),ue(R.vehicleDetails?`${R.vehicleDetails.make} ${R.vehicleDetails.model}`:""),R.taxEnabled!==void 0&&C(R.taxEnabled),R.taxInclusive!==void 0&&J(R.taxInclusive),D(!0))},jn=R=>{Ut&&window.confirm("Are you sure?")&&h(R)},Un=R=>{var Ce,st,He,vt,xn;if(R.preventDefault(),!oe||Fe.length===0)return;const me=F?{id:"v-temp",make:F.split(" ")[0]||"Unknown",model:F.substring(F.indexOf(" ")+1)||"Unknown",year:new Date().getFullYear(),licensePlate:"NEW",color:"",segment:pe}:void 0,ye={id:E||`j-${Date.now()}`,ticketNumber:E?((Ce=i.find(Ft=>Ft.id===E))==null?void 0:Ce.ticketNumber)||"ERR":`T-${1e3+i.length+1}`,date:E?((st=i.find(Ft=>Ft.id===E))==null?void 0:st.date)||new Date().toISOString().split("T")[0]:new Date().toISOString().split("T")[0],timeIn:B,customerId:oe,vehicleId:"v-new",vehicleDetails:me,segment:pe,serviceIds:Fe,assignedStaffIds:Ee,referredBy:le||void 0,status:E&&((He=i.find(Ft=>Ft.id===E))==null?void 0:He.status)||"RECEIVED",subtotal:gt,tax:yt,total:tt,taxEnabled:w,taxInclusive:I,notes:se||"",postedToGL:E&&((vt=i.find(Ft=>Ft.id===E))==null?void 0:vt.postedToGL)||!1,paymentStatus:E?(xn=i.find(Ft=>Ft.id===E))==null?void 0:xn.paymentStatus:"UNPAID"};E?c(ye):l(ye),D(!1),$s()},$s=()=>{ce(""),de(""),nt([]),Te("HATCHBACK"),Ae([]),Ve(""),ue(""),X(new Date().toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})),N("")},ji=R=>{Y(R),Ue("CASH"),Q(!0)},Ui=()=>{if(z){p(z.id,"INVOICED",ct),Q(!1);const R={...z,paymentStatus:"PAID"};Y(null),te(R)}},$n=R=>{const me=["RECEIVED","IN_PROGRESS","QC_CHECK","READY","INVOICED"],ye=me.indexOf(R.status);if(ye>=0&&ye<me.length-1){const Ce=me[ye+1];Ce!=="INVOICED"&&p(R.id,Ce)}},te=R=>{W(R),setTimeout(()=>{document.body.classList.add("printing-invoice"),window.print(),document.body.classList.remove("printing-invoice"),W(null)},300)},ae=({job:R})=>{const me=e.find(He=>He.id===R.customerId),ye=t.filter(He=>R.serviceIds.includes(He.id)),Ce=R.taxInclusive??!0,st=R.taxEnabled??!1;return rn.createPortal(o.jsxs("div",{className:"invoice-container-print bg-white p-10 font-sans text-black",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-4 border-black pb-8 mb-8",children:[o.jsxs("div",{className:"flex gap-8 items-center",children:[o.jsx("img",{src:g,alt:"Logo",className:"w-24 h-24 object-contain rounded"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter mb-1",children:"Auto Dazzle"}),o.jsx("p",{className:"text-sm font-bold text-slate-600 tracking-widest uppercase",children:"Premium Detailing Spa"}),o.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Premium Car Care Center"}),o.jsx("p",{className:"text-sm text-slate-500",children:"+91 98765 43210 | autodazzle.spa"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("h2",{className:"text-4xl font-black text-black uppercase tracking-tighter",children:"Tax Invoice"}),o.jsxs("p",{className:"text-xl font-bold text-slate-700 mt-2",children:["No: #",R.ticketNumber]}),o.jsxs("p",{className:"text-sm font-bold text-slate-400 mt-1 uppercase",children:["Date: ",R.date]}),o.jsxs("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase",children:["Time: ",R.timeIn]})]})]}),o.jsxs("div",{className:"flex justify-between mb-12 px-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-black uppercase text-slate-400 tracking-widest mb-2",children:"Billed To"}),o.jsx("h3",{className:"text-2xl font-black text-black",children:me==null?void 0:me.name}),o.jsx("p",{className:"text-lg font-medium text-slate-700",children:me==null?void 0:me.phone}),o.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:(me==null?void 0:me.address)||"N/A"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs font-black uppercase text-slate-400 tracking-widest mb-2",children:"Vehicle Profile"}),o.jsx("h3",{className:"text-xl font-black text-black",children:R.segment}),o.jsxs("p",{className:"text-sm font-bold text-slate-600 uppercase tracking-widest mt-1",children:["Status: ",R.paymentStatus]})]})]}),o.jsxs("table",{className:"w-full text-left mb-12 border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b-2 border-black",children:[o.jsx("th",{className:"py-4 font-black uppercase text-xs tracking-widest",children:"Service Description"}),o.jsx("th",{className:"py-4 font-black uppercase text-xs tracking-widest text-right",children:"Amount (INR)"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:ye.map(He=>o.jsxs("tr",{children:[o.jsxs("td",{className:"py-6",children:[o.jsx("p",{className:"font-black text-xl text-black",children:He.name}),o.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest mt-1",children:He.category})]}),o.jsxs("td",{className:"py-6 text-right font-black text-xl",children:["",(He.prices[R.segment]||He.basePrice).toLocaleString()]})]},He.id))})]}),o.jsx("div",{className:"flex justify-end pr-2",children:o.jsx("div",{className:"w-1/2 space-y-4",children:st?Ce?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-500 uppercase tracking-widest border-b-2 border-slate-100 pb-4",children:[o.jsx("span",{children:"Includes GST (18%)"}),o.jsxs("span",{children:["",R.tax.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-4xl font-black text-black pt-2",children:[o.jsx("span",{children:"Total Payable"}),o.jsxs("span",{children:["",R.total.toLocaleString()]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-500 uppercase tracking-widest",children:[o.jsx("span",{children:"Subtotal"}),o.jsxs("span",{children:["",R.subtotal.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm font-bold text-slate-500 uppercase tracking-widest border-b-2 border-slate-100 pb-4",children:[o.jsx("span",{children:"GST (18%)"}),o.jsxs("span",{children:["",R.tax.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-4xl font-black text-black pt-2",children:[o.jsx("span",{children:"TOTAL"}),o.jsxs("span",{children:["",R.total.toLocaleString()]})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex justify-between text-4xl font-black text-black pt-2 border-t-2 border-slate-200",children:[o.jsx("span",{children:"TOTAL DUE"}),o.jsxs("span",{children:["",R.total.toLocaleString()]})]})})})}),o.jsxs("div",{className:"mt-20 pt-10 border-t-2 border-slate-100 text-center",children:[o.jsx("p",{className:"text-xl font-black text-black italic",children:'"Experience the Dazzle!"'}),o.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mt-4",children:"This is a computer generated invoice. No signature required."})]})]}),document.body)};return o.jsxs("div",{className:"space-y-6",children:[ne&&o.jsx(ae,{job:ne}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-200 print:hidden",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 text-blue-700 rounded-md",children:o.jsx(No,{size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Job Card Queue"}),o.jsxs("div",{className:"flex gap-4 mt-1",children:[o.jsx("button",{onClick:()=>S("QUEUE"),className:`text-xs font-bold uppercase pb-0.5 border-b-2 transition-all ${b==="QUEUE"?"text-blue-700 border-blue-700":"text-slate-400 border-transparent"}`,children:"Active"}),o.jsx("button",{onClick:()=>S("HISTORY"),className:`text-xs font-bold uppercase pb-0.5 border-b-2 transition-all ${b==="HISTORY"?"text-blue-700 border-blue-700":"text-slate-400 border-transparent"}`,children:"History"})]})]})]}),o.jsxs("button",{onClick:Vt,className:"bg-red-600 text-white px-6 py-2.5 rounded-md text-sm font-bold flex items-center shadow-md hover:bg-red-700 transition-all uppercase",children:[o.jsx(ga,{size:18,className:"mr-2"})," New Ticket"]})]}),b==="QUEUE"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 print:hidden",children:Xe.map(R=>{const me=e.find(Ce=>Ce.id===R.customerId),ye=t.filter(Ce=>R.serviceIds.includes(Ce.id)).map(Ce=>Ce.name).join(", ");return o.jsxs("div",{onClick:()=>Zt(R),className:"bg-white rounded-lg shadow-sm border border-slate-200 p-5 hover:shadow-md transition-all relative overflow-hidden flex flex-col justify-between group cursor-pointer",children:[o.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${R.status==="READY"?"bg-green-500":"bg-blue-500"}`}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:[R.ticketNumber,"  ",R.segment]}),o.jsx("h3",{className:"font-bold text-slate-800 text-lg truncate w-40",children:(me==null?void 0:me.name)||"Walk-in"})]}),o.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase ${R.status==="READY"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:R.status})]}),o.jsxs("div",{className:"pl-3 mb-4",children:[o.jsx("p",{className:"text-xs text-slate-600 font-medium line-clamp-2",children:ye}),o.jsxs("p",{className:"text-[10px] text-slate-400 mt-2 font-mono flex items-center gap-1",children:[o.jsx(Tx,{size:10})," ",R.timeIn]})]})]}),o.jsxs("div",{className:"pl-3 pt-4 border-t border-slate-100 flex justify-between items-center",onClick:Ce=>Ce.stopPropagation(),children:[o.jsxs("span",{className:"text-lg font-black text-slate-900",children:["",R.total.toLocaleString()]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>te(R),className:"p-2 text-slate-400 hover:text-slate-800",title:"Print Invoice",children:o.jsx(_i,{size:16})}),R.status==="READY"?o.jsx("button",{onClick:()=>ji(R),className:"px-4 py-2 bg-green-600 text-white rounded text-xs font-bold uppercase shadow-sm",children:"BILL & PAY"}):o.jsx("button",{onClick:()=>$n(R),className:"px-3 py-1.5 bg-slate-900 text-white rounded text-xs font-bold uppercase",children:"NEXT"}),Ut&&o.jsx("button",{onClick:()=>jn(R.id),className:"p-2 text-slate-300 hover:text-red-500",children:o.jsx(Hs,{size:16})})]})]})]},R.id)})}),b==="HISTORY"&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden print:hidden",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold text-[10px] uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4",children:"Job Info"}),o.jsx("th",{className:"px-6 py-4",children:"Customer"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"}),o.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:jt.map(R=>{var me;return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("span",{className:"font-bold text-slate-900 block",children:R.ticketNumber}),o.jsxs("span",{className:"text-xs text-slate-500",children:[R.date," ",R.timeIn]})]}),o.jsx("td",{className:"px-6 py-4 font-bold",children:(me=e.find(ye=>ye.id===R.customerId))==null?void 0:me.name}),o.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["",R.total.toLocaleString()]}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>te(R),className:"text-slate-400 hover:text-slate-800",title:"Print Invoice",children:o.jsx(_i,{size:16})}),Ut&&o.jsx("button",{onClick:()=>jn(R.id),className:"text-slate-300 hover:text-red-500",children:o.jsx(Hs,{size:16})})]})})]},R.id)})})]})}),M&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-3xl max-h-[95vh] overflow-y-auto custom-scrollbar rounded-lg shadow-2xl text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50 sticky top-0 z-10",children:[o.jsx("h3",{className:"text-xl font-bold uppercase",children:E?"Edit Job":"New Job Card"}),o.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:24})})]}),o.jsxs("form",{onSubmit:Un,className:"p-6 space-y-6",children:[y==="STAFF"&&E&&o.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 text-amber-800 text-xs font-bold flex items-center gap-2 rounded",children:[o.jsx(Vl,{size:14})," STAFF ROLE: Editing existing tickets is restricted."]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Customer"}),o.jsxs("select",{required:!0,disabled:y==="STAFF"&&!!E,value:oe,onChange:R=>ce(R.target.value),className:"w-full p-2.5 border rounded-md text-sm bg-white text-black disabled:bg-slate-50",children:[o.jsx("option",{value:"",children:"Select Customer..."}),e.map(R=>o.jsxs("option",{value:R.id,children:[R.name," (",R.phone,")"]},R.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Vehicle Model Search"}),o.jsx("input",{type:"text",placeholder:"Type to search (e.g. Swift)...",value:F,onChange:R=>{ue(R.target.value),be(!0)},onFocus:()=>be(!0),className:"w-full p-2.5 border rounded-md text-sm bg-white text-black font-medium"}),V&&F&&o.jsxs("div",{className:"absolute z-20 w-full bg-white border border-slate-200 rounded-md shadow-lg max-h-48 overflow-y-auto mt-1",children:[Nt.map((R,me)=>o.jsxs("div",{onClick:()=>Dt(R),className:"p-2 hover:bg-slate-100 cursor-pointer text-sm",children:[o.jsxs("span",{className:"font-bold",children:[R.brand," ",R.model]})," ",o.jsxs("span",{className:"text-xs text-slate-500",children:["(",R.segment,")"]})]},me)),Nt.length===0&&o.jsx("div",{className:"p-2 text-xs text-slate-400",children:"No match found"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Vehicle Segment"}),o.jsxs("select",{required:!0,disabled:y==="STAFF"&&!!E,value:pe,onChange:R=>Te(R.target.value),className:"w-full p-2.5 border rounded-md text-sm bg-white text-black disabled:bg-slate-50 font-bold",children:[o.jsx("option",{value:"HATCHBACK",children:"Hatchback"}),o.jsx("option",{value:"SEDAN",children:"Sedan"}),o.jsx("option",{value:"SUV_MUV",children:"SUV / MUV"}),o.jsx("option",{value:"LUXURY",children:"Luxury"}),o.jsx("option",{value:"BIKE",children:"Bike"}),o.jsx("option",{value:"SCOOTY",children:"Scooty"}),o.jsx("option",{value:"BULLET",children:"Bullet"}),o.jsx("option",{value:"AUTORICKSHAW",children:"Auto Rickshaw"}),o.jsx("option",{value:"AUTOTAXI",children:"Auto Taxi"}),o.jsx("option",{value:"PICKUP_SMALL",children:"Pickup (Small)"}),o.jsx("option",{value:"PICKUP_LARGE",children:"Pickup (Large)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Time In"}),o.jsx("input",{type:"time",value:B,onChange:R=>X(R.target.value),className:"w-full p-2.5 border rounded-md text-sm bg-white text-black"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Referred By (Staff)"}),o.jsxs("select",{value:le,onChange:R=>N(R.target.value),className:"w-full p-2.5 border rounded-md text-sm bg-white text-black",children:[o.jsx("option",{value:"",children:"-- None --"}),a.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Assigned Staff"}),o.jsx("div",{className:"w-full p-2 border border-slate-300 rounded-md bg-white h-32 overflow-y-auto custom-scrollbar space-y-1",children:a.map(R=>{const me=Ee.includes(R.id);return o.jsxs("div",{onClick:()=>{Ae(me?ye=>ye.filter(Ce=>Ce!==R.id):ye=>[...ye,R.id])},className:`flex items-center gap-2 p-1.5 rounded cursor-pointer transition-colors ${me?"bg-blue-50 border border-blue-100":"hover:bg-slate-50 border border-transparent"}`,children:[o.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${me?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:me&&o.jsx(W_,{size:10,className:"text-white",strokeWidth:4})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:`text-xs font-bold ${me?"text-blue-800":"text-slate-700"}`,children:R.name})}),o.jsx("span",{className:"text-[9px] font-bold uppercase text-slate-400 bg-slate-100 px-1 rounded",children:R.role})]},R.id)})})]}),o.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border",children:[o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsxs("select",{disabled:y==="STAFF"&&!!E,value:Ie,onChange:R=>de(R.target.value),className:"flex-1 p-2 border rounded-md text-sm bg-white text-black disabled:bg-slate-50",children:[o.jsx("option",{value:"",children:"Add Service..."}),t.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))]}),o.jsx("button",{type:"button",disabled:y==="STAFF"&&!!E,onClick:bt,className:"px-4 py-2 bg-slate-800 text-white rounded text-xs font-bold uppercase disabled:bg-slate-400",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:re.map(R=>o.jsxs("div",{className:"flex justify-between items-center bg-white p-2 rounded border",children:[o.jsx("span",{className:"text-sm font-bold",children:R.name}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm font-black",children:["",R.prices[pe]]}),(!E||Ut)&&o.jsx("button",{type:"button",onClick:()=>Gt(R.id),className:"text-red-500",children:o.jsx(Hs,{size:16})})]})]},R.id))})]}),o.jsxs("div",{className:"flex flex-col gap-2 pt-4 border-t",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:R=>C(R.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase",children:"Charge GST?"})]}),w&&o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:I,onChange:R=>J(R.target.checked),className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase",children:"Inclusive?"})]})]}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase",children:"Grand Total"}),o.jsxs("span",{className:"text-3xl font-black text-slate-900",children:["",tt.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),w&&I&&o.jsxs("p",{className:"text-[10px] text-slate-400 text-right",children:["Includes 18% GST: ",yt.toLocaleString(void 0,{maximumFractionDigits:2})]}),w&&!I&&o.jsxs("p",{className:"text-[10px] text-slate-400 text-right",children:["+ 18% GST: ",yt.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),(!E||Ut)&&o.jsx("button",{type:"submit",className:"w-full py-4 bg-red-600 text-white font-bold uppercase rounded-md shadow-md",children:E?"Update Job":"Create Ticket"})]})]})}),document.body),G&&z&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-2xl p-6 text-black",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold uppercase",children:"Process Billing"}),o.jsx("button",{onClick:()=>Q(!1),className:"text-slate-400",children:o.jsx(gn,{size:20})})]}),o.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border mb-6 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase",children:"Grand Total"}),o.jsxs("span",{className:"text-3xl font-black text-green-600",children:["",z.total.toLocaleString()]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:["CASH","UPI","CARD"].map(R=>o.jsxs("button",{onClick:()=>Ue(R),className:`p-4 rounded-lg border flex flex-col items-center gap-2 ${ct===R?"bg-slate-900 text-white":"hover:bg-slate-50"}`,children:[R==="CASH"&&o.jsx(Sx,{size:24}),R==="UPI"&&o.jsx(Rx,{size:24}),R==="CARD"&&o.jsx(nT,{size:24}),o.jsx("span",{className:"text-[10px] font-bold",children:R})]},R))}),o.jsx("button",{onClick:Ui,className:"w-full py-4 bg-green-600 text-white font-bold uppercase rounded-lg shadow-lg",children:"Confirm & Print"})]})}),document.body)]})},cM=()=>{var y;const{purchases:i,addPurchase:e}=Mn(),[t,a]=K.useState(!1),[l,c]=K.useState({date:new Date().toISOString().split("T")[0],docNumber:"",vendorName:"",itemName:"",quantity:1,unit:"Units",rate:0,category:"GENERAL_EXPENSE"}),h=l.quantity*l.rate,p=g=>{g.preventDefault();const b={id:`po-${Date.now()}`,...l,amount:h,status:"PAID"};e(b),a(!1),c({date:new Date().toISOString().split("T")[0],docNumber:"",vendorName:"",itemName:"",quantity:1,unit:"Units",rate:0,category:"GENERAL_EXPENSE"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Purchase Registry"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Record Expenses & Supply Orders"})]}),o.jsxs("button",{onClick:()=>a(!0),className:"bg-red-600 text-white px-6 py-2 rounded-md text-sm font-bold uppercase tracking-wide flex items-center shadow-sm hover:bg-red-700 transition-all",children:[o.jsx(ga,{size:18,className:"mr-2"})," Add Expense"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Expenses"}),o.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["",i.reduce((g,b)=>g+b.amount,0).toLocaleString()]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Suppliers"}),o.jsx("p",{className:"text-2xl font-black text-blue-600",children:new Set(i.map(g=>g.vendorName)).size})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Last Invoice"}),o.jsx("p",{className:"text-xl font-black text-indigo-600 font-mono",children:((y=i[i.length-1])==null?void 0:y.docNumber)||"N/A"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-slate-200 bg-slate-50",children:o.jsx("h3",{className:"font-bold text-slate-800 uppercase text-sm",children:"Expense Ledger"})}),i.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(vT,{size:48,className:"mx-auto text-slate-300 mb-4"}),o.jsx("h4",{className:"text-lg font-bold text-slate-700 uppercase",children:"No Expenses"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Start recording outflows to see data here."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-200 font-bold text-[10px] uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3",children:"Date"}),o.jsx("th",{className:"px-6 py-3",children:"Vendor"}),o.jsx("th",{className:"px-6 py-3 text-center",children:"Quantity"}),o.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 font-medium text-slate-700",children:i.map(g=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-3",children:[o.jsx("div",{className:"text-slate-900 font-bold",children:g.date}),o.jsx("div",{className:"text-[10px] font-mono text-slate-400 uppercase",children:g.docNumber||"-"})]}),o.jsxs("td",{className:"px-6 py-3",children:[o.jsx("div",{className:"text-slate-900 font-bold",children:g.vendorName}),o.jsx("div",{className:"text-[10px] text-blue-600 uppercase",children:g.itemName})]}),o.jsxs("td",{className:"px-6 py-3 text-center",children:[g.quantity," ",o.jsx("span",{className:"text-[10px] text-slate-400",children:g.unit})]}),o.jsxs("td",{className:"px-6 py-3 text-right font-black text-slate-900",children:["",g.amount.toLocaleString()]})]},g.id))})]})})]}),t&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-2xl overflow-hidden text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-black uppercase",children:"Record Expense"}),o.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Date"}),o.jsx("input",{type:"date",required:!0,value:l.date,onChange:g=>c({...l,date:g.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Ref / Invoice #"}),o.jsx("input",{required:!0,placeholder:"INV-123",value:l.docNumber,onChange:g=>c({...l,docNumber:g.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Supplier"}),o.jsx("input",{required:!0,value:l.vendorName,onChange:g=>c({...l,vendorName:g.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Item"}),o.jsx("input",{required:!0,value:l.itemName,onChange:g=>c({...l,itemName:g.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Qty"}),o.jsx("input",{type:"number",required:!0,value:l.quantity,onChange:g=>c({...l,quantity:parseInt(g.target.value)}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Unit"}),o.jsx("input",{required:!0,value:l.unit,onChange:g=>c({...l,unit:g.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Rate ()"}),o.jsx("input",{type:"number",step:"0.01",required:!0,value:l.rate,onChange:g=>c({...l,rate:parseFloat(g.target.value)}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]})]}),o.jsxs("div",{className:"bg-slate-100 p-3 rounded flex justify-between items-center text-slate-800 mt-2",children:[o.jsx("span",{className:"font-bold uppercase text-xs",children:"Total"}),o.jsxs("span",{className:"text-lg font-black",children:["",h.toLocaleString()]})]}),o.jsxs("div",{className:"pt-4 flex gap-4",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 py-2.5 text-slate-600 font-bold border border-slate-300 rounded hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-[2] py-2.5 bg-slate-900 text-white font-bold uppercase rounded shadow-sm hover:bg-black",children:"Save Record"})]})]})]})}),document.body)]})},ex=i=>["BIKE","SCOOTY","BULLET"].includes(i),uM=()=>{const{staff:i,addStaff:e,removeStaff:t,executePayroll:a,jobs:l,services:c,logoUrl:h,payrollHistory:p}=Mn(),[y,g]=K.useState("MANAGEMENT"),[b,S]=K.useState(!1),[_,A]=K.useState(!1),[M,D]=K.useState(null),[E,q]=K.useState(new Date().toISOString().slice(0,7)),[G,Q]=K.useState({}),[z,Y]=K.useState(null),[ne,W]=K.useState({name:"",role:"Washer",email:"",phone:"",baseSalary:12e3,commissionRate:.05}),oe=K.useMemo(()=>p.find(N=>N.month===E),[p,E]),ce=(N,w,C)=>{oe||Q(I=>{const J=I[N]||{lateFine:0,leaveFine:0,advance:0,loan:0,other:0};return{...I,[N]:{...J,[w]:parseFloat(C)||0}}})},pe=K.useMemo(()=>{const N=l.filter(re=>re.date.startsWith(E)&&re.status==="INVOICED"),w={};i.forEach(re=>{w[re.id]={baseSalary:re.baseSalary,dailyLimitIncentive:0,eveningLimitIncentive:0,eveningProfitShare:0,sundayProfitShare:0,referralComm:0,premiumIncentive:0,workingBonus:0,washingPoolShare:0,eveningDays:new Set,jobCount:0,revGen:0}});const C=re=>parseInt((re==null?void 0:re.split(":")[0])||"0"),I=re=>C(re)>=18,J=re=>C(re)>=9&&C(re)<18,F=re=>new Date(re).getDay()===0,ue={};N.forEach(re=>{ue[re.date]||(ue[re.date]=[]),ue[re.date].push(re)}),Object.keys(ue).forEach(re=>{const Me=ue[re],gt=Me.filter(Nt=>J(Nt.timeIn));let yt=0,tt=0;const Xe=new Set;gt.forEach(Nt=>{ex(Nt.segment)?tt++:yt++,Nt.assignedStaffIds.forEach(Dt=>Xe.add(Dt))});let jt=0;if(yt>10&&(jt+=(yt-10)*25),tt>10&&(jt+=(tt-10)*10),jt>0&&Xe.size>0){const Nt=jt/Xe.size;Xe.forEach(Dt=>{w[Dt]&&(w[Dt].dailyLimitIncentive+=Nt)})}const Ut=Me.filter(Nt=>I(Nt.timeIn));if(Ut.length>0){let Nt=0;const Dt=new Set;let bt=0;if(Ut.forEach(Gt=>{ex(Gt.segment)?Nt+=10:Nt+=25,bt+=Gt.total,Gt.assignedStaffIds.forEach(Vt=>{Dt.add(Vt),w[Vt]&&w[Vt].eveningDays.add(re)})}),Dt.size>0){const Gt=Nt/Dt.size;Dt.forEach(Un=>{w[Un]&&(w[Un].eveningLimitIncentive+=Gt)});const jn=bt*.4*.1/Dt.size;Dt.forEach(Un=>{w[Un]&&(w[Un].eveningProfitShare+=jn)})}}if(F(re)){const bt=Me.reduce((Vt,Zt)=>Vt+Zt.total,0)*.4*.1,Gt=new Set;if(Me.forEach(Vt=>Vt.assignedStaffIds.forEach(Zt=>Gt.add(Zt))),Gt.size>0){const Vt=bt/Gt.size;Gt.forEach(Zt=>{w[Zt]&&(w[Zt].sundayProfitShare+=Vt)})}}}),N.forEach(re=>{re.referredBy&&w[re.referredBy]&&(w[re.referredBy].referralComm+=re.total*.1);const Me=c.filter(Xe=>re.serviceIds.includes(Xe.id)),gt=Me.some(Xe=>Xe.name.toLowerCase().includes("polish")||Xe.sku.includes("POL")),yt=Me.some(Xe=>Xe.name.toLowerCase().includes("ceramic")||Xe.name.toLowerCase().includes("graphene"));let tt=0;if(yt?re.total>=3e4?tt=6e3:tt=4e3:gt&&(re.total>=6e3?tt=600:re.total>=2500?tt=400:(re.total<2e3,tt=200)),tt>0&&re.assignedStaffIds.length>0){const Xe=tt/re.assignedStaffIds.length;re.assignedStaffIds.forEach(jt=>{w[jt]&&(w[jt].premiumIncentive+=Xe)})}}),i.forEach(re=>{const Me=w[re.id].eveningDays.size;Me>=20?w[re.id].workingBonus=2e3:Me>=15&&(w[re.id].workingBonus=1500)});const de=N.filter(re=>c.some(Me=>re.serviceIds.includes(Me.id)&&Me.category==="WASHING")).reduce((re,Me)=>re+Me.total,0)*.4*.1,Fe=de*.6,nt=de*.4,ct=i.filter(re=>re.role==="Washer"),Ue=i.filter(re=>re.role==="Detailer");if(ct.length>0){const re=Fe/ct.length;ct.forEach(Me=>w[Me.id].washingPoolShare+=re)}if(Ue.length>0){const re=nt/Ue.length;Ue.forEach(Me=>w[Me.id].washingPoolShare+=re)}return i.map(re=>{const Me=w[re.id],gt=Me.eveningLimitIncentive+Me.eveningProfitShare,yt=Me.dailyLimitIncentive+gt+Me.sundayProfitShare+Me.premiumIncentive+Me.referralComm+Me.washingPoolShare+Me.workingBonus,tt=Me.baseSalary+yt,Xe=G[re.id]||{lateFine:0,leaveFine:0,advance:0,loan:0,other:0},jt=Xe.lateFine+Xe.leaveFine+Xe.advance+Xe.loan+Xe.other,Ut=tt-jt;return{...re,...Me,totalEvening:gt,grossIncentives:yt,grossPay:tt,deductionsObj:Xe,totalDeduction:jt,netPay:Ut}})},[i,l,c,E,G]),Te=oe?oe.records:pe,Ee=K.useMemo(()=>Te.reduce((N,w)=>({base:N.base+w.baseSalary,incentive:N.incentive+w.grossIncentives,deductions:N.deductions+w.totalDeduction,net:N.net+w.netPay}),{base:0,incentive:0,deductions:0,net:0}),[Te]),Ae=()=>{oe||window.confirm(`CONFIRM PAYROLL LOCK:

1. This will disburse ${Ee.net.toLocaleString()} to expenses.
2. A PERMANENT SNAPSHOT will be created.
3. Future changes to OT rates/Commission logic will NOT affect this record.

Are you sure you want to finalize?`)&&(A(!0),setTimeout(()=>{a(E,Te),A(!1),alert(" Payroll Finalized! Historical data is now safe.")},1500))},se=N=>{D(N),setTimeout(()=>{document.body.classList.add("printing-invoice"),window.print(),document.body.classList.remove("printing-invoice"),D(null)},300)},Ve=N=>{N.preventDefault();const w={id:`st-${Date.now()}`,...ne,active:!0,joinedDate:new Date().toISOString().split("T")[0],currentAdvance:0,loanBalance:0,role:ne.role};e(w),S(!1),W({name:"",role:"Washer",email:"",phone:"",baseSalary:12e3,commissionRate:.05})},B=z?i.find(N=>N.id===z):null,X=z?G[z]||{lateFine:0,leaveFine:0,advance:0,loan:0,other:0}:null,le=({data:N})=>rn.createPortal(o.jsxs("div",{className:"invoice-container-print bg-white p-12 font-sans text-black",children:[o.jsxs("div",{className:"flex justify-between items-start border-b-2 border-slate-800 pb-6 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("img",{src:h,alt:"Logo",className:"w-20 h-20 object-contain rounded"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-black uppercase tracking-tighter",children:"Auto Dazzle"}),o.jsx("p",{className:"text-sm font-bold text-slate-600 uppercase tracking-widest",children:"Detailing Spa"}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Official Salary Slip"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Payslip"}),o.jsx("p",{className:"text-sm font-bold text-slate-600 uppercase",children:new Date(E).toLocaleDateString("en-US",{month:"long",year:"numeric"})}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Generated: ",new Date().toLocaleDateString()]})]})]}),o.jsx("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 mb-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Employee Name"}),o.jsx("p",{className:"text-lg font-black text-slate-900",children:N.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Designation"}),o.jsx("p",{className:"text-lg font-bold text-slate-700",children:N.role})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Employee ID"}),o.jsx("p",{className:"text-sm font-bold text-slate-700 font-mono",children:N.id})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Contact"}),o.jsx("p",{className:"text-sm font-bold text-slate-700",children:N.phone})]})]})}),o.jsxs("div",{className:"flex gap-8 mb-8",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"bg-slate-900 text-white p-2 text-xs font-bold uppercase tracking-widest text-center mb-0",children:"Earnings"}),o.jsx("table",{className:"w-full text-sm border-l border-r border-b border-slate-200",children:o.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.jsxs("tr",{className:"bg-slate-50",children:[o.jsx("td",{className:"p-3 font-bold text-slate-600",children:"Basic Salary"}),o.jsxs("td",{className:"p-3 text-right font-black text-slate-900",children:["",N.baseSalary.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Daily Limit (9-6)"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.dailyLimitIncentive.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Evening OT (Limit + Profit)"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.totalEvening.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Sunday Profit Share"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.sundayProfitShare.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Premium / Job"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.premiumIncentive.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Washing Pool"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.washingPoolShare.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Referral Comm."}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.referralComm.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Monthly Shift Bonus"}),o.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["",N.workingBonus.toLocaleString()]})]}),o.jsxs("tr",{className:"bg-green-50 border-t-2 border-green-100",children:[o.jsx("td",{className:"p-3 font-black text-green-800 uppercase text-xs",children:"Gross Earnings"}),o.jsxs("td",{className:"p-3 text-right font-black text-green-700",children:["",N.grossPay.toLocaleString()]})]})]})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"bg-slate-900 text-white p-2 text-xs font-bold uppercase tracking-widest text-center mb-0",children:"Deductions"}),o.jsx("table",{className:"w-full text-sm border-l border-r border-b border-slate-200",children:o.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Late Fine"}),o.jsxs("td",{className:"p-3 text-right font-bold text-red-600",children:["",N.deductionsObj.lateFine.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Leave Fine"}),o.jsxs("td",{className:"p-3 text-right font-bold text-red-600",children:["",N.deductionsObj.leaveFine.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Advance Recovery"}),o.jsxs("td",{className:"p-3 text-right font-bold text-red-600",children:["",N.deductionsObj.advance.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Loan EMI"}),o.jsxs("td",{className:"p-3 text-right font-bold text-red-600",children:["",N.deductionsObj.loan.toLocaleString()]})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"p-3 text-slate-600",children:"Other Deductions"}),o.jsxs("td",{className:"p-3 text-right font-bold text-red-600",children:["",N.deductionsObj.other.toLocaleString()]})]}),o.jsx("tr",{children:o.jsx("td",{colSpan:2,className:"p-3 text-transparent",children:"."})}),o.jsx("tr",{children:o.jsx("td",{colSpan:2,className:"p-3 text-transparent",children:"."})}),o.jsx("tr",{children:o.jsx("td",{colSpan:2,className:"p-3 text-transparent",children:"."})}),o.jsxs("tr",{className:"bg-red-50 border-t-2 border-red-100",children:[o.jsx("td",{className:"p-3 font-black text-red-800 uppercase text-xs",children:"Total Deductions"}),o.jsxs("td",{className:"p-3 text-right font-black text-red-700",children:["",N.totalDeduction.toLocaleString()]})]})]})})]})]}),o.jsxs("div",{className:"border-t-2 border-b-2 border-slate-900 py-6 mb-12 flex justify-between items-center",children:[o.jsx("span",{className:"text-xl font-black uppercase tracking-widest",children:"Net Payable Salary"}),o.jsxs("span",{className:"text-4xl font-black",children:["",N.netPay.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between mt-20 pt-8",children:[o.jsxs("div",{className:"text-center w-48",children:[o.jsx("div",{className:"border-b border-slate-300 mb-2"}),o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Employer Signature"})]}),o.jsxs("div",{className:"text-center w-48",children:[o.jsx("div",{className:"border-b border-slate-300 mb-2"}),o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Employee Signature"})]})]}),o.jsx("div",{className:"mt-12 text-center",children:o.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"System Generated via Auto Dazzle ERP  Confidential"})})]}),document.body);return o.jsxs("div",{className:"space-y-6",children:[M&&o.jsx(le,{data:M}),o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Staff & Payroll"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"HR Management"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>g("MANAGEMENT"),className:`px-4 py-2 rounded-md text-xs font-bold uppercase transition-all ${y==="MANAGEMENT"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Staff List"}),o.jsx("button",{onClick:()=>g("PAYROLL"),className:`px-4 py-2 rounded-md text-xs font-bold uppercase transition-all ${y==="PAYROLL"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-300"}`,children:"Payroll Run"})]})]}),y==="MANAGEMENT"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>S(!0),className:"bg-red-600 text-white px-4 py-2 rounded-md text-xs font-bold uppercase flex items-center gap-2 hover:bg-red-700 shadow-sm",children:[o.jsx(ET,{size:16})," Add Staff"]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(N=>o.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200 shadow-sm hover:shadow-md transition-all relative group",children:[o.jsx("button",{onClick:()=>t(N.id),className:"absolute top-4 right-4 text-slate-300 hover:text-red-500",children:o.jsx(Hs,{size:16})}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-lg font-bold text-slate-700",children:N.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-slate-800",children:N.name}),o.jsx("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded ${N.role==="Admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:N.role})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[o.jsx(Ax,{size:12})," ",N.email]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[o.jsx(kx,{size:12})," ",N.phone]})]}),o.jsxs("div",{className:"pt-3 border-t border-slate-100 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Base Salary"}),o.jsxs("p",{className:"text-sm font-black text-slate-800",children:["",N.baseSalary.toLocaleString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Joined"}),o.jsx("p",{className:"text-sm font-black text-slate-600",children:N.joinedDate})]})]})]},N.id))})]}),y==="PAYROLL"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`p-4 rounded-lg border flex flex-col md:flex-row gap-6 items-center ${oe?"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded ${oe?"bg-green-200 text-green-700":"bg-blue-100 text-blue-600"}`,children:oe?o.jsx(sT,{size:20}):o.jsx(_x,{size:20})}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase block",children:"Payroll Period"}),o.jsx("input",{type:"month",value:E,onChange:N=>q(N.target.value),className:"bg-white border border-slate-300 rounded text-sm font-bold p-1 text-slate-800 focus:outline-none focus:border-blue-500"})]})]}),o.jsx("div",{className:"flex-1 text-center md:text-left",children:oe?o.jsxs("div",{className:"group relative inline-block",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-green-100 text-green-800 border border-green-200 cursor-help",children:[o.jsx(Od,{size:14}),o.jsx("span",{className:"text-xs font-black uppercase",children:"Snapshot Secured"})]}),o.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 p-3 bg-slate-800 text-white text-[10px] rounded shadow-xl opacity-0 group-hover:opacity-100 transition-opacity z-50 pointer-events-none",children:"This payroll run is frozen in time. Any future changes to incentive logic, staff salaries, or OT rules will NOT alter these numbers."})]}):o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-100 text-blue-800 border border-blue-200",children:[o.jsx(Tx,{size:14}),o.jsx("span",{className:"text-xs font-black uppercase",children:"Draft Preview"})]})}),o.jsx("div",{className:"flex-1 text-right",children:oe?o.jsx("button",{disabled:!0,className:"px-6 py-3 rounded-lg text-xs font-black uppercase shadow-none bg-slate-200 text-slate-400 cursor-not-allowed",children:"Disbursed"}):o.jsx("button",{onClick:Ae,disabled:_,className:"px-6 py-3 rounded-lg text-xs font-black uppercase transition-all shadow-lg bg-green-600 text-white hover:bg-green-700",children:_?"Saving Snapshot...":"Finalize & Disburse"})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[o.jsx("thead",{className:"bg-slate-900 text-white border-b border-slate-800 font-bold text-[10px] uppercase",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-4 min-w-[150px]",children:"Employee"}),o.jsx("th",{className:"px-4 py-4 text-right",children:"Base Salary"}),o.jsx("th",{className:"px-4 py-4 text-right bg-blue-900",children:"Daily (9-6)"}),o.jsx("th",{className:"px-4 py-4 text-right bg-blue-900",children:"Evening OT"}),o.jsx("th",{className:"px-4 py-4 text-right bg-blue-900",children:"Sunday"}),o.jsx("th",{className:"px-4 py-4 text-right bg-purple-900",children:"Premium"}),o.jsx("th",{className:"px-4 py-4 text-right bg-purple-900",children:"Referral"}),o.jsx("th",{className:"px-4 py-4 text-right bg-purple-900",children:"Washing"}),o.jsx("th",{className:"px-4 py-4 text-right bg-emerald-900",children:"Shift Bonus"}),o.jsx("th",{className:"px-4 py-4 text-right",children:"Total Inc."}),o.jsx("th",{className:"px-4 py-4 text-right text-red-300",children:"Deductions"}),o.jsx("th",{className:"px-4 py-4 text-right bg-slate-800",children:"Net Payable"}),o.jsx("th",{className:"px-4 py-4 text-center",children:"Slip"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 font-medium text-slate-700",children:Te.map(N=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[o.jsxs("td",{className:"px-4 py-3",children:[o.jsx("div",{className:"font-bold text-slate-900",children:N.name}),o.jsx("div",{className:"text-[9px] text-slate-400 font-normal uppercase",children:N.role})]}),o.jsxs("td",{className:"px-4 py-3 text-right font-mono text-xs",children:["",N.baseSalary.toLocaleString()]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-blue-50/30",children:["",N.dailyLimitIncentive.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-blue-50/30",children:[o.jsxs("div",{className:"font-bold",children:["",N.totalEvening.toFixed(0)]}),o.jsxs("div",{className:"text-[9px] text-slate-400",children:[N.eveningDays instanceof Set?N.eveningDays.size:Array.isArray(N.eveningDays)?N.eveningDays.length:0," Shifts"]})]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-blue-50/30",children:["",N.sundayProfitShare.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-purple-50/30",children:["",N.premiumIncentive.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-purple-50/30",children:["",N.referralComm.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-purple-50/30",children:["",N.washingPoolShare.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right text-xs bg-emerald-50/30 font-bold text-emerald-600",children:["",N.workingBonus.toFixed(0)]}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-blue-600 bg-slate-50",children:["",N.grossIncentives.toLocaleString(void 0,{maximumFractionDigits:0})]}),o.jsx("td",{className:"px-4 py-3 text-right",children:o.jsxs("button",{onClick:()=>Y(N.id),disabled:!!oe,className:`flex items-center justify-end gap-2 w-full transition-colors ${oe?"text-slate-400 cursor-default":"text-red-600 hover:text-red-800"}`,children:[o.jsxs("span",{className:"font-bold text-sm",children:["",N.totalDeduction.toLocaleString()]}),!oe&&o.jsx(pT,{size:12,className:"opacity-50"}),oe&&o.jsx(Vl,{size:10,className:"opacity-50"})]})}),o.jsx("td",{className:"px-4 py-3 text-right bg-slate-50 border-l border-slate-200",children:o.jsxs("span",{className:"font-black text-slate-900 text-base",children:["",N.netPay.toLocaleString(void 0,{maximumFractionDigits:0})]})}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("button",{onClick:()=>se(N),className:"p-2 text-slate-400 hover:text-slate-800 hover:bg-slate-200 rounded transition-all",title:"Print Salary Slip",children:o.jsx(_i,{size:16})})})]},N.id))}),o.jsx("tfoot",{className:"bg-slate-100 border-t-2 border-slate-200",children:o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 font-black text-xs uppercase text-slate-600",children:"Totals"}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-xs",children:["",Ee.base.toLocaleString()]}),o.jsx("td",{colSpan:7,className:"text-center text-[10px] text-slate-400 uppercase tracking-widest",children:"Incentive Distribution"}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-xs text-blue-600",children:["",Ee.incentive.toLocaleString(void 0,{maximumFractionDigits:0})]}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-xs text-red-600",children:["",Ee.deductions.toLocaleString(void 0,{maximumFractionDigits:0})]}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-base text-slate-900",children:["",Ee.net.toLocaleString(void 0,{maximumFractionDigits:0})]}),o.jsx("td",{})]})})]})})})]}),b&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-2xl overflow-hidden text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-black uppercase",children:"Add New Staff"}),o.jsx("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("form",{onSubmit:Ve,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Full Name"}),o.jsx("input",{required:!0,value:ne.name,onChange:N=>W({...ne,name:N.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold focus:border-blue-500 outline-none text-black bg-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Job Role"}),o.jsxs("select",{value:ne.role,onChange:N=>W({...ne,role:N.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm bg-white focus:border-blue-500 outline-none text-black",children:[o.jsx("option",{children:"Washer"}),o.jsx("option",{children:"Detailer"}),o.jsx("option",{children:"Master Detailer"}),o.jsx("option",{children:"Ops Manager"}),o.jsx("option",{children:"Admin"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Base Salary ()"}),o.jsx("input",{type:"number",value:ne.baseSalary,onChange:N=>W({...ne,baseSalary:parseInt(N.target.value)}),className:"w-full p-2 border border-slate-300 rounded text-sm font-bold focus:border-blue-500 outline-none text-black bg-white"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Email"}),o.jsx("input",{type:"email",value:ne.email,onChange:N=>W({...ne,email:N.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm focus:border-blue-500 outline-none text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:ne.phone,onChange:N=>W({...ne,phone:N.target.value}),className:"w-full p-2 border border-slate-300 rounded text-sm focus:border-blue-500 outline-none text-black bg-white"})]})]}),o.jsxs("div",{className:"pt-4 flex gap-3",children:[o.jsx("button",{type:"button",onClick:()=>S(!1),className:"flex-1 py-2 text-slate-600 font-bold border border-slate-300 rounded hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-[2] py-2 bg-slate-900 text-white font-bold uppercase rounded hover:bg-black shadow-lg",children:"Confirm Add"})]})]})]})}),document.body),z&&B&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-2xl overflow-hidden text-black animate-fade-in-up",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase flex items-center gap-2",children:[o.jsx(Dx,{size:18,className:"text-red-600"})," Deduction Manager"]}),o.jsxs("p",{className:"text-xs font-bold text-slate-500 mt-1 uppercase",children:["Staff: ",B.name]})]}),o.jsx("button",{onClick:()=>Y(null),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:24})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[oe&&o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 p-3 rounded text-xs font-bold flex items-center gap-2",children:[o.jsx(Vl,{size:14})," This payroll is FINALIZED. Deductions cannot be edited."]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-orange-50 p-3 rounded border border-orange-100",children:[o.jsx("span",{className:"text-[10px] font-bold text-orange-600 uppercase block mb-1",children:"Current Advance Bal."}),o.jsxs("span",{className:"text-lg font-black text-slate-800",children:["",B.currentAdvance.toLocaleString()]})]}),o.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-100",children:[o.jsx("span",{className:"text-[10px] font-bold text-blue-600 uppercase block mb-1",children:"Active Loan Bal."}),o.jsxs("span",{className:"text-lg font-black text-slate-800",children:["",B.loanBalance.toLocaleString()]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase block mb-1 flex items-center gap-1",children:[o.jsx(Dd,{size:10})," Late Fine"]}),o.jsx("input",{type:"number",disabled:!!oe,value:(X==null?void 0:X.lateFine)||"",onChange:N=>ce(z,"lateFine",N.target.value),placeholder:"0",className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black outline-none focus:border-red-500 bg-white disabled:bg-slate-100"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase block mb-1 flex items-center gap-1",children:[o.jsx(mT,{size:10})," Leave Fine"]}),o.jsx("input",{type:"number",disabled:!!oe,value:(X==null?void 0:X.leaveFine)||"",onChange:N=>ce(z,"leaveFine",N.target.value),placeholder:"0",className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black outline-none focus:border-red-500 bg-white disabled:bg-slate-100"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase block mb-1 flex items-center gap-1",children:[o.jsx(Sx,{size:10})," Advance Recovery"]}),o.jsx("input",{type:"number",disabled:!!oe,max:B.currentAdvance,value:(X==null?void 0:X.advance)||"",onChange:N=>ce(z,"advance",N.target.value),placeholder:"0",className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black outline-none focus:border-red-500 bg-white disabled:bg-slate-100"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-[10px] font-black text-slate-500 uppercase block mb-1 flex items-center gap-1",children:[o.jsx(J_,{size:10})," Loan EMI"]}),o.jsx("input",{type:"number",disabled:!!oe,max:B.loanBalance,value:(X==null?void 0:X.loan)||"",onChange:N=>ce(z,"loan",N.target.value),placeholder:"0",className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black outline-none focus:border-red-500 bg-white disabled:bg-slate-100"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase block mb-1",children:"Other Deductions"}),o.jsx("input",{type:"number",disabled:!!oe,value:(X==null?void 0:X.other)||"",onChange:N=>ce(z,"other",N.target.value),placeholder:"0",className:"w-full p-2 border border-slate-300 rounded text-sm font-bold text-black outline-none focus:border-red-500 bg-white disabled:bg-slate-100"})]})]}),o.jsxs("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center bg-red-50 p-4 rounded-lg",children:[o.jsx("span",{className:"text-xs font-black text-red-800 uppercase",children:"Total Deductions"}),o.jsxs("span",{className:"text-2xl font-black text-red-600",children:["",X?(X.lateFine+X.leaveFine+X.advance+X.loan+X.other).toLocaleString():0]})]}),o.jsx("button",{onClick:()=>Y(null),className:"w-full py-3 bg-slate-900 text-white font-bold uppercase rounded shadow-lg hover:bg-black",children:oe?"Close View":"Save & Close"})]})]})}),document.body)]})},dM=()=>{const{accounts:i,transactions:e,customers:t,purchases:a,jobs:l,services:c}=Mn(),[h,p]=K.useState("GL"),[y,g]=K.useState(null),[b,S]=K.useState("ALL"),[_,A]=K.useState(""),[M,D]=K.useState(new Date().toISOString().split("T")[0]),[E,q]=K.useState(new Date().toISOString().split("T")[0]),[G,Q]=K.useState("SALES"),z=N=>{const w=parseFloat(N);return N==null||isNaN(w)?0:w},Y=K.useMemo(()=>{const N=i.filter(Ue=>Ue.type===Je.REVENUE),w=i.filter(Ue=>Ue.type===Je.EXPENSE),C=N.reduce((Ue,re)=>Ue+z(re.balance),0),I=w.reduce((Ue,re)=>Ue+z(re.balance),0),J=C-I,F=i.filter(Ue=>Ue.type===Je.ASSET),ue=i.filter(Ue=>Ue.type===Je.LIABILITY),V=i.filter(Ue=>Ue.type===Je.EQUITY),be=F.reduce((Ue,re)=>Ue+z(re.balance),0),Ie=ue.reduce((Ue,re)=>Ue+z(re.balance),0),de=V.reduce((Ue,re)=>Ue+z(re.balance),0),Fe=Ie+de+J,nt=be+I,ct=Ie+de+C;return{revenueAccounts:N,expenseAccounts:w,assetAccounts:F,liabilityAccounts:ue,equityAccounts:V,totalRevenue:C,totalExpenses:I,netIncome:J,totalAssets:be,totalLiabilities:Ie,totalEquity:de,totalLiabilitiesAndEquity:Fe,totalDebits:nt,totalCredits:ct}},[i]),ne=K.useMemo(()=>{const N=i.find(de=>de.code==="1000"),w=N?z(N.balance):0,C=e.filter(de=>de.type==="INCOME"),I=e.filter(de=>de.type==="EXPENSE"),J=C.reduce((de,Fe)=>de+Fe.amount,0),F=I.reduce((de,Fe)=>de+Fe.amount,0),ue=J-F,V=w-ue,be={};C.forEach(de=>{be[de.category]=(be[de.category]||0)+de.amount});const Ie={};return I.forEach(de=>{Ie[de.category]=(Ie[de.category]||0)+de.amount}),{openingBalance:V,closingBalance:w,netCashFlow:ue,totalInflow:J,totalOutflow:F,inflowCategories:be,outflowCategories:Ie}},[i,e]),W=N=>{const w=new Date,C=new Date(N);return Math.floor((w.getTime()-C.getTime())/(1e3*3600*24))},oe=K.useMemo(()=>{const N={"0-30":0,"31-60":0,"61-90":0,"90+":0},w=[];return l.filter(C=>C.paymentStatus==="UNPAID"||C.paymentStatus==="PARTIAL").forEach(C=>{const I=W(C.date),J=C.total,F=t.find(V=>V.id===C.customerId);let ue="0-30";I>90?ue="90+":I>60?ue="61-90":I>30&&(ue="31-60"),N[ue]+=J,w.push({name:(F==null?void 0:F.name)||"Unknown",ref:C.ticketNumber,date:C.date,days:I,amount:J,bucket:ue})}),{buckets:N,details:w}},[l,t]),ce=K.useMemo(()=>{const N={"0-30":0,"31-60":0,"61-90":0,"90+":0},w=[];return a.filter(C=>C.status==="RECEIVED"||C.status==="PENDING").forEach(C=>{const I=W(C.date),J=C.amount;let F="0-30";I>90?F="90+":I>60?F="61-90":I>30&&(F="31-60"),N[F]+=J,w.push({name:C.vendorName,ref:C.docNumber,date:C.date,days:I,amount:J,bucket:F})}),{buckets:N,details:w}},[a]),pe=N=>e.filter(w=>{const C=w.category.toLowerCase();return N.code==="1000"?w.type==="INCOME"||w.type==="EXPENSE":N.code==="4000"?w.type==="INCOME":w.type==="EXPENSE"&&N.type===Je.EXPENSE?N.code==="5100"?C.includes("labor")||C.includes("payroll")||C.includes("salary")||C.includes("commission"):N.code==="5200"?C.includes("rent")||C.includes("lease"):N.code==="5300"?C.includes("utility")||C.includes("power")||C.includes("water")||C.includes("bill")||C.includes("internet"):N.code==="5000"?!(C.includes("labor")||C.includes("payroll")||C.includes("salary")||C.includes("commission")||C.includes("rent")||C.includes("lease")||C.includes("utility")||C.includes("power")||C.includes("water")||C.includes("bill")):C.includes(N.name.toLowerCase().split(" ")[0]):!1}).sort((w,C)=>new Date(C.date).getTime()-new Date(w.date).getTime()),Te=N=>{if(!N)return{openingBalance:0,txs:[]};const w=pe(N);let C=0;return w.forEach(J=>{N.code==="1000"?J.type==="INCOME"?C+=J.amount:J.type==="EXPENSE"&&(C-=J.amount):N.type===Je.REVENUE?J.type==="INCOME"&&(C+=J.amount):N.type===Je.EXPENSE?J.type==="EXPENSE"&&(C+=J.amount):(J.type==="INCOME"&&(C+=J.amount),J.type==="EXPENSE"&&(C-=J.amount))}),{openingBalance:N.balance-C,txs:w}},Ee=i.filter(N=>{const w=b==="ALL"||N.type===b,C=N.name.toLowerCase().includes(_.toLowerCase())||N.code.includes(_);return w&&C}),Ae=K.useMemo(()=>{if(h!=="EXPORTS")return{sales:[],purchases:[]};const N=l.filter(C=>C.date>=M&&C.date<=E&&C.status==="INVOICED").map(C=>{const I=t.find(F=>F.id===C.customerId),J=c.filter(F=>C.serviceIds.includes(F.id)).map(F=>F.name).join(", ");return{Date:C.date,Ticket:C.ticketNumber,Customer:(I==null?void 0:I.name)||"Unknown",Phone:(I==null?void 0:I.phone)||"-",Vehicle:C.vehicleDetails?`${C.vehicleDetails.make} ${C.vehicleDetails.model} (${C.vehicleDetails.licensePlate})`:C.segment,Services:J,Total:C.total,Payment:C.paymentStatus==="PAID"?"PAID":"PENDING"}}),w=a.filter(C=>C.date>=M&&C.date<=E).map(C=>({Date:C.date,Ref:C.docNumber,Vendor:C.vendorName,Item:C.itemName,Qty:`${C.quantity} ${C.unit}`,Category:C.category,Amount:C.amount}));return{sales:N,purchases:w}},[l,t,a,c,M,E,h]),se=()=>window.print(),Ve=()=>{const N=G==="SALES"?Ae.sales:Ae.purchases;if(N.length===0){alert("No data to copy.");return}const w=Object.keys(N[0]),C=w.join("	"),I=N.map(F=>w.map(ue=>F[ue]).join("	")).join(`
`),J=`${C}
${I}`;navigator.clipboard.writeText(J).then(()=>{alert(" Data Copied! Open Excel and Press Ctrl+V (Paste).")})},B=()=>{let N="data:text/csv;charset=utf-8,";const C=`AutoDazzle_${h==="EXPORTS"?`DayBook_${G}`:h}_${new Date().toISOString().slice(0,10)}.csv`;if(h==="EXPORTS"){const F=G==="SALES"?Ae.sales:Ae.purchases;if(F.length===0)return;const ue=Object.keys(F[0]);N+=ue.join(",")+`
`,F.forEach(V=>{const be=ue.map(Ie=>`"${V[Ie]}"`).join(",");N+=be+`
`})}else h==="GL"?(N+=`Code,Account Name,Type,Balance
`,Ee.forEach(F=>{N+=`${F.code},"${F.name}",${F.type},${F.balance}
`})):h==="PL"?(N+=`Category,Line Item,Amount
`,N+=`REVENUE,Total Sales,${Y.totalRevenue}
`,Y.revenueAccounts.forEach(F=>N+=`REVENUE,"${F.name}",${F.balance}
`),N+=`EXPENSE,Total Expenses,${Y.totalExpenses}
`,Y.expenseAccounts.forEach(F=>N+=`EXPENSE,"${F.name}",${F.balance}
`),N+=`SUMMARY,Net Income,${Y.netIncome}
`):h==="BS"?(N+=`Section,Account,Balance
`,Y.assetAccounts.forEach(F=>N+=`ASSET,"${F.name}",${F.balance}
`),Y.liabilityAccounts.forEach(F=>N+=`LIABILITY,"${F.name}",${F.balance}
`),Y.equityAccounts.forEach(F=>N+=`EQUITY,"${F.name}",${F.balance}
`)):h==="CF"&&(N+=`Flow Type,Category,Amount
`,N+=`Balance,Opening Cash,${ne.openingBalance}
`,Object.entries(ne.inflowCategories).forEach(([F,ue])=>N+=`Inflow,"${F}",${ue}
`),Object.entries(ne.outflowCategories).forEach(([F,ue])=>N+=`Outflow,"${F}",${ue}
`),N+=`Balance,Closing Cash,${ne.closingBalance}
`);const I=encodeURI(N),J=document.createElement("a");J.setAttribute("href",I),J.setAttribute("download",C),document.body.appendChild(J),J.click(),document.body.removeChild(J)},X=({id:N,label:w,icon:C})=>o.jsxs("button",{onClick:()=>p(N),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-md text-xs font-bold uppercase transition-all mb-1 ${h===N?"bg-red-600 text-white shadow-md":"text-slate-600 hover:bg-slate-100"}`,children:[o.jsx(C,{size:16}),w]}),le=({title:N,subtitle:w})=>o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b-2 border-slate-800 pb-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"hidden print:block mb-2",children:o.jsx("img",{src:mo,alt:"Logo",className:"w-12 h-12 object-contain"})}),o.jsx("h3",{className:"text-2xl font-black text-black uppercase tracking-tighter",children:N}),o.jsx("p",{className:"text-slate-600 text-xs font-bold uppercase mt-1 tracking-widest",children:w})]}),o.jsxs("div",{className:"flex gap-2 print:hidden mt-4 md:mt-0",children:[h==="EXPORTS"?o.jsxs("button",{onClick:Ve,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white border border-green-700 rounded-md text-xs font-bold uppercase hover:bg-green-700 transition-all shadow-sm",children:[o.jsx(Id,{size:14})," Copy to Excel"]}):null,o.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 text-black rounded-md text-xs font-bold uppercase hover:bg-slate-50 transition-all shadow-sm",children:[o.jsx(Cx,{size:14})," CSV"]}),o.jsxs("button",{onClick:se,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-md text-xs font-bold uppercase hover:bg-black transition-all shadow-md",children:[o.jsx(_i,{size:14})," Print"]})]})]});return o.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 min-h-[80vh] print:block print:min-h-0 print:gap-0",children:[o.jsx("div",{className:"w-full lg:w-64 shrink-0 print:hidden",children:o.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-4 sticky top-6",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-2 mb-3",children:"Daily Backup"}),o.jsx(X,{id:"EXPORTS",label:"Excel Exports",icon:Nx}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-2 mt-6 mb-3",children:"Statements"}),o.jsx(X,{id:"PL",label:"Profit & Loss",icon:CT}),o.jsx(X,{id:"BS",label:"Balance Sheet",icon:xT}),o.jsx(X,{id:"TB",label:"Trial Balance",icon:od}),o.jsx(X,{id:"CF",label:"Cash Flow",icon:G_}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-2 mt-6 mb-3",children:"Ledgers"}),o.jsx(X,{id:"GL",label:"General Ledger",icon:od}),o.jsx(X,{id:"AR",label:"Receivables (AR)",icon:NT}),o.jsx(X,{id:"AP",label:"Payables (AP)",icon:Vd})]})}),o.jsxs("div",{className:"flex-1 bg-white rounded-lg border border-slate-200 shadow-sm p-8 overflow-x-auto print:border-none print:shadow-none print:p-0 print:overflow-visible print:block print:w-full",children:[h==="EXPORTS"&&o.jsxs("div",{className:"max-w-5xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Day Book & Backup",subtitle:"Excel Compatible Transaction Export"}),o.jsx("div",{className:"mb-6 bg-slate-50 p-4 rounded border border-slate-200 print:hidden",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:"From Date"}),o.jsx("input",{type:"date",value:M,onChange:N=>D(N.target.value),className:"w-full p-2 border border-slate-300 rounded text-sm bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase block mb-1",children:"To Date"}),o.jsx("input",{type:"date",value:E,onChange:N=>q(N.target.value),className:"w-full p-2 border border-slate-300 rounded text-sm bg-white"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{const N=new Date().toISOString().split("T")[0];D(N),q(N)},className:"flex-1 py-2 bg-white border border-slate-300 rounded text-xs font-bold hover:bg-slate-100",children:"Today"}),o.jsx("button",{onClick:()=>{const N=new Date,w=new Date(N);w.setDate(w.getDate()-1),D(w.toISOString().split("T")[0]),q(w.toISOString().split("T")[0])},className:"flex-1 py-2 bg-white border border-slate-300 rounded text-xs font-bold hover:bg-slate-100",children:"Yesterday"})]})]})}),o.jsxs("div",{className:"flex gap-1 mb-0 border-b border-slate-200 print:hidden",children:[o.jsx("button",{onClick:()=>Q("SALES"),className:`px-6 py-3 text-xs font-black uppercase rounded-t-lg transition-all border-t border-l border-r ${G==="SALES"?"bg-white border-slate-200 text-blue-700 border-b-white translate-y-[1px]":"bg-slate-50 border-transparent text-slate-400 hover:bg-slate-100"}`,children:"Customer Sales"}),o.jsx("button",{onClick:()=>Q("PURCHASE"),className:`px-6 py-3 text-xs font-black uppercase rounded-t-lg transition-all border-t border-l border-r ${G==="PURCHASE"?"bg-white border-slate-200 text-orange-700 border-b-white translate-y-[1px]":"bg-slate-50 border-transparent text-slate-400 hover:bg-slate-100"}`,children:"Supplier Purchases"})]}),o.jsx("div",{className:"pt-6",children:G==="SALES"?o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-4 italic print:hidden",children:["Showing completed invoices from ",o.jsx("b",{children:M})," to ",o.jsx("b",{children:E}),". ",o.jsx("br",{}),"Click ",o.jsx("b",{children:'"Copy to Excel"'})," above to copy this table and paste it into your daily Excel file."]}),o.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase border border-slate-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Date"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Ticket #"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Customer Name"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Phone"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Vehicle"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Services"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300 text-right",children:"Amount"})]})}),o.jsxs("tbody",{children:[Ae.sales.map((N,w)=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-2 border border-slate-300",children:N.Date}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 font-mono text-xs",children:N.Ticket}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 font-bold",children:N.Customer}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 font-mono text-xs",children:N.Phone}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 text-xs",children:N.Vehicle}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 text-xs truncate max-w-[200px]",children:N.Services}),o.jsxs("td",{className:"px-4 py-2 border border-slate-300 text-right font-bold",children:["",N.Total.toLocaleString()]})]},w)),Ae.sales.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:"No Sales Records Found for Selected Dates"})})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-xs text-slate-500 mb-4 italic print:hidden",children:["Showing purchase records from ",o.jsx("b",{children:M})," to ",o.jsx("b",{children:E}),". ",o.jsx("br",{}),"Click ",o.jsx("b",{children:'"Copy to Excel"'})," above to copy this table and paste it into your daily Excel file."]}),o.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase border border-slate-300",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Date"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Ref #"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Vendor"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Item"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300",children:"Qty"}),o.jsx("th",{className:"px-4 py-2 border border-slate-300 text-right",children:"Amount"})]})}),o.jsxs("tbody",{children:[Ae.purchases.map((N,w)=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-2 border border-slate-300",children:N.Date}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 font-mono text-xs",children:N.Ref}),o.jsx("td",{className:"px-4 py-2 border border-slate-300 font-bold",children:N.Vendor}),o.jsx("td",{className:"px-4 py-2 border border-slate-300",children:N.Item}),o.jsx("td",{className:"px-4 py-2 border border-slate-300",children:N.Qty}),o.jsxs("td",{className:"px-4 py-2 border border-slate-300 text-right font-bold",children:["",N.Amount.toLocaleString()]})]},w)),Ae.purchases.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-400",children:"No Purchase Records Found for Selected Dates"})})]})]})]})})]}),h==="PL"&&o.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Profit & Loss Statement",subtitle:"Financial Performance"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center bg-green-50 p-3 rounded border-l-4 border-green-500 print:bg-transparent print:border-green-500",children:[o.jsx("h4",{className:"font-bold text-green-800 uppercase text-sm print:text-black",children:"Total Revenue"}),o.jsxs("span",{className:"font-black text-xl text-green-700 print:text-black",children:["",Y.totalRevenue.toLocaleString()]})]}),o.jsx("div",{className:"pl-4 space-y-2",children:Y.revenueAccounts.map(N=>o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm text-black",children:[o.jsxs("span",{className:"font-medium",children:[N.name," ",o.jsxs("span",{className:"text-[10px] text-slate-400",children:["(",N.code,")"]})]}),o.jsxs("span",{className:"font-bold",children:["",z(N.balance).toLocaleString()]})]},N.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center bg-red-50 p-3 rounded border-l-4 border-red-500 print:bg-transparent print:border-red-500",children:[o.jsx("h4",{className:"font-bold text-red-800 uppercase text-sm print:text-black",children:"Total Expenses"}),o.jsxs("span",{className:"font-black text-xl text-red-700 print:text-black",children:["",Y.totalExpenses.toLocaleString()]})]}),o.jsx("div",{className:"pl-4 space-y-2",children:Y.expenseAccounts.map(N=>o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm text-black",children:[o.jsxs("span",{className:"font-medium",children:[N.name," ",o.jsxs("span",{className:"text-[10px] text-slate-400",children:["(",N.code,")"]})]}),o.jsxs("span",{className:"font-bold",children:["",z(N.balance).toLocaleString()]})]},N.id))})]}),o.jsx("div",{className:"border-t-4 border-slate-800 pt-6 mt-8",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("h4",{className:"text-2xl font-black text-black uppercase",children:"Net Income"})}),o.jsx("div",{className:"text-right",children:o.jsxs("span",{className:`text-3xl font-black ${Y.netIncome>=0?"text-blue-600":"text-red-600"} print:text-black`,children:["",Y.netIncome.toLocaleString()]})})]})})]})]}),h==="BS"&&o.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Balance Sheet",subtitle:"Financial Position"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-slate-100 p-3 rounded flex justify-between items-center print:bg-transparent print:border-b print:border-black",children:[o.jsx("h4",{className:"font-black text-black uppercase text-sm",children:"Assets"}),o.jsxs("span",{className:"font-black text-black",children:["",Y.totalAssets.toLocaleString()]})]}),o.jsx("div",{className:"space-y-3 pl-2",children:Y.assetAccounts.map(N=>o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm text-black",children:[o.jsx("span",{className:"font-medium",children:N.name}),o.jsxs("span",{className:"font-bold",children:["",z(N.balance).toLocaleString()]})]},N.id))})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-slate-100 p-3 rounded flex justify-between items-center print:bg-transparent print:border-b print:border-black",children:[o.jsx("h4",{className:"font-black text-black uppercase text-sm",children:"Liabilities"}),o.jsxs("span",{className:"font-black text-black",children:["",Y.totalLiabilities.toLocaleString()]})]}),o.jsx("div",{className:"space-y-3 pl-2",children:Y.liabilityAccounts.map(N=>o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm text-black",children:[o.jsx("span",{className:"font-medium",children:N.name}),o.jsxs("span",{className:"font-bold",children:["",z(N.balance).toLocaleString()]})]},N.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-slate-100 p-3 rounded flex justify-between items-center print:bg-transparent print:border-b print:border-black",children:[o.jsx("h4",{className:"font-black text-black uppercase text-sm",children:"Equity"}),o.jsxs("span",{className:"font-black text-black",children:["",(Y.totalEquity+Y.netIncome).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-3 pl-2",children:[Y.equityAccounts.map(N=>o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm text-black",children:[o.jsx("span",{className:"font-medium",children:N.name}),o.jsxs("span",{className:"font-bold",children:["",z(N.balance).toLocaleString()]})]},N.id)),o.jsxs("div",{className:"flex justify-between border-b border-slate-100 pb-1 text-sm bg-blue-50 p-2 rounded print:bg-transparent",children:[o.jsx("span",{className:"text-blue-800 font-bold print:text-black",children:"Net Income (Current Year)"}),o.jsxs("span",{className:"font-bold text-blue-800 print:text-black",children:["",Y.netIncome.toLocaleString()]})]})]})]})]})]})]}),h==="CF"&&o.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Cash Flow Statement",subtitle:"Direct Method Analysis"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-slate-50 p-4 rounded border border-slate-200 flex justify-between items-center print:bg-transparent print:border-b print:border-black",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-slate-600 uppercase text-xs print:text-black",children:"Opening Cash Balance"}),o.jsx("p",{className:"text-[10px] text-slate-400 print:hidden",children:"(Calculated)"})]}),o.jsxs("span",{className:"font-black text-xl text-slate-800 print:text-black",children:["",ne.openingBalance.toLocaleString()]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-green-700 uppercase text-sm border-b-2 border-green-500 pb-1 flex items-center gap-2 print:text-black print:border-black",children:[o.jsx(q_,{size:16})," Cash Inflows (Receipts)"]}),Object.entries(ne.inflowCategories).length===0&&o.jsx("p",{className:"text-xs text-slate-400 italic",children:"No cash inflows recorded in current period."}),Object.entries(ne.inflowCategories).map(([N,w])=>o.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-100 pb-1 pl-4",children:[o.jsx("span",{className:"font-medium text-black",children:N}),o.jsxs("span",{className:"font-bold text-green-600 print:text-black",children:["+",w.toLocaleString()]})]},N)),o.jsxs("div",{className:"flex justify-between text-sm font-black pt-2 bg-green-50 p-2 rounded print:bg-transparent",children:[o.jsx("span",{className:"text-green-800 uppercase text-xs print:text-black",children:"Total Inflows"}),o.jsxs("span",{className:"text-green-800 print:text-black",children:["",ne.totalInflow.toLocaleString()]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h4",{className:"font-bold text-red-700 uppercase text-sm border-b-2 border-red-500 pb-1 flex items-center gap-2 print:text-black print:border-black",children:[o.jsx(Y_,{size:16})," Cash Outflows (Payments)"]}),Object.entries(ne.outflowCategories).length===0&&o.jsx("p",{className:"text-xs text-slate-400 italic",children:"No cash outflows recorded in current period."}),Object.entries(ne.outflowCategories).map(([N,w])=>o.jsxs("div",{className:"flex justify-between text-sm border-b border-slate-100 pb-1 pl-4",children:[o.jsx("span",{className:"font-medium text-black",children:N}),o.jsxs("span",{className:"font-bold text-red-600 print:text-black",children:["-",w.toLocaleString()]})]},N)),o.jsxs("div",{className:"flex justify-between text-sm font-black pt-2 bg-red-50 p-2 rounded print:bg-transparent",children:[o.jsx("span",{className:"text-red-800 uppercase text-xs print:text-black",children:"Total Outflows"}),o.jsxs("span",{className:"text-red-800 print:text-black",children:["",ne.totalOutflow.toLocaleString()]})]})]}),o.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-slate-100 p-4 rounded text-center print:bg-transparent print:border print:border-slate-300",children:[o.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-500 print:text-black",children:"Net Cash Movement"}),o.jsxs("p",{className:`text-xl font-black ${ne.netCashFlow>=0?"text-green-600":"text-red-600"} print:text-black`,children:[ne.netCashFlow>=0?"+":"","",ne.netCashFlow.toLocaleString()]})]}),o.jsxs("div",{className:"bg-slate-900 text-white p-4 rounded text-center shadow-lg print:bg-transparent print:text-black print:border-2 print:border-black print:shadow-none",children:[o.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 print:text-black",children:"Closing Cash Balance"}),o.jsxs("p",{className:"text-2xl font-black",children:["",ne.closingBalance.toLocaleString()]})]})]})]})]}),h==="TB"&&o.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Trial Balance",subtitle:"Ledger Verification"}),o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"border-b-2 border-slate-800",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-3 font-bold uppercase text-xs text-black",children:"Account"}),o.jsx("th",{className:"py-3 font-bold uppercase text-xs text-right w-32 text-black",children:"Debit"}),o.jsx("th",{className:"py-3 font-bold uppercase text-xs text-right w-32 text-black",children:"Credit"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:i.sort((N,w)=>parseInt(N.code)-parseInt(w.code)).map(N=>{const w=["ASSET","EXPENSE"].includes(N.type);return o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsxs("td",{className:"py-3 text-black",children:[o.jsx("span",{className:"font-mono text-slate-500 mr-2 text-xs font-bold",children:N.code}),o.jsx("span",{className:"font-bold",children:N.name}),o.jsx("span",{className:"ml-2 text-[9px] text-slate-500 bg-slate-100 px-1 rounded uppercase print:border print:border-slate-400",children:N.type})]}),o.jsx("td",{className:"py-3 text-right font-medium text-black bg-slate-50/50 print:bg-transparent",children:w?`${z(N.balance).toLocaleString()}`:"-"}),o.jsx("td",{className:"py-3 text-right font-medium text-black",children:w?"-":`${z(N.balance).toLocaleString()}`})]},N.id)})}),o.jsx("tfoot",{className:"border-t-2 border-slate-800 font-black text-sm text-black",children:o.jsxs("tr",{className:"bg-slate-100 print:bg-transparent",children:[o.jsx("td",{className:"py-4 px-2 uppercase",children:"Total"}),o.jsxs("td",{className:"py-4 text-right",children:["",Y.totalDebits.toLocaleString()]}),o.jsxs("td",{className:"py-4 text-right",children:["",Y.totalCredits.toLocaleString()]})]})})]})]}),h==="GL"&&o.jsxs("div",{className:"max-w-4xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"General Ledger",subtitle:"Chart of Accounts & Detail"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6 bg-slate-50 p-4 rounded border border-slate-200 print:hidden",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search Account Name or Code...",value:_,onChange:N=>A(N.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md text-sm text-black focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),o.jsx("div",{className:"w-full md:w-64",children:o.jsxs("select",{value:b,onChange:N=>S(N.target.value),className:"w-full p-2 border border-slate-300 rounded-md text-sm text-black bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"ALL",children:"All Account Types"}),o.jsx("option",{value:Je.EXPENSE,children:"Expenses (Overheads)"}),o.jsx("option",{value:Je.ASSET,children:"Assets"}),o.jsx("option",{value:Je.LIABILITY,children:"Liabilities"}),o.jsx("option",{value:Je.REVENUE,children:"Revenue"}),o.jsx("option",{value:Je.EQUITY,children:"Equity"})]})})]}),o.jsxs("div",{className:"mb-4 text-xs text-slate-500 italic flex items-center gap-2 print:hidden",children:[o.jsx(aT,{size:12}),"Showing ",Ee.length," accounts. Click any row to view the Individual Ledger Report."]}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase border-b border-slate-300 print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Code"}),o.jsx("th",{className:"px-4 py-3",children:"Account Name"}),o.jsx("th",{className:"px-4 py-3",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Balance"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-100",children:[Ee.map(N=>o.jsxs("tr",{onClick:()=>g(N),className:"hover:bg-blue-50 cursor-pointer group transition-colors",children:[o.jsx("td",{className:"px-4 py-3 font-mono text-slate-500 font-bold group-hover:text-blue-600",children:N.code}),o.jsx("td",{className:"px-4 py-3 font-bold text-black group-hover:text-blue-800",children:N.name}),o.jsx("td",{className:"px-4 py-3 text-black",children:o.jsx("span",{className:"text-[10px] bg-slate-200 px-2 py-0.5 rounded uppercase print:border print:border-slate-300",children:N.type})}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-black",children:["",z(N.balance).toLocaleString()]})]},N.id)),Ee.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"No accounts match your filter."})})]}),b!=="ALL"&&o.jsx("tfoot",{className:"bg-slate-50 border-t border-slate-300 print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-4 py-3 font-bold text-right text-slate-600 uppercase",children:"Total"}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-black",children:["",Ee.reduce((N,w)=>N+z(w.balance),0).toLocaleString()]})]})})]})]}),h==="AR"&&o.jsxs("div",{className:"max-w-5xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Accounts Receivable Aging",subtitle:"Customer Outstanding Analysis"}),o.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:Object.entries(oe.buckets).map(([N,w])=>o.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 shadow-sm text-center print:border-black",children:[o.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase print:text-black",children:[N," Days"]}),o.jsxs("p",{className:`text-xl font-black ${w>0?"text-red-600":"text-slate-400"} print:text-black`,children:["",w.toLocaleString()]})]},N))}),o.jsx("h4",{className:"font-bold text-black uppercase text-sm mb-4 border-b border-slate-300 pb-2",children:"Customer Ledger (Unpaid Invoices)"}),o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase border-b border-slate-200 print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Customer"}),o.jsx("th",{className:"px-4 py-3",children:"Job Ref"}),o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Age (Days)"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Amount Due"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:oe.details.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400 italic",children:"No outstanding receivables found."})}):oe.details.map((N,w)=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-3 font-bold text-black",children:N.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-600",children:N.ref}),o.jsx("td",{className:"px-4 py-3 text-black",children:N.date}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold text-white print:text-black print:border print:border-black ${N.days>90?"bg-red-600":N.days>60?"bg-orange-500":N.days>30?"bg-yellow-500":"bg-green-500"}`,children:N.days})}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-black",children:["",N.amount.toLocaleString()]})]},w))})]})]}),h==="AP"&&o.jsxs("div",{className:"max-w-5xl mx-auto print:max-w-none print:w-full",children:[o.jsx(le,{title:"Accounts Payable Aging",subtitle:"Vendor Payment Schedule"}),o.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:Object.entries(ce.buckets).map(([N,w])=>o.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 shadow-sm text-center print:border-black",children:[o.jsxs("p",{className:"text-xs font-bold text-slate-500 uppercase print:text-black",children:[N," Days"]}),o.jsxs("p",{className:`text-xl font-black ${w>0?"text-red-600":"text-slate-400"} print:text-black`,children:["",w.toLocaleString()]})]},N))}),o.jsx("h4",{className:"font-bold text-black uppercase text-sm mb-4 border-b border-slate-300 pb-2",children:"Vendor Ledger (Pending Bills)"}),o.jsxs("table",{className:"w-full text-left",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase border-b border-slate-200 print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Vendor"}),o.jsx("th",{className:"px-4 py-3",children:"PO Ref"}),o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Age (Days)"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Amount Payable"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100 text-sm",children:ce.details.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400 italic",children:"No pending payables found."})}):ce.details.map((N,w)=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-3 font-bold text-black",children:N.name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-600",children:N.ref}),o.jsx("td",{className:"px-4 py-3 text-black",children:N.date}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold text-white print:text-black print:border print:border-black ${N.days>90?"bg-red-600":N.days>60?"bg-orange-500":N.days>30?"bg-yellow-500":"bg-green-500"}`,children:N.days})}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-black",children:["",N.amount.toLocaleString()]})]},w))})]})]}),y&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[9999] flex items-center justify-center p-4 print:bg-white print:static print:z-auto print:p-0 print:block",children:o.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-lg shadow-2xl flex flex-col text-black print:shadow-none print:max-h-none print:overflow-visible print:w-full print:max-w-none",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50 sticky top-0 z-10 print:static print:bg-white print:border-b-2 print:border-black",children:[o.jsxs("div",{children:[o.jsx("div",{className:"hidden print:block mb-4",children:o.jsx("img",{src:mo,alt:"Logo",className:"w-16"})}),o.jsxs("h3",{className:"text-xl font-black text-black uppercase",children:[y.name," ",o.jsxs("span",{className:"text-slate-500",children:["(",y.code,")"]})]}),o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Individual Ledger Report (Verified)"})]}),o.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-slate-200 rounded-full text-slate-500 hover:text-red-600 print:hidden",children:o.jsx(gn,{size:20})})]}),o.jsx("div",{className:"p-6",children:(()=>{const{openingBalance:N,txs:w}=Te(y);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border-l-4 border-blue-500 text-blue-800 text-xs flex items-center gap-2 print:hidden",children:[o.jsx(Dd,{size:16}),o.jsxs("span",{children:[o.jsx("strong",{children:"Audit Trace:"}),"Opening (",N.toLocaleString(),") + Net Transactions (",w.reduce((C,I)=>C+(I.type==="INCOME"?I.amount:-I.amount),0).toLocaleString(),") = Closing (",y.balance.toLocaleString(),")."]})]}),o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-slate-100 text-black font-bold text-[10px] uppercase print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Description"}),o.jsx("th",{className:"px-4 py-3 text-center",children:"Type"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"})]})}),o.jsxs("tbody",{className:"divide-y divide-slate-100",children:[o.jsxs("tr",{className:"bg-yellow-50/50 print:bg-transparent",children:[o.jsx("td",{className:"px-4 py-3 text-slate-400 font-mono text-xs",children:"-"}),o.jsx("td",{className:"px-4 py-3 font-bold text-slate-600 italic",children:"Opening Balance"}),o.jsx("td",{className:"px-4 py-3 text-center text-slate-400",children:"-"}),o.jsxs("td",{className:"px-4 py-3 text-right font-bold text-slate-600",children:["",N.toLocaleString()]})]}),w.map(C=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3 text-slate-700",children:C.date}),o.jsx("td",{className:"px-4 py-3 font-medium text-black",children:C.description}),o.jsx("td",{className:"px-4 py-3 text-center",children:o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase text-white print:text-black print:border print:border-black ${C.type==="INCOME"?"bg-green-600":"bg-red-600"}`,children:C.type})}),o.jsxs("td",{className:"px-4 py-3 text-right font-black text-black",children:[C.type==="EXPENSE"&&y.code==="1000"?"-":C.type==="EXPENSE"&&y.type==="EXPENSE"?"+":C.type==="EXPENSE"?"-":"+","",C.amount.toLocaleString()]})]},C.id)),w.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400 italic",children:"No recent transactions found. Balance is carried forward."})})]}),o.jsx("tfoot",{className:"border-t-2 border-black bg-slate-50 print:bg-transparent",children:o.jsxs("tr",{children:[o.jsx("td",{colSpan:3,className:"px-4 py-4 font-bold text-black uppercase text-right",children:"Closing Ledger Balance"}),o.jsxs("td",{className:"px-4 py-4 font-black text-xl text-black text-right",children:["",z(y.balance).toLocaleString()]})]})})]})]})})()})]})}),document.body)]})]})},fM=()=>{const{customers:i,addCustomer:e,updateCustomer:t,currentUserRole:a}=Mn(),[l,c]=K.useState("ALL"),[h,p]=K.useState(""),[y,g]=K.useState(!1),[b,S]=K.useState(null),[_,A]=K.useState({name:"",email:"",phone:"",address:"",isPremium:!1,premiumTier:"NONE"}),[M,D]=K.useState({make:"",model:"",year:new Date().getFullYear(),licensePlate:"",color:"",segment:"HATCHBACK"}),[E,q]=K.useState(""),[G,Q]=K.useState(!1),[z,Y]=K.useState(!1),[ne,W]=K.useState({make:"",model:"",licensePlate:"",color:"",segment:"HATCHBACK"}),[oe,ce]=K.useState(""),[pe,Te]=K.useState(!1),Ee=a!=="STAFF",Ae=i.filter(w=>{const C=w.name.toLowerCase().includes(h.toLowerCase())||w.phone.includes(h)||w.vehicles.some(J=>J.licensePlate.toLowerCase().includes(h.toLowerCase())),I=l==="ALL"||w.isPremium;return C&&I}),se=w=>oy.filter(C=>C.model.toLowerCase().includes(w.toLowerCase())||C.brand.toLowerCase().includes(w.toLowerCase())).slice(0,5),Ve=w=>{q(`${w.brand} ${w.model}`),D({...M,make:w.brand,model:w.model,segment:w.segment}),Q(!1)},B=w=>{ce(`${w.brand} ${w.model}`),W({...ne,make:w.brand,model:w.model,segment:w.segment}),Te(!1)},X=w=>{w.preventDefault();const C={id:`c-${Date.now()}`,..._,lifetimeValue:0,joinedDate:new Date().toISOString().split("T")[0],outstandingBalance:0,visits:0,vehicles:M.licensePlate?[{id:`v-${Date.now()}`,...M}]:[]};e(C),g(!1),A({name:"",email:"",phone:"",address:"",isPremium:!1,premiumTier:"NONE"}),D({make:"",model:"",year:new Date().getFullYear(),licensePlate:"",color:"",segment:"HATCHBACK"}),q("")},le=w=>{if(w.preventDefault(),!b)return;const C={id:`v-${Date.now()}`,make:ne.make,model:ne.model,year:new Date().getFullYear(),licensePlate:ne.licensePlate,color:ne.color,segment:ne.segment},I={...b,vehicles:[...b.vehicles,C]};t(I),S(I),Y(!1),W({make:"",model:"",licensePlate:"",color:"",segment:"HATCHBACK"}),ce("")},N=w=>{if(!(!b||!Ee)&&window.confirm("Remove this vehicle from customer profile?")){const C={...b,vehicles:b.vehicles.filter(I=>I.id!==w)};t(C),S(C)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[o.jsx("div",{children:o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Customer Database"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search name, phone, or vehicle...",value:h,onChange:w=>p(w.target.value),className:"pl-9 pr-4 py-2 bg-slate-50 border border-slate-300 rounded-md text-sm w-64 focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-black"})]}),o.jsx("button",{onClick:()=>g(!0),className:"p-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-all shadow-sm",children:o.jsx(ga,{size:20})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-md text-xs font-bold uppercase transition-all ${l==="ALL"?"bg-slate-800 text-white":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:"All Customers"}),o.jsxs("button",{onClick:()=>c("PREMIUM"),className:`px-4 py-2 rounded-md text-xs font-bold uppercase transition-all flex items-center gap-1 ${l==="PREMIUM"?"bg-indigo-600 text-white":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:[o.jsx(Qu,{size:12})," Premium Only"]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Ae.map(w=>o.jsxs("div",{onClick:()=>S(w),className:"cursor-pointer bg-white rounded-lg border border-slate-200 p-5 hover:shadow-md transition-all relative overflow-hidden group",children:[o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold ${w.isPremium?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-700"}`,children:w.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-bold text-slate-900",children:w.name}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:w.phone}),w.isPremium&&o.jsx("span",{className:"text-[10px] font-bold text-indigo-600 uppercase bg-indigo-50 px-1.5 py-0.5 rounded mt-1 inline-block",children:"Premium"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4 border-t border-slate-100 pt-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Lifetime Value"}),o.jsxs("p",{className:"text-sm font-bold text-slate-800",children:["",w.lifetimeValue.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Visits"}),o.jsx("p",{className:"text-sm font-bold text-slate-800",children:w.visits})]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-[10px] font-bold text-slate-500 uppercase flex items-center gap-1 mb-2",children:[o.jsx(Il,{size:12})," Vehicles"]}),o.jsxs("div",{className:"space-y-1",children:[w.vehicles.slice(0,2).map(C=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded text-xs",children:[o.jsxs("span",{className:"font-bold text-slate-700",children:[C.make," ",C.model]}),o.jsx("span",{className:"font-mono text-slate-500",children:C.licensePlate})]},C.id)),w.vehicles.length>2&&o.jsxs("p",{className:"text-[10px] text-slate-400 text-center italic",children:["+ ",w.vehicles.length-2," more"]})]})]})]},w.id))}),y&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto custom-scrollbar rounded-lg shadow-2xl text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-bold text-black uppercase",children:"New Customer Registration"}),o.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsxs("form",{onSubmit:X,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-xs font-bold uppercase text-slate-500 border-b border-slate-100 pb-1",children:"Personal Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Full Name"}),o.jsx("input",{required:!0,value:_.name,onChange:w=>A({..._,name:w.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm text-black bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Phone"}),o.jsx("input",{required:!0,value:_.phone,onChange:w=>A({..._,phone:w.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm text-black bg-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Address"}),o.jsx("input",{value:_.address,onChange:w=>A({..._,address:w.target.value}),className:"w-full p-2 border border-slate-300 rounded-md focus:border-blue-500 outline-none text-sm text-black bg-white",placeholder:"Full Address"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:_.isPremium,onChange:w=>A({..._,isPremium:w.target.checked}),className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-bold text-black",children:"Premium Member"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"text-xs font-bold uppercase text-slate-500 border-b border-slate-100 pb-1",children:"Primary Vehicle"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"License Plate"}),o.jsx("input",{value:M.licensePlate,onChange:w=>D({...M,licensePlate:w.target.value}),className:"w-full p-2 border border-slate-300 rounded-md uppercase text-sm font-bold text-black bg-white",placeholder:"KL-01..."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Make/Model"}),o.jsx("input",{value:E,onChange:w=>{q(w.target.value),Q(!0)},onFocus:()=>Q(!0),className:"w-full p-2 border border-slate-300 rounded-md text-sm text-black bg-white",placeholder:"Search..."}),G&&E&&o.jsx("div",{className:"absolute z-20 w-full bg-white border border-slate-200 rounded-md shadow-lg max-h-48 overflow-y-auto mt-1",children:se(E).map((w,C)=>o.jsx("div",{onClick:()=>Ve(w),className:"p-2 hover:bg-slate-100 cursor-pointer text-sm",children:o.jsxs("span",{className:"font-bold",children:[w.brand," ",w.model]})},C))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Type"}),o.jsxs("select",{value:M.segment,onChange:w=>D({...M,segment:w.target.value}),className:"w-full p-2 border border-slate-300 rounded-md text-sm text-black bg-white font-bold",children:[o.jsx("option",{value:"HATCHBACK",children:"Hatchback"}),o.jsx("option",{value:"SEDAN",children:"Sedan"}),o.jsx("option",{value:"SUV_MUV",children:"SUV/MUV"}),o.jsx("option",{value:"LUXURY",children:"Luxury"}),o.jsx("option",{value:"BIKE",children:"Bike"}),o.jsx("option",{value:"SCOOTY",children:"Scooty"}),o.jsx("option",{value:"BULLET",children:"Bullet"}),o.jsx("option",{value:"AUTORICKSHAW",children:"Auto"})]})]})]})]}),o.jsxs("div",{className:"pt-2 flex gap-4",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-2.5 text-slate-600 font-bold border border-slate-300 rounded-md hover:bg-slate-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-[2] py-2.5 bg-red-600 text-white font-bold uppercase rounded-md shadow-sm hover:bg-red-700",children:"Register"})]})]})]})}),document.body),b&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto custom-scrollbar rounded-lg shadow-2xl flex flex-col text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center sticky top-0 z-10",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-black text-black uppercase tracking-tight flex items-center gap-2",children:[b.name,b.isPremium&&o.jsx(Qu,{size:18,className:"text-indigo-600",fill:"currentColor"})]}),o.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Customer Profile"})]}),o.jsx("button",{onClick:()=>S(null),className:"text-slate-400 hover:text-slate-700 transition-colors",children:o.jsx(gn,{size:24})})]}),o.jsxs("div",{className:"p-6 space-y-8",children:[!Ee&&o.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 text-amber-800 text-xs font-bold flex items-center gap-2 rounded",children:[o.jsx(Vl,{size:14})," STAFF ROLE: Edits to customer profiles are restricted."]}),o.jsxs("section",{children:[o.jsxs("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[o.jsx(Ux,{size:14})," Contact Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100",children:[o.jsx(kx,{size:16,className:"text-slate-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Mobile"}),o.jsx("p",{className:"font-bold text-black",children:b.phone})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100",children:[o.jsx(Ax,{size:16,className:"text-slate-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Email"}),o.jsx("p",{className:"font-bold text-black",children:b.email||"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100 md:col-span-2",children:[o.jsx(dT,{size:16,className:"text-slate-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Address"}),o.jsx("p",{className:"font-bold text-black",children:b.address||"Address Not Recorded"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded border border-slate-100",children:[o.jsx(_x,{size:16,className:"text-slate-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Member Since"}),o.jsx("p",{className:"font-bold text-black",children:b.joinedDate})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded border border-indigo-100",children:[o.jsx(Qu,{size:16,className:"text-indigo-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-indigo-400 uppercase",children:"Membership"}),o.jsx("p",{className:"font-bold text-indigo-800",children:b.isPremium?"PREMIUM TIER":"STANDARD"})]})]})]})]}),o.jsxs("section",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[o.jsx(Il,{size:14})," Customer Garage"]}),Ee&&!z&&o.jsxs("button",{onClick:()=>Y(!0),className:"text-[10px] font-bold uppercase bg-slate-900 text-white px-3 py-1.5 rounded hover:bg-black transition-colors flex items-center gap-1",children:[o.jsx(ga,{size:12})," Add Vehicle"]})]}),Ee&&z&&o.jsxs("form",{onSubmit:le,className:"mb-4 bg-slate-50 p-4 rounded border border-slate-200",children:[o.jsx("h5",{className:"text-xs font-bold text-black uppercase mb-3",children:"New Vehicle Details"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[o.jsx("input",{required:!0,placeholder:"License Plate",value:ne.licensePlate,onChange:w=>W({...ne,licensePlate:w.target.value}),className:"p-2 text-xs border rounded uppercase font-bold text-black bg-white"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{placeholder:"Make/Model",value:oe,onChange:w=>{ce(w.target.value),Te(!0)},onFocus:()=>Te(!0),className:"p-2 w-full text-xs border rounded font-bold text-black bg-white"}),pe&&oe&&o.jsx("div",{className:"absolute z-20 w-full bg-white border border-slate-200 rounded-md shadow-lg max-h-48 overflow-y-auto mt-1",children:se(oe).map((w,C)=>o.jsx("div",{onClick:()=>B(w),className:"p-2 hover:bg-slate-100 cursor-pointer text-xs",children:o.jsxs("span",{className:"font-bold",children:[w.brand," ",w.model]})},C))})]}),o.jsx("input",{placeholder:"Color",value:ne.color,onChange:w=>W({...ne,color:w.target.value}),className:"p-2 text-xs border rounded text-black bg-white"}),o.jsxs("select",{value:ne.segment,onChange:w=>W({...ne,segment:w.target.value}),className:"p-2 text-xs border rounded font-bold text-black bg-white",children:[o.jsx("option",{value:"HATCHBACK",children:"Hatchback"}),o.jsx("option",{value:"SEDAN",children:"Sedan"}),o.jsx("option",{value:"SUV_MUV",children:"SUV/MUV"}),o.jsx("option",{value:"LUXURY",children:"Luxury"}),o.jsx("option",{value:"BIKE",children:"Bike"}),o.jsx("option",{value:"SCOOTY",children:"Scooty"}),o.jsx("option",{value:"BULLET",children:"Bullet"}),o.jsx("option",{value:"AUTORICKSHAW",children:"Auto"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"bg-green-600 text-white px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-green-700",children:"Save Vehicle"}),o.jsx("button",{type:"button",onClick:()=>Y(!1),className:"bg-white border border-slate-300 text-slate-600 px-4 py-1.5 rounded text-xs font-bold uppercase hover:bg-slate-50",children:"Cancel"})]})]}),o.jsxs("div",{className:"space-y-2",children:[b.vehicles.length===0&&o.jsx("p",{className:"text-sm text-slate-400 italic p-4 text-center border border-dashed rounded",children:"No vehicles registered."}),b.vehicles.map(w=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border border-slate-200 shadow-sm group hover:border-blue-300 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-8 h-8 rounded bg-slate-100 flex items-center justify-center text-slate-500",children:o.jsx(Il,{size:16})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-bold text-black text-sm",children:[w.make," ",w.model," ",o.jsxs("span",{className:"text-slate-400 font-normal",children:["(",w.color,")"]})]}),o.jsxs("div",{className:"flex gap-2 mt-0.5",children:[o.jsx("span",{className:"font-mono text-xs font-bold bg-slate-100 px-1.5 py-0.5 rounded text-slate-600 border border-slate-200",children:w.licensePlate}),o.jsx("span",{className:"text-[10px] font-bold uppercase bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded",children:w.segment})]})]})]}),Ee&&o.jsx("button",{onClick:()=>N(w.id),className:"text-slate-300 hover:text-red-500 p-2 opacity-0 group-hover:opacity-100 transition-all",children:o.jsx(Hs,{size:16})})]},w.id))]})]}),o.jsxs("section",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-100",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Total Lifetime Spend"}),o.jsxs("p",{className:"text-2xl font-black text-black",children:["",b.lifetimeValue.toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Outstanding Balance"}),o.jsxs("p",{className:`text-2xl font-black ${b.outstandingBalance>0?"text-red-600":"text-green-600"}`,children:["",b.outstandingBalance.toLocaleString()]})]})]})]})]})}),document.body)]})},hM=()=>{var ue;const{inventory:i,addInventoryItem:e,deleteInventoryItem:t,recordStockUsage:a,bulkAddInventory:l,accounts:c,purchases:h,stockLogs:p,currentUserRole:y}=Mn(),[g,b]=K.useState(!1),[S,_]=K.useState(!1),[A,M]=K.useState(!1),[D,E]=K.useState(null),[q,G]=K.useState(""),[Q,z]=K.useState(""),Y=i.find(V=>V.id===D),ne=y!=="STAFF",[W,oe]=K.useState({sku:"",name:"",quantity:0,reorder:5,cost:0,supplier:"CS Car Care",category:"CHEMICALS",unit:"Units"}),[ce,pe]=K.useState({quantity:0,notes:""}),[Te,Ee]=K.useState(""),Ae=i.reduce((V,be)=>V+be.quantityOnHand*be.costPerUnit,0),se=i.filter(V=>V.quantityOnHand<=V.reorderPoint).length,Ve=((ue=c.find(V=>V.code==="2000"))==null?void 0:ue.balance)||0,B=i.filter(V=>V.name.toLowerCase().includes(Q.toLowerCase())||V.sku.toLowerCase().includes(Q.toLowerCase())),X=V=>{if(V.preventDefault(),!ne)return;const be={id:`inv-${Date.now()}`,sku:W.sku||`SKU-${Date.now().toString().slice(-4)}`,name:W.name,category:W.category,unit:W.unit,quantityOnHand:W.quantity,reorderPoint:W.reorder,costPerUnit:W.cost,supplier:W.supplier,lastRestocked:new Date().toISOString().split("T")[0]};e(be),b(!1),w()},le=V=>{V.preventDefault(),D&&ce.quantity>0?(a(D,ce.quantity,ce.notes||"Routine Usage"),_(!1),pe({quantity:0,notes:""}),E(null),G("")):alert("Please enter a valid quantity greater than 0.")},N=()=>{if(!ne)return;const be=Te.split(`
`).filter(Ie=>Ie.trim()).map((Ie,de)=>{const[Fe,nt,ct,Ue,re,Me]=Ie.split(",").map(gt=>gt.trim());return{id:`imp-${Date.now()}-${de}`,sku:Fe||`IMP-${de}`,name:nt||"Unknown Item",category:ct||"CHEMICALS",unit:"Units",quantityOnHand:parseFloat(Ue)||0,reorderPoint:parseFloat(re)||5,costPerUnit:parseFloat(Me)||0,supplier:"CS Car Care",lastRestocked:new Date().toISOString().split("T")[0]}});l(be),M(!1),Ee("")},w=()=>oe({sku:"",name:"",quantity:0,reorder:5,cost:0,supplier:"CS Car Care",category:"CHEMICALS",unit:"Units"}),C=()=>{window.print()},I=V=>{E(V||null),G(""),pe({quantity:0,notes:""}),_(!0)},J=(V,be)=>V<=be?"bg-red-500":V<=be*1.5?"bg-yellow-500":"bg-emerald-500",F=q?i.filter(V=>V.name.toLowerCase().includes(q.toLowerCase())||V.sku.toLowerCase().includes(q.toLowerCase())):[];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-slate-200 print:hidden gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800 uppercase tracking-tight",children:"Stock Management"}),o.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Global Inventory Control System"})]}),o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Pl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),o.jsx("input",{type:"text",placeholder:"Search Product Name or SKU...",value:Q,onChange:V=>z(V.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-md text-sm text-black focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white font-medium"})]}),o.jsxs("div",{className:"flex gap-2 shrink-0",children:[ne&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>M(!0),className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-md text-xs font-bold uppercase shadow-sm hover:bg-slate-50 flex items-center",children:[o.jsx(jx,{size:14,className:"mr-2"})," Bulk Import"]}),o.jsxs("button",{onClick:()=>b(!0),className:"bg-red-600 text-white px-5 py-2 rounded-md text-xs font-bold uppercase tracking-wide flex items-center hover:bg-red-700 shadow-sm transition-all",children:[o.jsx(ga,{size:16,className:"mr-2"})," Add Item"]})]}),o.jsxs("button",{onClick:C,className:"bg-white border border-slate-300 text-slate-700 px-4 py-2 rounded-md text-xs font-bold uppercase shadow-sm hover:bg-slate-50 flex items-center",children:[o.jsx(_i,{size:14,className:"mr-2"})," Report"]}),o.jsxs("button",{onClick:()=>I(),className:"bg-slate-800 text-white px-5 py-2 rounded-md text-xs font-bold uppercase tracking-wide flex items-center hover:bg-slate-900 shadow-sm transition-all",children:[o.jsx(No,{size:16,className:"mr-2"})," Record Usage"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 print:grid-cols-4 print:hidden",children:[o.jsxs("div",{className:"bg-white p-5 rounded-lg border border-slate-200 shadow-sm relative overflow-hidden group print:border-black",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Ld,{size:40})}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 print:text-black",children:"Stock Valuation"}),o.jsxs("p",{className:"text-2xl font-black text-slate-900 print:text-black",children:["",Ae.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white p-5 rounded-lg border border-slate-200 shadow-sm relative overflow-hidden group print:border-black",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(Ng,{size:40,className:"text-orange-500"})}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 print:text-black",children:"Low Stock Alerts"}),o.jsx("p",{className:`text-2xl font-black ${se>0?"text-orange-500":"text-slate-900"} print:text-black`,children:se})]}),o.jsxs("div",{className:"bg-white p-5 rounded-lg border border-slate-200 shadow-sm relative overflow-hidden group print:border-black",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:o.jsx(z_,{size:40,className:"text-blue-500"})}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 print:text-black",children:"Monthly Usage"}),o.jsxs("p",{className:"text-2xl font-black text-blue-600 print:text-black",children:[p.length," ",o.jsx("span",{className:"text-xs font-medium text-slate-400 print:hidden",children:"Events"})]})]}),o.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg border border-slate-800 shadow-sm relative overflow-hidden group text-white print:bg-white print:text-black print:border-black",children:[o.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-20",children:o.jsx(Vd,{size:40})}),o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1 print:text-black",children:"Supplier Credit"}),o.jsxs("p",{className:"text-2xl font-black text-white print:text-black",children:["",Ve.toLocaleString()]}),o.jsx("p",{className:"text-[9px] text-slate-400 mt-1 print:hidden",children:"Due to CS Car Care"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden print:border-none print:shadow-none",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex justify-between items-center print:bg-white print:border-b-2 print:border-black",children:[o.jsxs("h3",{className:"font-bold text-slate-800 uppercase text-sm flex items-center gap-2",children:[o.jsx(wx,{size:16})," Master Stock List"]}),o.jsxs("span",{className:"text-[10px] font-bold text-slate-500 bg-slate-200 px-2 py-0.5 rounded print:hidden",children:[B.length," SKUs Found"]})]}),o.jsx("div",{className:"overflow-x-auto print:overflow-visible",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-200 print:text-black",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] tracking-wide text-black",children:"Product Details"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] tracking-wide text-black",children:"Category"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] tracking-wide w-1/4 text-black",children:"Stock Level"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] tracking-wide text-right text-black",children:"Value"}),o.jsx("th",{className:"px-6 py-3 font-bold uppercase text-[10px] tracking-wide text-center print:hidden text-black",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:B.map(V=>{const be=V.quantityOnHand<=V.reorderPoint,Ie=Math.min(100,V.quantityOnHand/(V.reorderPoint*3)*100);return o.jsxs("tr",{className:"hover:bg-slate-50 group transition-colors",children:[o.jsxs("td",{className:"px-6 py-3",children:[o.jsx("div",{className:"font-bold text-black",children:V.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsx("span",{className:"text-[10px] font-mono text-slate-500 uppercase bg-slate-100 px-1 rounded border border-slate-200 print:border-black print:text-black",children:V.sku}),be&&o.jsxs("span",{className:"text-[9px] font-bold text-red-600 bg-red-50 px-1.5 rounded uppercase border border-red-100 flex items-center gap-1 print:hidden",children:[o.jsx(Ng,{size:8})," Reorder"]})]})]}),o.jsx("td",{className:"px-6 py-3",children:o.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border print:border-black print:text-black print:bg-white ${V.category==="CHEMICALS"?"bg-blue-50 text-blue-700 border-blue-100":V.category==="TOOLS"?"bg-orange-50 text-orange-700 border-orange-100":V.category==="COMPOUNDS"?"bg-purple-50 text-purple-700 border-purple-100":"bg-slate-50 text-slate-600 border-slate-200"}`,children:V.category})}),o.jsxs("td",{className:"px-6 py-3 align-middle",children:[o.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 mb-1 print:text-black",children:[o.jsxs("span",{children:[V.quantityOnHand," ",V.unit]}),o.jsxs("span",{className:"print:hidden",children:["Target: ",V.reorderPoint*3]})]}),o.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 overflow-hidden print:border print:border-black print:bg-white",children:o.jsx("div",{className:`h-full rounded-full print:bg-black ${J(V.quantityOnHand,V.reorderPoint)}`,style:{width:`${Ie}%`}})})]}),o.jsxs("td",{className:"px-6 py-3 text-right",children:[o.jsxs("div",{className:"font-bold text-black",children:["",V.costPerUnit.toLocaleString()]}),o.jsxs("div",{className:"text-[10px] text-slate-400 print:hidden",children:["Total: ",(V.costPerUnit*V.quantityOnHand).toLocaleString()]})]}),o.jsx("td",{className:"px-6 py-3 text-center print:hidden",children:o.jsxs("div",{className:"flex justify-center gap-2",children:[o.jsx("button",{onClick:()=>I(V.id),title:"Record Usage",className:"p-2 bg-slate-100 text-slate-700 hover:bg-slate-800 hover:text-white rounded transition-colors shadow-sm border border-slate-200",children:o.jsx(Ex,{size:16})}),ne&&o.jsx("button",{onClick:()=>t(V.id),title:"Remove Item",className:"p-2 bg-red-50 text-red-500 hover:bg-red-600 hover:text-white rounded transition-colors shadow-sm border border-red-100",children:o.jsx(Hs,{size:16})})]})})]},V.id)})})]})})]}),g&&ne&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4 print:hidden",children:o.jsxs("div",{className:"bg-white w-full max-w-lg rounded-lg shadow-2xl flex flex-col max-h-[90vh] text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center shrink-0",children:[o.jsx("h3",{className:"text-lg font-bold text-black uppercase",children:"New Inventory Item"}),o.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsx("div",{className:"overflow-y-auto p-6",children:o.jsxs("form",{onSubmit:X,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"SKU Code"}),o.jsx("input",{required:!0,value:W.sku,onChange:V=>oe({...W,sku:V.target.value}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white focus:bg-white text-black transition-colors outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"AUTO-GEN"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Category"}),o.jsxs("select",{value:W.category,onChange:V=>oe({...W,category:V.target.value}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-black outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"CHEMICALS",children:"Chemicals"}),o.jsx("option",{value:"COMPOUNDS",children:"Compounds"}),o.jsx("option",{value:"TOOLS",children:"Tools"}),o.jsx("option",{value:"CONSUMABLES",children:"Consumables"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Product Name"}),o.jsx("input",{required:!0,value:W.name,onChange:V=>oe({...W,name:V.target.value}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-black outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"e.g. 3M Rubbing Compound"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Initial Qty"}),o.jsx("input",{type:"number",required:!0,value:W.quantity,onChange:V=>oe({...W,quantity:parseFloat(V.target.value)}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-black outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Unit"}),o.jsx("input",{value:W.unit,onChange:V=>oe({...W,unit:V.target.value}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-black outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Ltr/Pcs"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Reorder Level"}),o.jsx("input",{type:"number",required:!0,value:W.reorder,onChange:V=>oe({...W,reorder:parseFloat(V.target.value)}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-orange-600 outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Cost Per Unit ()"}),o.jsx("input",{type:"number",step:"0.01",required:!0,value:W.cost,onChange:V=>oe({...W,cost:parseFloat(V.target.value)}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-white text-black outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-700 uppercase block mb-1",children:"Supplier"}),o.jsx("input",{value:W.supplier,readOnly:!0,className:"w-full p-2.5 border border-slate-300 rounded text-sm font-bold bg-slate-100 text-slate-500 cursor-not-allowed"})]})]}),o.jsxs("div",{className:"pt-4 flex gap-4",children:[o.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 text-slate-600 font-bold hover:bg-slate-100 rounded-md",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-[2] py-3 bg-slate-900 text-white font-bold uppercase rounded-md shadow-sm hover:bg-black",children:"Save to Stock"})]})]})})]})}),document.body),S&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4 print:hidden",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-lg shadow-2xl overflow-hidden text-black",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-black uppercase",children:"Record Usage"}),Y?o.jsxs("p",{className:"text-xs text-slate-500",children:[Y.name," (",Y.sku,")"]}):o.jsx("p",{className:"text-xs text-slate-500",children:"Select an item to record usage"})]}),o.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-red-500",children:o.jsx(gn,{size:20})})]}),o.jsx("div",{className:"p-6 space-y-4",children:Y?o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-100 mb-4 flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-bold text-blue-800 uppercase",children:"Current Stock"}),o.jsxs("span",{className:"text-lg font-black text-blue-900",children:[Y.quantityOnHand," ",Y.unit]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Quantity Used"}),o.jsx("input",{type:"number",step:"0.01",max:Y.quantityOnHand,min:"0.01",required:!0,autoFocus:!0,value:ce.quantity||"",onChange:V=>pe({...ce,quantity:parseFloat(V.target.value)}),className:"w-full p-3 border border-slate-300 rounded text-lg font-bold text-black outline-none focus:border-blue-500 bg-white"}),o.jsxs("p",{className:"text-[10px] text-slate-400 mt-1",children:["Remaining: ",(Y.quantityOnHand-(ce.quantity||0)).toFixed(2)," ",Y.unit]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Usage Notes"}),o.jsx("input",{type:"text",placeholder:"e.g. Job #T-1025 Full Detail",value:ce.notes,onChange:V=>pe({...ce,notes:V.target.value}),className:"w-full p-2.5 border border-slate-300 rounded text-sm font-medium text-black bg-white"})]}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[o.jsx("button",{type:"button",onClick:()=>E(null),className:"flex-1 py-3 text-slate-600 font-bold border border-slate-300 rounded hover:bg-slate-50",children:"Back"}),o.jsx("button",{type:"submit",className:"flex-[2] py-3 bg-red-600 text-white font-bold uppercase rounded hover:bg-red-700 shadow-sm",children:"Confirm Usage"})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Pl,{className:"absolute left-3 top-3 text-slate-400",size:16}),o.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search item by name or SKU...",value:q,onChange:V=>G(V.target.value),className:"w-full pl-10 p-3 border border-slate-300 rounded text-sm font-bold outline-none focus:border-blue-500 text-black bg-white"})]}),o.jsxs("div",{className:"max-h-60 overflow-y-auto border border-slate-200 rounded-md",children:[F.length===0&&o.jsxs("div",{className:"p-4 text-center text-slate-400 text-xs",children:['No items found matching "',q,'"']}),F.map(V=>o.jsxs("button",{onClick:()=>{E(V.id),G("")},className:"w-full text-left p-3 hover:bg-slate-50 border-b border-slate-100 last:border-0 flex justify-between items-center text-black",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-bold text-black",children:V.name}),o.jsx("div",{className:"text-[10px] text-slate-400",children:V.sku})]}),o.jsxs("div",{className:"text-xs font-bold text-slate-600 bg-slate-100 px-2 py-1 rounded",children:[V.quantityOnHand," ",V.unit]})]},V.id))]})]})})]})}),document.body),A&&ne&&rn.createPortal(o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-[9999] flex items-center justify-center p-4 print:hidden",children:o.jsxs("div",{className:"bg-white w-full max-w-xl rounded-lg shadow-2xl p-6 text-black",children:[o.jsx("h3",{className:"text-lg font-bold text-black mb-2 uppercase",children:"Bulk Stock Import"}),o.jsxs("p",{className:"text-slate-500 text-xs mb-4",children:["Paste CSV data below. Format: ",o.jsx("code",{className:"bg-slate-100 px-1 rounded border",children:"SKU, Name, Category, Qty, Reorder, Cost"})]}),o.jsx("textarea",{value:Te,onChange:V=>Ee(V.target.value),placeholder:`CHEM-001, Shampoo, CHEMICALS, 50, 10, 450
TOOL-100, MF Towel, TOOLS, 100, 20, 150`,className:"w-full h-48 p-3 border border-slate-300 rounded-md bg-slate-50 font-mono text-xs focus:border-blue-500 outline-none mb-4 text-black bg-white"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-2.5 text-slate-600 font-bold hover:bg-slate-100 rounded-md",children:"Cancel"}),o.jsx("button",{onClick:N,className:"flex-[2] py-2.5 bg-slate-900 text-white font-bold uppercase rounded-md hover:bg-black",children:"Process Import"})]})]})}),document.body)]})},mM=()=>{const{jobs:i,transactions:e,accounts:t}=Mn(),a=K.useMemo(()=>{var D;const c=new Date,h=c.getMonth(),p=c.getFullYear(),y=E=>{const q=new Date(E);return q.getMonth()===h&&q.getFullYear()===p},g=e.filter(E=>E.type==="INCOME"&&y(E.date)).reduce((E,q)=>E+q.amount,0),b=e.filter(E=>E.type==="EXPENSE"&&y(E.date)).reduce((E,q)=>E+q.amount,0),S=((D=t.find(E=>E.code==="1000"))==null?void 0:D.balance)||0,_=t.filter(E=>E.type==="ASSET"&&E.code!=="1000").reduce((E,q)=>E+q.balance,0),A=e.filter(E=>E.type==="INCOME").reduce((E,q)=>E+q.amount,0),M=e.filter(E=>E.type==="EXPENSE").reduce((E,q)=>E+q.amount,0);return{monthlyIncome:g,monthlyExpense:b,cashInHand:S,cashInBank:_,totalIncome:A,totalExpense:M}},[i,e,t]),l=({title:c,value:h,icon:p,colorClass:y,iconBgClass:g})=>o.jsxs("div",{className:`${y} rounded-lg p-4 text-white shadow-md relative overflow-hidden min-h-[140px] flex flex-col justify-between`,children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:`${g} p-3 rounded-md bg-opacity-20 bg-black`,children:o.jsx(p,{size:28,className:"text-white opacity-90"})}),o.jsx("h3",{className:"text-sm font-medium uppercase tracking-wide opacity-90 text-right",children:c})]}),o.jsx("div",{className:"mt-4",children:o.jsx("span",{className:"text-3xl font-bold tracking-tight",children:h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})})]});return o.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(l,{title:"CASH IN HAND",value:a.cashInHand,icon:Dx,colorClass:"bg-[#E91E63]",iconBgClass:"bg-pink-800"}),o.jsx(l,{title:"CASH IN BANK",value:a.cashInBank,icon:Ld,colorClass:"bg-[#43A047]",iconBgClass:"bg-green-800"}),o.jsx(l,{title:"MONTHLY INCOME",value:a.monthlyIncome,icon:H_,colorClass:"bg-[#FB8C00]",iconBgClass:"bg-orange-800"}),o.jsx(l,{title:"MONTHLY EXPENSE",value:a.monthlyExpense,icon:F_,colorClass:"bg-[#00ACC1]",iconBgClass:"bg-cyan-800"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("button",{className:"w-full bg-[#1A237E] text-white rounded-lg p-6 shadow-md hover:bg-[#151b60] transition-colors flex items-center gap-6 group",children:[o.jsx("div",{className:"p-4 bg-white/10 rounded-full group-hover:scale-110 transition-transform",children:o.jsx(No,{size:40})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-xl font-bold uppercase tracking-wider",children:"JOB CARD"}),o.jsx("p",{className:"text-indigo-200 text-sm",children:"Create & Manage Services"})]})]}),o.jsxs("button",{className:"w-full bg-[#FFA000] text-white rounded-lg p-6 shadow-md hover:bg-[#e69100] transition-colors flex items-center gap-6 group",children:[o.jsx("div",{className:"p-4 bg-white/10 rounded-full group-hover:scale-110 transition-transform",children:o.jsx(gT,{size:40})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-xl font-bold uppercase tracking-wider",children:"PAYMENT & RECEIPT"}),o.jsx("p",{className:"text-orange-100 text-sm",children:"Record Financials"})]})]})]}),o.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-lg shadow-sm border border-slate-200 flex flex-col items-center justify-center relative",children:[o.jsxs("h3",{className:"text-xl text-slate-500 font-light mb-8 uppercase tracking-widest",children:["TOTAL ",o.jsx("span",{className:"text-green-500 font-bold",children:"INCOME"})," VS ",o.jsx("span",{className:"text-red-500 font-bold",children:"EXPENSES"})]}),o.jsxs("div",{className:"relative w-64 h-64",children:[o.jsx("div",{className:"w-full h-full rounded-full",style:{background:"conic-gradient(#16A34A 0% 75%, #EF4444 75% 100%)"}}),o.jsxs("div",{className:"absolute inset-4 bg-white rounded-full flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-slate-900 font-black text-2xl",children:"INCOME"}),o.jsx("span",{className:"text-slate-600 font-bold text-xl",children:a.totalIncome.toLocaleString()})]})]}),o.jsxs("div",{className:"flex gap-8 mt-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm"}),o.jsxs("span",{className:"font-bold text-slate-600",children:["INCOME: ",a.totalIncome.toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-sm"}),o.jsxs("span",{className:"font-bold text-slate-600",children:["EXPENSE: ",a.totalExpense.toLocaleString()]})]})]}),o.jsxs("div",{className:"absolute bottom-4 right-4 bg-[#16A34A] text-white px-6 py-3 rounded shadow-lg font-medium flex items-center gap-4 animate-bounce",children:["Welcome Back Admin",o.jsx("span",{className:"cursor-pointer text-green-200 hover:text-white",children:""})]})]})]})]})},pM=()=>{const{login:i,logoUrl:e}=Mn(),[t,a]=K.useState("STAFF"),[l,c]=K.useState(""),[h,p]=K.useState(""),y=g=>{g.preventDefault(),i(t,l)?p(""):p("Invalid password. Please try again.")};return o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 font-sans",children:o.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-fade-in",children:[o.jsxs("div",{className:"bg-black p-8 text-center border-b-4 border-red-600",children:[o.jsx("img",{src:e,alt:"Logo",className:"w-20 h-20 mx-auto mb-4 object-contain"}),o.jsxs("h1",{className:"text-3xl font-black text-white tracking-tighter uppercase leading-none",style:{fontFamily:'"Inter", sans-serif'},children:["Auto",o.jsx("span",{className:"text-red-600 ml-1",children:"Dazzle"})]}),o.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mt-2 tracking-widest",children:"Enterprise Resource Planning"})]}),o.jsxs("form",{onSubmit:y,className:"p-8 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-wider",children:"Access Level"}),o.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[o.jsx("button",{type:"button",onClick:()=>a("STAFF"),className:`flex-1 py-2.5 text-xs font-bold rounded-md transition-all ${t==="STAFF"?"bg-white shadow-sm text-slate-900":"text-slate-500 hover:text-slate-700"}`,children:"Staff Portal"}),o.jsx("button",{type:"button",onClick:()=>a("SUPER_ADMIN"),className:`flex-1 py-2.5 text-xs font-bold rounded-md transition-all ${t==="SUPER_ADMIN"?"bg-red-600 shadow-sm text-white":"text-slate-500 hover:text-slate-700"}`,children:"Master Access"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-[10px] font-black uppercase text-slate-500 tracking-wider",children:"Passcode"}),o.jsxs("div",{className:"relative",children:[o.jsx(cd,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"password",required:!0,placeholder:"",value:l,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg text-sm font-bold text-slate-800 outline-none focus:ring-2 focus:ring-red-600/20 focus:border-red-600 transition-all"})]})]}),h&&o.jsxs("p",{className:"text-xs font-bold text-red-600 bg-red-50 p-3 rounded-md border border-red-100 flex items-center gap-2",children:[o.jsx(Mx,{size:14})," ",h]}),o.jsx("button",{type:"submit",className:"w-full py-4 bg-slate-900 text-white font-black uppercase rounded-lg shadow-xl hover:bg-black transition-all transform hover:-translate-y-0.5 tracking-wider",children:"Authorize Access"}),o.jsx("div",{className:"text-center pt-2",children:o.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"Secured by Auto Dazzle ERP v2.0"})})]})]})})},gM=()=>{const{isAuthenticated:i,logout:e,currentUserRole:t,logoUrl:a}=Mn(),[l,c]=K.useState("DASHBOARD"),[h,p]=K.useState(!0);if(!i)return o.jsx(pM,{});const y=({target:b,icon:S,label:_})=>o.jsxs("button",{onClick:()=>c(b),className:`relative w-full flex items-center px-4 py-3 mb-1 transition-all duration-200
        ${l===b?"bg-red-600 text-white shadow-lg z-10":"text-slate-400 hover:text-white hover:bg-slate-900"}`,children:[o.jsx(S,{size:18,strokeWidth:2,className:`${l===b?"text-white":"text-slate-400"} mr-3`}),h&&o.jsx("span",{className:"font-bold text-xs tracking-wide uppercase",children:_})]}),g=b=>t==="STAFF"?["DASHBOARD","SALES","CRM","OPERATIONS","INVENTORY"].includes(b):!0;return o.jsxs("div",{className:"flex h-screen bg-[#F1F5F9] overflow-hidden font-sans text-slate-900 print:block print:h-auto print:overflow-visible print:bg-white",children:[o.jsxs("aside",{className:`${h?"w-64":"w-20"} bg-black text-white flex flex-col transition-all duration-300 shadow-2xl z-30 print:hidden`,children:[o.jsx("div",{className:"h-20 bg-black flex items-center justify-center p-4 border-b border-white/5",children:h?o.jsxs("div",{className:"flex items-center gap-3 w-full",children:[o.jsx("img",{src:a,alt:"Logo",className:"h-10 w-10 object-contain rounded"}),o.jsxs("h1",{className:"font-black text-white text-lg tracking-tighter uppercase leading-none",style:{fontFamily:'"Inter", sans-serif'},children:["Auto",o.jsx("br",{}),o.jsx("span",{className:"text-red-600",children:"Dazzle"})]})]}):o.jsx("img",{src:a,alt:"AD",className:"h-10 w-10 object-contain rounded"})}),o.jsxs("nav",{className:"flex-1 py-4 overflow-y-auto custom-scrollbar",children:[g("DASHBOARD")&&o.jsx(y,{target:"DASHBOARD",icon:cT,label:"Dashboard"}),o.jsx("div",{className:"mt-4 mb-2 px-4 text-[9px] uppercase text-slate-600 font-black tracking-[0.2em]",children:"Management"}),g("SALES")&&o.jsx(y,{target:"SALES",icon:No,label:"Job Card"}),g("CRM")&&o.jsx(y,{target:"CRM",icon:Ux,label:"Customers"}),g("OPERATIONS")&&o.jsx(y,{target:"OPERATIONS",icon:AT,label:"Services"}),g("INVENTORY")&&o.jsx(y,{target:"INVENTORY",icon:wx,label:"Products"}),t==="SUPER_ADMIN"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mt-4 mb-2 px-4 text-[9px] uppercase text-slate-600 font-black tracking-[0.2em]",children:"Back Office"}),g("FINANCIALS")&&o.jsx(y,{target:"FINANCIALS",icon:Ld,label:"Financials"}),g("REPORTS")&&o.jsx(y,{target:"REPORTS",icon:Z_,label:"Reports"}),g("HR")&&o.jsx(y,{target:"HR",icon:K_,label:"Staff HR"}),g("PURCHASE")&&o.jsx(y,{target:"PURCHASE",icon:ST,label:"Expenses"}),g("MIGRATION")&&o.jsx(y,{target:"MIGRATION",icon:bT,label:"System"})]})]}),o.jsx("div",{className:"p-4 border-t border-white/5",children:o.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 p-3 text-slate-500 hover:text-red-500 transition-colors",children:[o.jsx(uT,{size:18}),h&&o.jsx("span",{className:"text-xs font-black uppercase",children:"Sign Out"})]})})]}),o.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden relative print:block print:overflow-visible print:h-auto print:static",children:[o.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-20 print:hidden",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>p(!h),className:"text-slate-500 hover:text-slate-800 transition-colors",children:o.jsx(fT,{size:20})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:a,alt:"Logo",className:"h-10 w-10 object-contain rounded"}),o.jsxs("h1",{className:"font-black text-slate-900 text-xl hidden md:block tracking-tighter uppercase",children:["Auto ",o.jsx("span",{className:"text-red-600",children:"Dazzle"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-slate-100 px-3 py-1.5 rounded-md border border-slate-200",children:[o.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:"Status:"}),o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]"}),o.jsx("span",{className:"text-xs font-black text-slate-800 uppercase tracking-tight",children:"Active"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 border border-slate-200 rounded-lg",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t==="SUPER_ADMIN"?"bg-red-600 text-white":"bg-slate-200 text-slate-600"}`,children:t==="SUPER_ADMIN"?o.jsx(Od,{size:18}):o.jsx(eT,{size:18})}),o.jsxs("div",{className:"hidden md:block",children:[o.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase leading-none",children:"Access Level"}),o.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-tighter leading-none mt-1",children:t==="SUPER_ADMIN"?"Master Admin":"Staff User"})]})]})})]})]}),o.jsx("div",{className:"flex-1 overflow-auto p-6 bg-[#f1f5f9] print:block print:p-0 print:m-0 print:overflow-visible print:h-auto print:bg-white",children:o.jsxs("div",{className:"max-w-[1600px] mx-auto animate-fade-in-up print:max-w-none print:w-full print:mx-0",children:[l==="DASHBOARD"&&o.jsx(mM,{}),l==="SALES"&&o.jsx(oM,{}),l==="PURCHASE"&&o.jsx(cM,{}),l==="FINANCIALS"&&o.jsx(wT,{}),l==="REPORTS"&&o.jsx(dM,{}),l==="HR"&&o.jsx(uM,{}),l==="OPERATIONS"&&o.jsx(kT,{}),l==="MIGRATION"&&o.jsx(rM,{}),l==="CRM"&&o.jsx(fM,{}),l==="INVENTORY"&&o.jsx(hM,{})]})})]})]})};function xM(){return o.jsx(O_,{children:o.jsx(gM,{})})}const cy=document.getElementById("root");if(!cy)throw new Error("Could not find root element to mount to");const yM=Dv.createRoot(cy);yM.render(o.jsx(Av.StrictMode,{children:o.jsx(xM,{})}));export{Ad as g};
